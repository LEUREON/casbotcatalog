function J1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ew(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eg={exports:{}},al={},Pg={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=Symbol.for("react.element"),tw=Symbol.for("react.portal"),nw=Symbol.for("react.fragment"),rw=Symbol.for("react.strict_mode"),sw=Symbol.for("react.profiler"),iw=Symbol.for("react.provider"),ow=Symbol.for("react.context"),aw=Symbol.for("react.forward_ref"),lw=Symbol.for("react.suspense"),cw=Symbol.for("react.memo"),uw=Symbol.for("react.lazy"),xh=Symbol.iterator;function dw(e){return e===null||typeof e!="object"?null:(e=xh&&e[xh]||e["@@iterator"],typeof e=="function"?e:null)}var Lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rg=Object.assign,Ag={};function _s(e,t,n){this.props=e,this.context=t,this.refs=Ag,this.updater=n||Lg}_s.prototype.isReactComponent={};_s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mg(){}Mg.prototype=_s.prototype;function vd(e,t,n){this.props=e,this.context=t,this.refs=Ag,this.updater=n||Lg}var wd=vd.prototype=new Mg;wd.constructor=vd;Rg(wd,_s.prototype);wd.isPureReactComponent=!0;var vh=Array.isArray,Ig=Object.prototype.hasOwnProperty,bd={current:null},$g={key:!0,ref:!0,__self:!0,__source:!0};function Fg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ig.call(t,r)&&!$g.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:oo,type:e,key:i,ref:o,props:s,_owner:bd.current}}function fw(e,t){return{$$typeof:oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kd(e){return typeof e=="object"&&e!==null&&e.$$typeof===oo}function hw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wh=/\/+/g;function Ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hw(""+e.key):t.toString(36)}function na(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case oo:case tw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ul(o,0):r,vh(s)?(n="",e!=null&&(n=e.replace(wh,"$&/")+"/"),na(s,t,n,"",function(u){return u})):s!=null&&(kd(s)&&(s=fw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",vh(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Ul(i,l);o+=na(i,t,n,c,s)}else if(c=dw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Ul(i,l++),o+=na(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function So(e,t,n){if(e==null)return e;var r=[],s=0;return na(e,r,"","",function(i){return t.call(n,i,s++)}),r}function pw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},ra={transition:null},mw={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ra,ReactCurrentOwner:bd};function Dg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:So,forEach:function(e,t,n){So(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return So(e,function(){t++}),t},toArray:function(e){return So(e,function(t){return t})||[]},only:function(e){if(!kd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=_s;Z.Fragment=nw;Z.Profiler=sw;Z.PureComponent=vd;Z.StrictMode=rw;Z.Suspense=lw;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mw;Z.act=Dg;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=bd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ig.call(t,c)&&!$g.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:oo,type:e.type,key:s,ref:i,props:r,_owner:o}};Z.createContext=function(e){return e={$$typeof:ow,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iw,_context:e},e.Consumer=e};Z.createElement=Fg;Z.createFactory=function(e){var t=Fg.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:aw,render:e}};Z.isValidElement=kd;Z.lazy=function(e){return{$$typeof:uw,_payload:{_status:-1,_result:e},_init:pw}};Z.memo=function(e,t){return{$$typeof:cw,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ra.transition;ra.transition={};try{e()}finally{ra.transition=t}};Z.unstable_act=Dg;Z.useCallback=function(e,t){return nt.current.useCallback(e,t)};Z.useContext=function(e){return nt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return nt.current.useEffect(e,t)};Z.useId=function(){return nt.current.useId()};Z.useImperativeHandle=function(e,t,n){return nt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return nt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return nt.current.useReducer(e,t,n)};Z.useRef=function(e){return nt.current.useRef(e)};Z.useState=function(e){return nt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return nt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return nt.current.useTransition()};Z.version="18.3.1";Pg.exports=Z;var h=Pg.exports;const F=ew(h),Og=J1({__proto__:null,default:F},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw=h,yw=Symbol.for("react.element"),xw=Symbol.for("react.fragment"),vw=Object.prototype.hasOwnProperty,ww=gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bw={key:!0,ref:!0,__self:!0,__source:!0};function _g(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)vw.call(t,r)&&!bw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:yw,type:e,key:i,ref:o,props:s,_owner:ww.current}}al.Fragment=xw;al.jsx=_g;al.jsxs=_g;Eg.exports=al;var a=Eg.exports,Hc={},Vg={exports:{}},bt={},Bg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,O){var z=R.length;R.push(O);e:for(;0<z;){var M=z-1>>>1,K=R[M];if(0<s(K,O))R[M]=O,R[z]=K,z=M;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var O=R[0],z=R.pop();if(z!==O){R[0]=z;e:for(var M=0,K=R.length,G=K>>>1;M<G;){var Ie=2*(M+1)-1,se=R[Ie],be=Ie+1,Ct=R[be];if(0>s(se,z))be<K&&0>s(Ct,se)?(R[M]=Ct,R[be]=z,M=be):(R[M]=se,R[Ie]=z,M=Ie);else if(be<K&&0>s(Ct,z))R[M]=Ct,R[be]=z,M=be;else break e}}return O}function s(R,O){var z=R.sortIndex-O.sortIndex;return z!==0?z:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,p=3,y=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=R)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function k(R){if(w=!1,g(R),!x)if(n(c)!==null)x=!0,Qe(j);else{var O=n(u);O!==null&&ee(k,O.startTime-R)}}function j(R,O){x=!1,w&&(w=!1,m(N),N=-1),y=!0;var z=p;try{for(g(O),f=n(c);f!==null&&(!(f.expirationTime>O)||R&&!I());){var M=f.callback;if(typeof M=="function"){f.callback=null,p=f.priorityLevel;var K=M(f.expirationTime<=O);O=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&r(c),g(O)}else r(c);f=n(c)}if(f!==null)var G=!0;else{var Ie=n(u);Ie!==null&&ee(k,Ie.startTime-O),G=!1}return G}finally{f=null,p=z,y=!1}}var C=!1,S=null,N=-1,L=5,T=-1;function I(){return!(e.unstable_now()-T<L)}function $(){if(S!==null){var R=e.unstable_now();T=R;var O=!0;try{O=S(!0,R)}finally{O?Q():(C=!1,S=null)}}else C=!1}var Q;if(typeof v=="function")Q=function(){v($)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ce=re.port2;re.port1.onmessage=$,Q=function(){ce.postMessage(null)}}else Q=function(){b($,0)};function Qe(R){S=R,C||(C=!0,Q())}function ee(R,O){N=b(function(){R(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,Qe(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var z=p;p=O;try{return R()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=p;p=R;try{return O()}finally{p=z}},e.unstable_scheduleCallback=function(R,O,z){var M=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=z+K,R={id:d++,callback:O,priorityLevel:R,startTime:z,expirationTime:K,sortIndex:-1},z>M?(R.sortIndex=z,t(u,R),n(c)===null&&R===n(u)&&(w?(m(N),N=-1):w=!0,ee(k,z-M))):(R.sortIndex=K,t(c,R),x||y||(x=!0,Qe(j))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var O=p;return function(){var z=p;p=O;try{return R.apply(this,arguments)}finally{p=z}}}})(Ug);Bg.exports=Ug;var kw=Bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw=h,wt=kw;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zg=new Set,Mi={};function Or(e,t){Ps(e,t),Ps(e+"Capture",t)}function Ps(e,t){for(Mi[e]=t,e=0;e<t.length;e++)zg.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=Object.prototype.hasOwnProperty,Cw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bh={},kh={};function Sw(e){return Kc.call(kh,e)?!0:Kc.call(bh,e)?!1:Cw.test(e)?kh[e]=!0:(bh[e]=!0,!1)}function Nw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tw(e,t,n,r){if(t===null||typeof t>"u"||Nw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var jd=/[\-:]([a-z])/g;function Cd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jd,Cd);We[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jd,Cd);We[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jd,Cd);We[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sd(e,t,n,r){var s=We.hasOwnProperty(t)?We[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tw(t,n,s,r)&&(n=null),r||s===null?Sw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=jw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,No=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),Gc=Symbol.for("react.profiler"),Wg=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),Td=Symbol.for("react.forward_ref"),qc=Symbol.for("react.suspense"),Yc=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Kg=Symbol.for("react.offscreen"),jh=Symbol.iterator;function qs(e){return e===null||typeof e!="object"?null:(e=jh&&e[jh]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,zl;function ii(e){if(zl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Wl=!1;function Hl(e,t){if(!e||Wl)return"";Wl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Wl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ii(e):""}function Ew(e){switch(e.tag){case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return ii("Suspense");case 19:return ii("SuspenseList");case 0:case 2:case 15:return e=Hl(e.type,!1),e;case 11:return e=Hl(e.type.render,!1),e;case 1:return e=Hl(e.type,!0),e;default:return""}}function Xc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case es:return"Portal";case Gc:return"Profiler";case Nd:return"StrictMode";case qc:return"Suspense";case Yc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hg:return(e.displayName||"Context")+".Consumer";case Wg:return(e._context.displayName||"Context")+".Provider";case Td:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ed:return t=e.displayName||null,t!==null?t:Xc(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return Xc(e(t))}catch{}}return null}function Pw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xc(t);case 8:return t===Nd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lw(e){var t=Gg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function To(e){e._valueTracker||(e._valueTracker=Lw(e))}function qg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qc(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ch(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yg(e,t){t=t.checked,t!=null&&Sd(e,"checked",t,!1)}function Zc(e,t){Yg(e,t);var n=tr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jc(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jc(e,t,n){(t!=="number"||ba(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oi=Array.isArray;function ws(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function eu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(oi(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tr(n)}}function Xg(e,t){var n=tr(t.value),r=tr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Th(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Eo,Zg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rw=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(e){Rw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]})});function Jg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||mi.hasOwnProperty(e)&&mi[e]?(""+t).trim():t+"px"}function ey(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Jg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Aw=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nu(e,t){if(t){if(Aw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function ru(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=null;function Pd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iu=null,bs=null,ks=null;function Eh(e){if(e=co(e)){if(typeof iu!="function")throw Error(P(280));var t=e.stateNode;t&&(t=fl(t),iu(e.stateNode,e.type,t))}}function ty(e){bs?ks?ks.push(e):ks=[e]:bs=e}function ny(){if(bs){var e=bs,t=ks;if(ks=bs=null,Eh(e),t)for(e=0;e<t.length;e++)Eh(t[e])}}function ry(e,t){return e(t)}function sy(){}var Kl=!1;function iy(e,t,n){if(Kl)return e(t,n);Kl=!0;try{return ry(e,t,n)}finally{Kl=!1,(bs!==null||ks!==null)&&(sy(),ny())}}function $i(e,t){var n=e.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var ou=!1;if(kn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){ou=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{ou=!1}function Mw(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var gi=!1,ka=null,ja=!1,au=null,Iw={onError:function(e){gi=!0,ka=e}};function $w(e,t,n,r,s,i,o,l,c){gi=!1,ka=null,Mw.apply(Iw,arguments)}function Fw(e,t,n,r,s,i,o,l,c){if($w.apply(this,arguments),gi){if(gi){var u=ka;gi=!1,ka=null}else throw Error(P(198));ja||(ja=!0,au=u)}}function _r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ph(e){if(_r(e)!==e)throw Error(P(188))}function Dw(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ph(s),e;if(i===r)return Ph(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function ay(e){return e=Dw(e),e!==null?ly(e):null}function ly(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ly(e);if(t!==null)return t;e=e.sibling}return null}var cy=wt.unstable_scheduleCallback,Lh=wt.unstable_cancelCallback,Ow=wt.unstable_shouldYield,_w=wt.unstable_requestPaint,Pe=wt.unstable_now,Vw=wt.unstable_getCurrentPriorityLevel,Ld=wt.unstable_ImmediatePriority,uy=wt.unstable_UserBlockingPriority,Ca=wt.unstable_NormalPriority,Bw=wt.unstable_LowPriority,dy=wt.unstable_IdlePriority,ll=null,Jt=null;function Uw(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Hw,zw=Math.log,Ww=Math.LN2;function Hw(e){return e>>>=0,e===0?32:31-(zw(e)/Ww|0)|0}var Po=64,Lo=4194304;function ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ai(l):(i&=o,i!==0&&(r=ai(i)))}else o=n&~s,o!==0?r=ai(o):i!==0&&(r=ai(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-zt(t),s=1<<n,r|=e[n],t&=~s;return r}function Kw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-zt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Kw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function lu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fy(){var e=Po;return Po<<=1,!(Po&4194240)&&(Po=64),e}function Gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ao(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=n}function qw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-zt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Rd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-zt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function hy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var py,Ad,my,gy,yy,cu=!1,Ro=[],Hn=null,Kn=null,Gn=null,Fi=new Map,Di=new Map,Dn=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Fi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function Xs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=co(t),t!==null&&Ad(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xw(e,t,n,r,s){switch(t){case"focusin":return Hn=Xs(Hn,e,t,n,r,s),!0;case"dragenter":return Kn=Xs(Kn,e,t,n,r,s),!0;case"mouseover":return Gn=Xs(Gn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Fi.set(i,Xs(Fi.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Di.set(i,Xs(Di.get(i)||null,e,t,n,r,s)),!0}return!1}function xy(e){var t=vr(e.target);if(t!==null){var n=_r(t);if(n!==null){if(t=n.tag,t===13){if(t=oy(n),t!==null){e.blockedOn=t,yy(e.priority,function(){my(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=uu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);su=r,n.target.dispatchEvent(r),su=null}else return t=co(n),t!==null&&Ad(t),e.blockedOn=n,!1;t.shift()}return!0}function Ah(e,t,n){sa(e)&&n.delete(t)}function Qw(){cu=!1,Hn!==null&&sa(Hn)&&(Hn=null),Kn!==null&&sa(Kn)&&(Kn=null),Gn!==null&&sa(Gn)&&(Gn=null),Fi.forEach(Ah),Di.forEach(Ah)}function Qs(e,t){e.blockedOn===t&&(e.blockedOn=null,cu||(cu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Qw)))}function Oi(e){function t(s){return Qs(s,e)}if(0<Ro.length){Qs(Ro[0],e);for(var n=1;n<Ro.length;n++){var r=Ro[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hn!==null&&Qs(Hn,e),Kn!==null&&Qs(Kn,e),Gn!==null&&Qs(Gn,e),Fi.forEach(t),Di.forEach(t),n=0;n<Dn.length;n++)r=Dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)xy(n),n.blockedOn===null&&Dn.shift()}var js=En.ReactCurrentBatchConfig,Na=!0;function Zw(e,t,n,r){var s=oe,i=js.transition;js.transition=null;try{oe=1,Md(e,t,n,r)}finally{oe=s,js.transition=i}}function Jw(e,t,n,r){var s=oe,i=js.transition;js.transition=null;try{oe=4,Md(e,t,n,r)}finally{oe=s,js.transition=i}}function Md(e,t,n,r){if(Na){var s=uu(e,t,n,r);if(s===null)rc(e,t,r,Ta,n),Rh(e,r);else if(Xw(s,e,t,n,r))r.stopPropagation();else if(Rh(e,r),t&4&&-1<Yw.indexOf(e)){for(;s!==null;){var i=co(s);if(i!==null&&py(i),i=uu(e,t,n,r),i===null&&rc(e,t,r,Ta,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rc(e,t,r,null,n)}}var Ta=null;function uu(e,t,n,r){if(Ta=null,e=Pd(r),e=vr(e),e!==null)if(t=_r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ta=e,null}function vy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vw()){case Ld:return 1;case uy:return 4;case Ca:case Bw:return 16;case dy:return 536870912;default:return 16}default:return 16}}var Vn=null,Id=null,ia=null;function wy(){if(ia)return ia;var e,t=Id,n=t.length,r,s="value"in Vn?Vn.value:Vn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ia=s.slice(e,1<r?1-r:void 0)}function oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ao(){return!0}function Mh(){return!1}function kt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ao:Mh,this.isPropagationStopped=Mh,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),t}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$d=kt(Vs),lo=we({},Vs,{view:0,detail:0}),eb=kt(lo),ql,Yl,Zs,cl=we({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(ql=e.screenX-Zs.screenX,Yl=e.screenY-Zs.screenY):Yl=ql=0,Zs=e),ql)},movementY:function(e){return"movementY"in e?e.movementY:Yl}}),Ih=kt(cl),tb=we({},cl,{dataTransfer:0}),nb=kt(tb),rb=we({},lo,{relatedTarget:0}),Xl=kt(rb),sb=we({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),ib=kt(sb),ob=we({},Vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ab=kt(ob),lb=we({},Vs,{data:0}),$h=kt(lb),cb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ub={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},db={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=db[e])?!!t[e]:!1}function Fd(){return fb}var hb=we({},lo,{key:function(e){if(e.key){var t=cb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ub[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(e){return e.type==="keypress"?oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pb=kt(hb),mb=we({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=kt(mb),gb=we({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),yb=kt(gb),xb=we({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),vb=kt(xb),wb=we({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bb=kt(wb),kb=[9,13,27,32],Dd=kn&&"CompositionEvent"in window,yi=null;kn&&"documentMode"in document&&(yi=document.documentMode);var jb=kn&&"TextEvent"in window&&!yi,by=kn&&(!Dd||yi&&8<yi&&11>=yi),Dh=" ",Oh=!1;function ky(e,t){switch(e){case"keyup":return kb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function Cb(e,t){switch(e){case"compositionend":return jy(t);case"keypress":return t.which!==32?null:(Oh=!0,Dh);case"textInput":return e=t.data,e===Dh&&Oh?null:e;default:return null}}function Sb(e,t){if(ns)return e==="compositionend"||!Dd&&ky(e,t)?(e=wy(),ia=Id=Vn=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return by&&t.locale!=="ko"?null:t.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _h(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nb[e.type]:t==="textarea"}function Cy(e,t,n,r){ty(r),t=Ea(t,"onChange"),0<t.length&&(n=new $d("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xi=null,_i=null;function Tb(e){$y(e,0)}function ul(e){var t=is(e);if(qg(t))return e}function Eb(e,t){if(e==="change")return t}var Sy=!1;if(kn){var Ql;if(kn){var Zl="oninput"in document;if(!Zl){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),Zl=typeof Vh.oninput=="function"}Ql=Zl}else Ql=!1;Sy=Ql&&(!document.documentMode||9<document.documentMode)}function Bh(){xi&&(xi.detachEvent("onpropertychange",Ny),_i=xi=null)}function Ny(e){if(e.propertyName==="value"&&ul(_i)){var t=[];Cy(t,_i,e,Pd(e)),iy(Tb,t)}}function Pb(e,t,n){e==="focusin"?(Bh(),xi=t,_i=n,xi.attachEvent("onpropertychange",Ny)):e==="focusout"&&Bh()}function Lb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(_i)}function Rb(e,t){if(e==="click")return ul(t)}function Ab(e,t){if(e==="input"||e==="change")return ul(t)}function Mb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Mb;function Vi(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Kc.call(t,s)||!Kt(e[s],t[s]))return!1}return!0}function Uh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zh(e,t){var n=Uh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uh(n)}}function Ty(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ty(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ey(){for(var e=window,t=ba();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ba(e.document)}return t}function Od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ib(e){var t=Ey(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ty(n.ownerDocument.documentElement,n)){if(r!==null&&Od(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=zh(n,i);var o=zh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $b=kn&&"documentMode"in document&&11>=document.documentMode,rs=null,du=null,vi=null,fu=!1;function Wh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fu||rs==null||rs!==ba(r)||(r=rs,"selectionStart"in r&&Od(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vi&&Vi(vi,r)||(vi=r,r=Ea(du,"onSelect"),0<r.length&&(t=new $d("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rs)))}function Mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ss={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},Jl={},Py={};kn&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function dl(e){if(Jl[e])return Jl[e];if(!ss[e])return e;var t=ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Py)return Jl[e]=t[n];return e}var Ly=dl("animationend"),Ry=dl("animationiteration"),Ay=dl("animationstart"),My=dl("transitionend"),Iy=new Map,Hh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(e,t){Iy.set(e,t),Or(t,[e])}for(var ec=0;ec<Hh.length;ec++){var tc=Hh[ec],Fb=tc.toLowerCase(),Db=tc[0].toUpperCase()+tc.slice(1);sr(Fb,"on"+Db)}sr(Ly,"onAnimationEnd");sr(Ry,"onAnimationIteration");sr(Ay,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(My,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function Kh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fw(r,t,void 0,e),e.currentTarget=null}function $y(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Kh(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Kh(s,l,u),i=c}}}if(ja)throw e=au,ja=!1,au=null,e}function fe(e,t){var n=t[yu];n===void 0&&(n=t[yu]=new Set);var r=e+"__bubble";n.has(r)||(Fy(t,e,2,!1),n.add(r))}function nc(e,t,n){var r=0;t&&(r|=4),Fy(n,e,r,t)}var Io="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Io]){e[Io]=!0,zg.forEach(function(n){n!=="selectionchange"&&(Ob.has(n)||nc(n,!1,e),nc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Io]||(t[Io]=!0,nc("selectionchange",!1,t))}}function Fy(e,t,n,r){switch(vy(t)){case 1:var s=Zw;break;case 4:s=Jw;break;default:s=Md}n=s.bind(null,t,n,e),s=void 0,!ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=vr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}iy(function(){var u=i,d=Pd(n),f=[];e:{var p=Iy.get(e);if(p!==void 0){var y=$d,x=e;switch(e){case"keypress":if(oa(n)===0)break e;case"keydown":case"keyup":y=pb;break;case"focusin":x="focus",y=Xl;break;case"focusout":x="blur",y=Xl;break;case"beforeblur":case"afterblur":y=Xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ih;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=nb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=yb;break;case Ly:case Ry:case Ay:y=ib;break;case My:y=vb;break;case"scroll":y=eb;break;case"wheel":y=bb;break;case"copy":case"cut":case"paste":y=ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Fh}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?p!==null?p+"Capture":null:p;w=[];for(var v=u,g;v!==null;){g=v;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=$i(v,m),k!=null&&w.push(Ui(v,k,g)))),b)break;v=v.return}0<w.length&&(p=new y(p,x,null,n,d),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==su&&(x=n.relatedTarget||n.fromElement)&&(vr(x)||x[jn]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?vr(x):null,x!==null&&(b=_r(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=Ih,k="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=Fh,k="onPointerLeave",m="onPointerEnter",v="pointer"),b=y==null?p:is(y),g=x==null?p:is(x),p=new w(k,v+"leave",y,n,d),p.target=b,p.relatedTarget=g,k=null,vr(d)===u&&(w=new w(m,v+"enter",x,n,d),w.target=g,w.relatedTarget=b,k=w),b=k,y&&x)t:{for(w=y,m=x,v=0,g=w;g;g=Hr(g))v++;for(g=0,k=m;k;k=Hr(k))g++;for(;0<v-g;)w=Hr(w),v--;for(;0<g-v;)m=Hr(m),g--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=Hr(w),m=Hr(m)}w=null}else w=null;y!==null&&Gh(f,p,y,w,!1),x!==null&&b!==null&&Gh(f,b,x,w,!0)}}e:{if(p=u?is(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var j=Eb;else if(_h(p))if(Sy)j=Ab;else{j=Lb;var C=Pb}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=Rb);if(j&&(j=j(e,u))){Cy(f,j,n,d);break e}C&&C(e,p,u),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Jc(p,"number",p.value)}switch(C=u?is(u):window,e){case"focusin":(_h(C)||C.contentEditable==="true")&&(rs=C,du=u,vi=null);break;case"focusout":vi=du=rs=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Wh(f,n,d);break;case"selectionchange":if($b)break;case"keydown":case"keyup":Wh(f,n,d)}var S;if(Dd)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ns?ky(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(by&&n.locale!=="ko"&&(ns||N!=="onCompositionStart"?N==="onCompositionEnd"&&ns&&(S=wy()):(Vn=d,Id="value"in Vn?Vn.value:Vn.textContent,ns=!0)),C=Ea(u,N),0<C.length&&(N=new $h(N,e,null,n,d),f.push({event:N,listeners:C}),S?N.data=S:(S=jy(n),S!==null&&(N.data=S)))),(S=jb?Cb(e,n):Sb(e,n))&&(u=Ea(u,"onBeforeInput"),0<u.length&&(d=new $h("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}$y(f,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ea(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$i(e,n),i!=null&&r.unshift(Ui(e,i,s)),i=$i(e,t),i!=null&&r.push(Ui(e,i,s))),e=e.return}return r}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=$i(n,i),c!=null&&o.unshift(Ui(n,c,l))):s||(c=$i(n,i),c!=null&&o.push(Ui(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var _b=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function qh(e){return(typeof e=="string"?e:""+e).replace(_b,`
`).replace(Vb,"")}function $o(e,t,n){if(t=qh(t),qh(e)!==t&&n)throw Error(P(425))}function Pa(){}var hu=null,pu=null;function mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,Ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(zb)}:gu;function zb(e){setTimeout(function(){throw e})}function sc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Oi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Oi(t)}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Bs,zi="__reactProps$"+Bs,jn="__reactContainer$"+Bs,yu="__reactEvents$"+Bs,Wb="__reactListeners$"+Bs,Hb="__reactHandles$"+Bs;function vr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xh(e);e!==null;){if(n=e[Zt])return n;e=Xh(e)}return t}e=n,n=e.parentNode}return null}function co(e){return e=e[Zt]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function fl(e){return e[zi]||null}var xu=[],os=-1;function ir(e){return{current:e}}function he(e){0>os||(e.current=xu[os],xu[os]=null,os--)}function ue(e,t){os++,xu[os]=e.current,e.current=t}var nr={},Xe=ir(nr),ct=ir(!1),Pr=nr;function Ls(e,t){var n=e.type.contextTypes;if(!n)return nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ut(e){return e=e.childContextTypes,e!=null}function La(){he(ct),he(Xe)}function Qh(e,t,n){if(Xe.current!==nr)throw Error(P(168));ue(Xe,t),ue(ct,n)}function Dy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,Pw(e)||"Unknown",s));return we({},n,r)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,Pr=Xe.current,ue(Xe,e),ue(ct,ct.current),!0}function Zh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Dy(e,t,Pr),r.__reactInternalMemoizedMergedChildContext=e,he(ct),he(Xe),ue(Xe,e)):he(ct),ue(ct,n)}var mn=null,hl=!1,ic=!1;function Oy(e){mn===null?mn=[e]:mn.push(e)}function Kb(e){hl=!0,Oy(e)}function or(){if(!ic&&mn!==null){ic=!0;var e=0,t=oe;try{var n=mn;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mn=null,hl=!1}catch(s){throw mn!==null&&(mn=mn.slice(e+1)),cy(Ld,or),s}finally{oe=t,ic=!1}}return null}var as=[],ls=0,Aa=null,Ma=0,Et=[],Pt=0,Lr=null,yn=1,xn="";function hr(e,t){as[ls++]=Ma,as[ls++]=Aa,Aa=e,Ma=t}function _y(e,t,n){Et[Pt++]=yn,Et[Pt++]=xn,Et[Pt++]=Lr,Lr=e;var r=yn;e=xn;var s=32-zt(r)-1;r&=~(1<<s),n+=1;var i=32-zt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yn=1<<32-zt(t)+s|n<<s|r,xn=i+e}else yn=1<<i|n<<s|r,xn=e}function _d(e){e.return!==null&&(hr(e,1),_y(e,1,0))}function Vd(e){for(;e===Aa;)Aa=as[--ls],as[ls]=null,Ma=as[--ls],as[ls]=null;for(;e===Lr;)Lr=Et[--Pt],Et[Pt]=null,xn=Et[--Pt],Et[Pt]=null,yn=Et[--Pt],Et[Pt]=null}var xt=null,yt=null,pe=!1,Vt=null;function Vy(e,t){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,yt=qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Lr!==null?{id:yn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,yt=null,!0):!1;default:return!1}}function vu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wu(e){if(pe){var t=yt;if(t){var n=t;if(!Jh(e,t)){if(vu(e))throw Error(P(418));t=qn(n.nextSibling);var r=xt;t&&Jh(e,t)?Vy(r,n):(e.flags=e.flags&-4097|2,pe=!1,xt=e)}}else{if(vu(e))throw Error(P(418));e.flags=e.flags&-4097|2,pe=!1,xt=e}}}function ep(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Fo(e){if(e!==xt)return!1;if(!pe)return ep(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mu(e.type,e.memoizedProps)),t&&(t=yt)){if(vu(e))throw By(),Error(P(418));for(;t;)Vy(e,t),t=qn(t.nextSibling)}if(ep(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=xt?qn(e.stateNode.nextSibling):null;return!0}function By(){for(var e=yt;e;)e=qn(e.nextSibling)}function Rs(){yt=xt=null,pe=!1}function Bd(e){Vt===null?Vt=[e]:Vt.push(e)}var Gb=En.ReactCurrentBatchConfig;function Js(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Do(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tp(e){var t=e._init;return t(e._payload)}function Uy(e){function t(m,v){if(e){var g=m.deletions;g===null?(m.deletions=[v],m.flags|=16):g.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=Zn(m,v),m.index=0,m.sibling=null,m}function i(m,v,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<v?(m.flags|=2,v):g):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,v,g,k){return v===null||v.tag!==6?(v=fc(g,m.mode,k),v.return=m,v):(v=s(v,g),v.return=m,v)}function c(m,v,g,k){var j=g.type;return j===ts?d(m,v,g.props.children,k,g.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$n&&tp(j)===v.type)?(k=s(v,g.props),k.ref=Js(m,v,g),k.return=m,k):(k=ha(g.type,g.key,g.props,null,m.mode,k),k.ref=Js(m,v,g),k.return=m,k)}function u(m,v,g,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=hc(g,m.mode,k),v.return=m,v):(v=s(v,g.children||[]),v.return=m,v)}function d(m,v,g,k,j){return v===null||v.tag!==7?(v=Nr(g,m.mode,k,j),v.return=m,v):(v=s(v,g),v.return=m,v)}function f(m,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=fc(""+v,m.mode,g),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case No:return g=ha(v.type,v.key,v.props,null,m.mode,g),g.ref=Js(m,null,v),g.return=m,g;case es:return v=hc(v,m.mode,g),v.return=m,v;case $n:var k=v._init;return f(m,k(v._payload),g)}if(oi(v)||qs(v))return v=Nr(v,m.mode,g,null),v.return=m,v;Do(m,v)}return null}function p(m,v,g,k){var j=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(m,v,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case No:return g.key===j?c(m,v,g,k):null;case es:return g.key===j?u(m,v,g,k):null;case $n:return j=g._init,p(m,v,j(g._payload),k)}if(oi(g)||qs(g))return j!==null?null:d(m,v,g,k,null);Do(m,g)}return null}function y(m,v,g,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,l(v,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case No:return m=m.get(k.key===null?g:k.key)||null,c(v,m,k,j);case es:return m=m.get(k.key===null?g:k.key)||null,u(v,m,k,j);case $n:var C=k._init;return y(m,v,g,C(k._payload),j)}if(oi(k)||qs(k))return m=m.get(g)||null,d(v,m,k,j,null);Do(v,k)}return null}function x(m,v,g,k){for(var j=null,C=null,S=v,N=v=0,L=null;S!==null&&N<g.length;N++){S.index>N?(L=S,S=null):L=S.sibling;var T=p(m,S,g[N],k);if(T===null){S===null&&(S=L);break}e&&S&&T.alternate===null&&t(m,S),v=i(T,v,N),C===null?j=T:C.sibling=T,C=T,S=L}if(N===g.length)return n(m,S),pe&&hr(m,N),j;if(S===null){for(;N<g.length;N++)S=f(m,g[N],k),S!==null&&(v=i(S,v,N),C===null?j=S:C.sibling=S,C=S);return pe&&hr(m,N),j}for(S=r(m,S);N<g.length;N++)L=y(S,m,N,g[N],k),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?N:L.key),v=i(L,v,N),C===null?j=L:C.sibling=L,C=L);return e&&S.forEach(function(I){return t(m,I)}),pe&&hr(m,N),j}function w(m,v,g,k){var j=qs(g);if(typeof j!="function")throw Error(P(150));if(g=j.call(g),g==null)throw Error(P(151));for(var C=j=null,S=v,N=v=0,L=null,T=g.next();S!==null&&!T.done;N++,T=g.next()){S.index>N?(L=S,S=null):L=S.sibling;var I=p(m,S,T.value,k);if(I===null){S===null&&(S=L);break}e&&S&&I.alternate===null&&t(m,S),v=i(I,v,N),C===null?j=I:C.sibling=I,C=I,S=L}if(T.done)return n(m,S),pe&&hr(m,N),j;if(S===null){for(;!T.done;N++,T=g.next())T=f(m,T.value,k),T!==null&&(v=i(T,v,N),C===null?j=T:C.sibling=T,C=T);return pe&&hr(m,N),j}for(S=r(m,S);!T.done;N++,T=g.next())T=y(S,m,N,T.value,k),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?N:T.key),v=i(T,v,N),C===null?j=T:C.sibling=T,C=T);return e&&S.forEach(function($){return t(m,$)}),pe&&hr(m,N),j}function b(m,v,g,k){if(typeof g=="object"&&g!==null&&g.type===ts&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case No:e:{for(var j=g.key,C=v;C!==null;){if(C.key===j){if(j=g.type,j===ts){if(C.tag===7){n(m,C.sibling),v=s(C,g.props.children),v.return=m,m=v;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$n&&tp(j)===C.type){n(m,C.sibling),v=s(C,g.props),v.ref=Js(m,C,g),v.return=m,m=v;break e}n(m,C);break}else t(m,C);C=C.sibling}g.type===ts?(v=Nr(g.props.children,m.mode,k,g.key),v.return=m,m=v):(k=ha(g.type,g.key,g.props,null,m.mode,k),k.ref=Js(m,v,g),k.return=m,m=k)}return o(m);case es:e:{for(C=g.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(m,v.sibling),v=s(v,g.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=hc(g,m.mode,k),v.return=m,m=v}return o(m);case $n:return C=g._init,b(m,v,C(g._payload),k)}if(oi(g))return x(m,v,g,k);if(qs(g))return w(m,v,g,k);Do(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,g),v.return=m,m=v):(n(m,v),v=fc(g,m.mode,k),v.return=m,m=v),o(m)):n(m,v)}return b}var As=Uy(!0),zy=Uy(!1),Ia=ir(null),$a=null,cs=null,Ud=null;function zd(){Ud=cs=$a=null}function Wd(e){var t=Ia.current;he(Ia),e._currentValue=t}function bu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){$a=e,Ud=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(Ud!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if($a===null)throw Error(P(308));cs=e,$a.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var wr=null;function Hd(e){wr===null?wr=[e]:wr.push(e)}function Wy(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Hd(t)):(n.next=s.next,s.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fn=!1;function Kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Cn(e,n)}return s=r.interleaved,s===null?(t.next=t,Hd(r)):(t.next=s.next,s.next=t),r.interleaved=t,Cn(e,n)}function aa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rd(e,n)}}function np(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var s=e.updateQueue;Fn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,y=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(p=t,y=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(y,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(y,f,p):x,p==null)break e;f=we({},f,p);break e;case 2:Fn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ar|=o,e.lanes=o,e.memoizedState=f}}function rp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var uo={},en=ir(uo),Wi=ir(uo),Hi=ir(uo);function br(e){if(e===uo)throw Error(P(174));return e}function Gd(e,t){switch(ue(Hi,t),ue(Wi,e),ue(en,uo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tu(t,e)}he(en),ue(en,t)}function Ms(){he(en),he(Wi),he(Hi)}function Ky(e){br(Hi.current);var t=br(en.current),n=tu(t,e.type);t!==n&&(ue(Wi,e),ue(en,n))}function qd(e){Wi.current===e&&(he(en),he(Wi))}var ge=ir(0);function Da(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oc=[];function Yd(){for(var e=0;e<oc.length;e++)oc[e]._workInProgressVersionPrimary=null;oc.length=0}var la=En.ReactCurrentDispatcher,ac=En.ReactCurrentBatchConfig,Rr=0,ve=null,$e=null,Oe=null,Oa=!1,wi=!1,Ki=0,qb=0;function He(){throw Error(P(321))}function Xd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function Qd(e,t,n,r,s,i){if(Rr=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,la.current=e===null||e.memoizedState===null?Zb:Jb,e=n(r,s),wi){i=0;do{if(wi=!1,Ki=0,25<=i)throw Error(P(301));i+=1,Oe=$e=null,t.updateQueue=null,la.current=e2,e=n(r,s)}while(wi)}if(la.current=_a,t=$e!==null&&$e.next!==null,Rr=0,Oe=$e=ve=null,Oa=!1,t)throw Error(P(300));return e}function Zd(){var e=Ki!==0;return Ki=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ve.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function Mt(){if($e===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Oe===null?ve.memoizedState:Oe.next;if(t!==null)Oe=t,$e=e;else{if(e===null)throw Error(P(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Oe===null?ve.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Gi(e,t){return typeof t=="function"?t(e):t}function lc(e){var t=Mt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Rr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ve.lanes|=d,Ar|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Kt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ve.lanes|=i,Ar|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cc(e){var t=Mt(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Kt(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gy(){}function qy(e,t){var n=ve,r=Mt(),s=t(),i=!Kt(r.memoizedState,s);if(i&&(r.memoizedState=s,at=!0),r=r.queue,Jd(Qy.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,qi(9,Xy.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(P(349));Rr&30||Yy(n,t,s)}return s}function Yy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Xy(e,t,n,r){t.value=n,t.getSnapshot=r,Zy(t)&&Jy(e)}function Qy(e,t,n){return n(function(){Zy(t)&&Jy(e)})}function Zy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function Jy(e){var t=Cn(e,1);t!==null&&Wt(t,e,1,-1)}function sp(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=Qb.bind(null,ve,e),[t.memoizedState,e]}function qi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function e0(){return Mt().memoizedState}function ca(e,t,n,r){var s=Qt();ve.flags|=e,s.memoizedState=qi(1|t,n,void 0,r===void 0?null:r)}function pl(e,t,n,r){var s=Mt();r=r===void 0?null:r;var i=void 0;if($e!==null){var o=$e.memoizedState;if(i=o.destroy,r!==null&&Xd(r,o.deps)){s.memoizedState=qi(t,n,i,r);return}}ve.flags|=e,s.memoizedState=qi(1|t,n,i,r)}function ip(e,t){return ca(8390656,8,e,t)}function Jd(e,t){return pl(2048,8,e,t)}function t0(e,t){return pl(4,2,e,t)}function n0(e,t){return pl(4,4,e,t)}function r0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s0(e,t,n){return n=n!=null?n.concat([e]):null,pl(4,4,r0.bind(null,t,e),n)}function ef(){}function i0(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function o0(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function a0(e,t,n){return Rr&21?(Kt(n,t)||(n=fy(),ve.lanes|=n,Ar|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function Yb(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=ac.transition;ac.transition={};try{e(!1),t()}finally{oe=n,ac.transition=r}}function l0(){return Mt().memoizedState}function Xb(e,t,n){var r=Qn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},c0(e))u0(t,n);else if(n=Wy(e,t,n,r),n!==null){var s=et();Wt(n,e,r,s),d0(n,t,r)}}function Qb(e,t,n){var r=Qn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(c0(e))u0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Kt(l,o)){var c=t.interleaved;c===null?(s.next=s,Hd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Wy(e,t,s,r),n!==null&&(s=et(),Wt(n,e,r,s),d0(n,t,r))}}function c0(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function u0(e,t){wi=Oa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function d0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rd(e,n)}}var _a={readContext:At,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Zb={readContext:At,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:ip,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ca(4194308,4,r0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ca(4194308,4,e,t)},useInsertionEffect:function(e,t){return ca(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xb.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:sp,useDebugValue:ef,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=sp(!1),t=e[0];return e=Yb.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,s=Qt();if(pe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),_e===null)throw Error(P(349));Rr&30||Yy(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,ip(Qy.bind(null,r,i,e),[e]),r.flags|=2048,qi(9,Xy.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qt(),t=_e.identifierPrefix;if(pe){var n=xn,r=yn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ki++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jb={readContext:At,useCallback:i0,useContext:At,useEffect:Jd,useImperativeHandle:s0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:o0,useReducer:lc,useRef:e0,useState:function(){return lc(Gi)},useDebugValue:ef,useDeferredValue:function(e){var t=Mt();return a0(t,$e.memoizedState,e)},useTransition:function(){var e=lc(Gi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Gy,useSyncExternalStore:qy,useId:l0,unstable_isNewReconciler:!1},e2={readContext:At,useCallback:i0,useContext:At,useEffect:Jd,useImperativeHandle:s0,useInsertionEffect:t0,useLayoutEffect:n0,useMemo:o0,useReducer:cc,useRef:e0,useState:function(){return cc(Gi)},useDebugValue:ef,useDeferredValue:function(e){var t=Mt();return $e===null?t.memoizedState=e:a0(t,$e.memoizedState,e)},useTransition:function(){var e=cc(Gi)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Gy,useSyncExternalStore:qy,useId:l0,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ku(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),s=Qn(e),i=vn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Yn(e,i,s),t!==null&&(Wt(t,e,s,r),aa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),s=Qn(e),i=vn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yn(e,i,s),t!==null&&(Wt(t,e,s,r),aa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=Qn(e),s=vn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Yn(e,s,r),t!==null&&(Wt(t,e,r,n),aa(t,e,r))}};function op(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vi(n,r)||!Vi(s,i):!0}function f0(e,t,n){var r=!1,s=nr,i=t.contextType;return typeof i=="object"&&i!==null?i=At(i):(s=ut(t)?Pr:Xe.current,r=t.contextTypes,i=(r=r!=null)?Ls(e,s):nr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ap(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function ju(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Kd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=At(i):(i=ut(t)?Pr:Xe.current,s.context=Ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ku(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ml.enqueueReplaceState(s,s.state,null),Fa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Is(e,t){try{var n="",r=t;do n+=Ew(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function uc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var t2=typeof WeakMap=="function"?WeakMap:Map;function h0(e,t,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ba||(Ba=!0,Iu=r),Cu(e,t)},n}function p0(e,t,n){n=vn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Cu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cu(e,t),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function lp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new t2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=m2.bind(null,e,t,n),t.then(e,e))}function cp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function up(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vn(-1,1),t.tag=2,Yn(n,t,1))),n.lanes|=1),e)}var n2=En.ReactCurrentOwner,at=!1;function Ze(e,t,n,r){t.child=e===null?zy(t,null,n,r):As(t,e.child,n,r)}function dp(e,t,n,r,s){n=n.render;var i=t.ref;return Cs(t,s),r=Qd(e,t,n,r,i,s),n=Zd(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(pe&&n&&_d(t),t.flags|=1,Ze(e,t,r,s),t.child)}function fp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!cf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,m0(e,t,i,r,s)):(e=ha(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vi,n(o,r)&&e.ref===t.ref)return Sn(e,t,s)}return t.flags|=1,e=Zn(i,r),e.ref=t.ref,e.return=t,t.child=e}function m0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Vi(i,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,Sn(e,t,s)}return Su(e,t,n,r,s)}function g0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ds,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(ds,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(ds,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(ds,mt),mt|=r;return Ze(e,t,s,n),t.child}function y0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,s){var i=ut(n)?Pr:Xe.current;return i=Ls(t,i),Cs(t,s),n=Qd(e,t,n,r,i,s),r=Zd(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(pe&&r&&_d(t),t.flags|=1,Ze(e,t,n,s),t.child)}function hp(e,t,n,r,s){if(ut(n)){var i=!0;Ra(t)}else i=!1;if(Cs(t,s),t.stateNode===null)ua(e,t),f0(t,n,r),ju(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=ut(n)?Pr:Xe.current,u=Ls(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ap(t,o,r,u),Fn=!1;var p=t.memoizedState;o.state=p,Fa(t,r,o,s),c=t.memoizedState,l!==r||p!==c||ct.current||Fn?(typeof d=="function"&&(ku(t,n,d,r),c=t.memoizedState),(l=Fn||op(t,n,l,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Hy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ot(t.type,l),o.props=u,f=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=At(c):(c=ut(n)?Pr:Xe.current,c=Ls(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&ap(t,o,r,c),Fn=!1,p=t.memoizedState,o.state=p,Fa(t,r,o,s);var x=t.memoizedState;l!==f||p!==x||ct.current||Fn?(typeof y=="function"&&(ku(t,n,y,r),x=t.memoizedState),(u=Fn||op(t,n,u,r,p,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,i,s)}function Nu(e,t,n,r,s,i){y0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Zh(t,n,!1),Sn(e,t,i);r=t.stateNode,n2.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=As(t,e.child,null,i),t.child=As(t,null,l,i)):Ze(e,t,l,i),t.memoizedState=r.state,s&&Zh(t,n,!0),t.child}function x0(e){var t=e.stateNode;t.pendingContext?Qh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qh(e,t.context,!1),Gd(e,t.containerInfo)}function pp(e,t,n,r,s){return Rs(),Bd(s),t.flags|=256,Ze(e,t,n,r),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function v0(e,t,n){var r=t.pendingProps,s=ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ge,s&1),e===null)return wu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xl(o,r,0,null),e=Nr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Eu(n),t.memoizedState=Tu,e):tf(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return r2(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Zn(l,i):(i=Nr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Eu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Tu,r}return i=e.child,e=i.sibling,r=Zn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tf(e,t){return t=xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oo(e,t,n,r){return r!==null&&Bd(r),As(t,e.child,null,n),e=tf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=uc(Error(P(422))),Oo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xl({mode:"visible",children:r.children},s,0,null),i=Nr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&As(t,e.child,null,o),t.child.memoizedState=Eu(o),t.memoizedState=Tu,i);if(!(t.mode&1))return Oo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(P(419)),r=uc(i,r,void 0),Oo(e,t,o,r)}if(l=(o&e.childLanes)!==0,at||l){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Cn(e,s),Wt(r,e,s,-1))}return lf(),r=uc(Error(P(421))),Oo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=g2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yt=qn(s.nextSibling),xt=t,pe=!0,Vt=null,e!==null&&(Et[Pt++]=yn,Et[Pt++]=xn,Et[Pt++]=Lr,yn=e.id,xn=e.overflow,Lr=t),t=tf(t,r.children),t.flags|=4096,t)}function mp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bu(e.return,t,n)}function dc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function w0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ze(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mp(e,n,t);else if(e.tag===19)mp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Da(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),dc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Da(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}dc(t,!0,n,null,i);break;case"together":dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ua(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function s2(e,t,n){switch(t.tag){case 3:x0(t),Rs();break;case 5:Ky(t);break;case 1:ut(t.type)&&Ra(t);break;case 4:Gd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(Ia,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?v0(e,t,n):(ue(ge,ge.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return w0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,g0(e,t,n)}return Sn(e,t,n)}var b0,Pu,k0,j0;b0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pu=function(){};k0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,br(en.current);var i=null;switch(n){case"input":s=Qc(e,s),r=Qc(e,r),i=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":s=eu(e,s),r=eu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Pa)}nu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};j0=function(e,t,n,r){n!==r&&(t.flags|=4)};function ei(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function i2(e,t,n){var r=t.pendingProps;switch(Vd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return ut(t.type)&&La(),Ke(t),null;case 3:return r=t.stateNode,Ms(),he(ct),he(Xe),Yd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(Du(Vt),Vt=null))),Pu(e,t),Ke(t),null;case 5:qd(t);var s=br(Hi.current);if(n=t.type,e!==null&&t.stateNode!=null)k0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ke(t),null}if(e=br(en.current),Fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zt]=t,r[zi]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<li.length;s++)fe(li[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Ch(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":Nh(r,i),fe("invalid",r)}nu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&$o(r.textContent,l,e),s=["children",""+l]):Mi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":To(r),Sh(r,i,!0);break;case"textarea":To(r),Th(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pa)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[zi]=r,b0(e,t,!1,!1),t.stateNode=e;e:{switch(o=ru(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<li.length;s++)fe(li[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Ch(e,r),s=Qc(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Nh(e,r),s=eu(e,r),fe("invalid",e);break;default:s=r}nu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ey(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Zg(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ii(e,c):typeof c=="number"&&Ii(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&fe("scroll",e):c!=null&&Sd(e,i,c,o))}switch(n){case"input":To(e),Sh(e,r,!1);break;case"textarea":To(e),Th(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ws(e,!!r.multiple,i,!1):r.defaultValue!=null&&ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Pa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)j0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=br(Hi.current),br(en.current),Fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(i=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:$o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$o(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return Ke(t),null;case 13:if(he(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&yt!==null&&t.mode&1&&!(t.flags&128))By(),Rs(),t.flags|=98560,i=!1;else if(i=Fo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Zt]=t}else Rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else Vt!==null&&(Du(Vt),Vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Fe===0&&(Fe=3):lf())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Ms(),Pu(e,t),e===null&&Bi(t.stateNode.containerInfo),Ke(t),null;case 10:return Wd(t.type._context),Ke(t),null;case 17:return ut(t.type)&&La(),Ke(t),null;case 19:if(he(ge),i=t.memoizedState,i===null)return Ke(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ei(i,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Da(e),o!==null){for(t.flags|=128,ei(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>$s&&(t.flags|=128,r=!0,ei(i,!1),t.lanes=4194304)}else{if(!r)if(e=Da(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return Ke(t),null}else 2*Pe()-i.renderingStartTime>$s&&n!==1073741824&&(t.flags|=128,r=!0,ei(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return af(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function o2(e,t){switch(Vd(t),t.tag){case 1:return ut(t.type)&&La(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),he(ct),he(Xe),Yd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qd(t),null;case 13:if(he(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ge),null;case 4:return Ms(),null;case 10:return Wd(t.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var _o=!1,Ge=!1,a2=typeof WeakSet=="function"?WeakSet:Set,D=null;function us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Lu(e,t,n){try{n()}catch(r){Se(e,t,r)}}var gp=!1;function l2(e,t){if(hu=Na,e=Ey(),Od(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=o),p===i&&++d===r&&(c=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pu={focusedElem:e,selectionRange:n},Na=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ot(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){Se(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return x=gp,gp=!1,x}function bi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lu(t,n,i)}s=s.next}while(s!==r)}}function gl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ru(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function C0(e){var t=e.alternate;t!==null&&(e.alternate=null,C0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[zi],delete t[yu],delete t[Wb],delete t[Hb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function S0(e){return e.tag===5||e.tag===3||e.tag===4}function yp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||S0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pa));else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}function Mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}var Ue=null,_t=!1;function Ln(e,t,n){for(n=n.child;n!==null;)N0(e,t,n),n=n.sibling}function N0(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 5:Ge||us(n,t);case 6:var r=Ue,s=_t;Ue=null,Ln(e,t,n),Ue=r,_t=s,Ue!==null&&(_t?(e=Ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ue.removeChild(n.stateNode));break;case 18:Ue!==null&&(_t?(e=Ue,n=n.stateNode,e.nodeType===8?sc(e.parentNode,n):e.nodeType===1&&sc(e,n),Oi(e)):sc(Ue,n.stateNode));break;case 4:r=Ue,s=_t,Ue=n.stateNode.containerInfo,_t=!0,Ln(e,t,n),Ue=r,_t=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lu(n,t,o),s=s.next}while(s!==r)}Ln(e,t,n);break;case 1:if(!Ge&&(us(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}Ln(e,t,n);break;case 21:Ln(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,Ln(e,t,n),Ge=r):Ln(e,t,n);break;default:Ln(e,t,n)}}function xp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new a2),t.forEach(function(r){var s=y2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,_t=!1;break e;case 3:Ue=l.stateNode.containerInfo,_t=!0;break e;case 4:Ue=l.stateNode.containerInfo,_t=!0;break e}l=l.return}if(Ue===null)throw Error(P(160));N0(i,o,s),Ue=null,_t=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)T0(t,e),t=t.sibling}function T0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),qt(e),r&4){try{bi(3,e,e.return),gl(3,e)}catch(w){Se(e,e.return,w)}try{bi(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:$t(t,e),qt(e),r&512&&n!==null&&us(n,n.return);break;case 5:if($t(t,e),qt(e),r&512&&n!==null&&us(n,n.return),e.flags&32){var s=e.stateNode;try{Ii(s,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Yg(s,i),ru(l,o);var u=ru(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?ey(s,f):d==="dangerouslySetInnerHTML"?Zg(s,f):d==="children"?Ii(s,f):Sd(s,d,f,u)}switch(l){case"input":Zc(s,i);break;case"textarea":Xg(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ws(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?ws(s,!!i.multiple,i.defaultValue,!0):ws(s,!!i.multiple,i.multiple?[]:"",!1))}s[zi]=i}catch(w){Se(e,e.return,w)}}break;case 6:if($t(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Se(e,e.return,w)}}break;case 3:if($t(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oi(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:$t(t,e),qt(e);break;case 13:$t(t,e),qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sf=Pe())),r&4&&xp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||d,$t(t,e),Ge=u):$t(t,e),qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(D=e,d=e.child;d!==null;){for(f=D=d;D!==null;){switch(p=D,y=p.child,p.tag){case 0:case 11:case 14:case 15:bi(4,p,p.return);break;case 1:us(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:us(p,p.return);break;case 22:if(p.memoizedState!==null){wp(f);continue}}y!==null?(y.return=p,D=y):wp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Jg("display",o))}catch(w){Se(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Se(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$t(t,e),qt(e),r&4&&xp(e);break;case 21:break;default:$t(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(S0(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ii(s,""),r.flags&=-33);var i=yp(e);Mu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=yp(e);Au(e,l,o);break;default:throw Error(P(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c2(e,t,n){D=e,E0(e)}function E0(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||_o;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ge;l=_o;var u=Ge;if(_o=o,(Ge=c)&&!u)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?bp(s):c!==null?(c.return=o,D=c):bp(s);for(;i!==null;)D=i,E0(i),i=i.sibling;D=s,_o=l,Ge=u}vp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):vp(e)}}function vp(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||gl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ge||t.flags&512&&Ru(t)}catch(p){Se(t,t.return,p)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function wp(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function bp(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gl(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Se(t,s,c)}}var i=t.return;try{Ru(t)}catch(c){Se(t,i,c)}break;case 5:var o=t.return;try{Ru(t)}catch(c){Se(t,o,c)}}}catch(c){Se(t,t.return,c)}if(t===e){D=null;break}var l=t.sibling;if(l!==null){l.return=t.return,D=l;break}D=t.return}}var u2=Math.ceil,Va=En.ReactCurrentDispatcher,nf=En.ReactCurrentOwner,Rt=En.ReactCurrentBatchConfig,ne=0,_e=null,Me=null,ze=0,mt=0,ds=ir(0),Fe=0,Yi=null,Ar=0,yl=0,rf=0,ki=null,ot=null,sf=0,$s=1/0,pn=null,Ba=!1,Iu=null,Xn=null,Vo=!1,Bn=null,Ua=0,ji=0,$u=null,da=-1,fa=0;function et(){return ne&6?Pe():da!==-1?da:da=Pe()}function Qn(e){return e.mode&1?ne&2&&ze!==0?ze&-ze:Gb.transition!==null?(fa===0&&(fa=fy()),fa):(e=oe,e!==0||(e=window.event,e=e===void 0?16:vy(e.type)),e):1}function Wt(e,t,n,r){if(50<ji)throw ji=0,$u=null,Error(P(185));ao(e,n,r),(!(ne&2)||e!==_e)&&(e===_e&&(!(ne&2)&&(yl|=n),Fe===4&&On(e,ze)),dt(e,r),n===1&&ne===0&&!(t.mode&1)&&($s=Pe()+500,hl&&or()))}function dt(e,t){var n=e.callbackNode;Gw(e,t);var r=Sa(e,e===_e?ze:0);if(r===0)n!==null&&Lh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lh(n),t===1)e.tag===0?Kb(kp.bind(null,e)):Oy(kp.bind(null,e)),Ub(function(){!(ne&6)&&or()}),n=null;else{switch(hy(r)){case 1:n=Ld;break;case 4:n=uy;break;case 16:n=Ca;break;case 536870912:n=dy;break;default:n=Ca}n=F0(n,P0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function P0(e,t){if(da=-1,fa=0,ne&6)throw Error(P(327));var n=e.callbackNode;if(Ss()&&e.callbackNode!==n)return null;var r=Sa(e,e===_e?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=za(e,r);else{t=r;var s=ne;ne|=2;var i=R0();(_e!==e||ze!==t)&&(pn=null,$s=Pe()+500,Sr(e,t));do try{h2();break}catch(l){L0(e,l)}while(!0);zd(),Va.current=i,ne=s,Me!==null?t=0:(_e=null,ze=0,t=Fe)}if(t!==0){if(t===2&&(s=lu(e),s!==0&&(r=s,t=Fu(e,s))),t===1)throw n=Yi,Sr(e,0),On(e,r),dt(e,Pe()),n;if(t===6)On(e,r);else{if(s=e.current.alternate,!(r&30)&&!d2(s)&&(t=za(e,r),t===2&&(i=lu(e),i!==0&&(r=i,t=Fu(e,i))),t===1))throw n=Yi,Sr(e,0),On(e,r),dt(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:pr(e,ot,pn);break;case 3:if(On(e,r),(r&130023424)===r&&(t=sf+500-Pe(),10<t)){if(Sa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=gu(pr.bind(null,e,ot,pn),t);break}pr(e,ot,pn);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-zt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u2(r/1960))-r,10<r){e.timeoutHandle=gu(pr.bind(null,e,ot,pn),r);break}pr(e,ot,pn);break;case 5:pr(e,ot,pn);break;default:throw Error(P(329))}}}return dt(e,Pe()),e.callbackNode===n?P0.bind(null,e):null}function Fu(e,t){var n=ki;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=za(e,t),e!==2&&(t=ot,ot=n,t!==null&&Du(t)),e}function Du(e){ot===null?ot=e:ot.push.apply(ot,e)}function d2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~rf,t&=~yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function kp(e){if(ne&6)throw Error(P(327));Ss();var t=Sa(e,0);if(!(t&1))return dt(e,Pe()),null;var n=za(e,t);if(e.tag!==0&&n===2){var r=lu(e);r!==0&&(t=r,n=Fu(e,r))}if(n===1)throw n=Yi,Sr(e,0),On(e,t),dt(e,Pe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,ot,pn),dt(e,Pe()),null}function of(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&($s=Pe()+500,hl&&or())}}function Mr(e){Bn!==null&&Bn.tag===0&&!(ne&6)&&Ss();var t=ne;ne|=1;var n=Rt.transition,r=oe;try{if(Rt.transition=null,oe=1,e)return e()}finally{oe=r,Rt.transition=n,ne=t,!(ne&6)&&or()}}function af(){mt=ds.current,he(ds)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bb(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Vd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&La();break;case 3:Ms(),he(ct),he(Xe),Yd();break;case 5:qd(r);break;case 4:Ms();break;case 13:he(ge);break;case 19:he(ge);break;case 10:Wd(r.type._context);break;case 22:case 23:af()}n=n.return}if(_e=e,Me=e=Zn(e.current,null),ze=mt=t,Fe=0,Yi=null,rf=yl=Ar=0,ot=ki=null,wr!==null){for(t=0;t<wr.length;t++)if(n=wr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wr=null}return e}function L0(e,t){do{var n=Me;try{if(zd(),la.current=_a,Oa){for(var r=ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oa=!1}if(Rr=0,Oe=$e=ve=null,wi=!1,Ki=0,nf.current=null,n===null||n.return===null){Fe=1,Yi=t,Me=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=ze,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=cp(o);if(y!==null){y.flags&=-257,up(y,o,l,i,t),y.mode&1&&lp(i,u,t),t=y,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){lp(i,u,t),lf();break e}c=Error(P(426))}}else if(pe&&l.mode&1){var b=cp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),up(b,o,l,i,t),Bd(Is(c,l));break e}}i=c=Is(c,l),Fe!==4&&(Fe=2),ki===null?ki=[i]:ki.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=h0(i,c,t);np(i,m);break e;case 1:l=c;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Xn===null||!Xn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=p0(i,l,t);np(i,k);break e}}i=i.return}while(i!==null)}M0(n)}catch(j){t=j,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function R0(){var e=Va.current;return Va.current=_a,e===null?_a:e}function lf(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),_e===null||!(Ar&268435455)&&!(yl&268435455)||On(_e,ze)}function za(e,t){var n=ne;ne|=2;var r=R0();(_e!==e||ze!==t)&&(pn=null,Sr(e,t));do try{f2();break}catch(s){L0(e,s)}while(!0);if(zd(),ne=n,Va.current=r,Me!==null)throw Error(P(261));return _e=null,ze=0,Fe}function f2(){for(;Me!==null;)A0(Me)}function h2(){for(;Me!==null&&!Ow();)A0(Me)}function A0(e){var t=$0(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?M0(e):Me=t,nf.current=null}function M0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=o2(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(n=i2(n,t,mt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Fe===0&&(Fe=5)}function pr(e,t,n){var r=oe,s=Rt.transition;try{Rt.transition=null,oe=1,p2(e,t,n,r)}finally{Rt.transition=s,oe=r}return null}function p2(e,t,n,r){do Ss();while(Bn!==null);if(ne&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(qw(e,i),e===_e&&(Me=_e=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vo||(Vo=!0,F0(Ca,function(){return Ss(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Rt.transition,Rt.transition=null;var o=oe;oe=1;var l=ne;ne|=4,nf.current=null,l2(e,n),T0(n,e),Ib(pu),Na=!!hu,pu=hu=null,e.current=n,c2(n),_w(),ne=l,oe=o,Rt.transition=i}else e.current=n;if(Vo&&(Vo=!1,Bn=e,Ua=s),i=e.pendingLanes,i===0&&(Xn=null),Uw(n.stateNode),dt(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ba)throw Ba=!1,e=Iu,Iu=null,e;return Ua&1&&e.tag!==0&&Ss(),i=e.pendingLanes,i&1?e===$u?ji++:(ji=0,$u=e):ji=0,or(),null}function Ss(){if(Bn!==null){var e=hy(Ua),t=Rt.transition,n=oe;try{if(Rt.transition=null,oe=16>e?16:e,Bn===null)var r=!1;else{if(e=Bn,Bn=null,Ua=0,ne&6)throw Error(P(331));var s=ne;for(ne|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:bi(8,d,i)}var f=d.child;if(f!==null)f.return=d,D=f;else for(;D!==null;){d=D;var p=d.sibling,y=d.return;if(C0(d),d===u){D=null;break}if(p!==null){p.return=y,D=p;break}D=y}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bi(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,D=m;break e}D=i.return}}var v=e.current;for(D=v;D!==null;){o=D;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,D=g;else e:for(o=v;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gl(9,l)}}catch(j){Se(l,l.return,j)}if(l===o){D=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,D=k;break e}D=l.return}}if(ne=s,or(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ll,e)}catch{}r=!0}return r}finally{oe=n,Rt.transition=t}}return!1}function jp(e,t,n){t=Is(n,t),t=h0(e,t,1),e=Yn(e,t,1),t=et(),e!==null&&(ao(e,1,t),dt(e,t))}function Se(e,t,n){if(e.tag===3)jp(e,e,n);else for(;t!==null;){if(t.tag===3){jp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){e=Is(n,e),e=p0(t,e,1),t=Yn(t,e,1),e=et(),t!==null&&(ao(t,1,e),dt(t,e));break}}t=t.return}}function m2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(ze&n)===n&&(Fe===4||Fe===3&&(ze&130023424)===ze&&500>Pe()-sf?Sr(e,0):rf|=n),dt(e,t)}function I0(e,t){t===0&&(e.mode&1?(t=Lo,Lo<<=1,!(Lo&130023424)&&(Lo=4194304)):t=1);var n=et();e=Cn(e,t),e!==null&&(ao(e,t,n),dt(e,n))}function g2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I0(e,n)}function y2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),I0(e,n)}var $0;$0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,s2(e,t,n);at=!!(e.flags&131072)}else at=!1,pe&&t.flags&1048576&&_y(t,Ma,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ua(e,t),e=t.pendingProps;var s=Ls(t,Xe.current);Cs(t,n),s=Qd(null,t,r,e,s,n);var i=Zd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(i=!0,Ra(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kd(t),s.updater=ml,t.stateNode=s,s._reactInternals=t,ju(t,r,e,n),t=Nu(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&_d(t),Ze(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ua(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=v2(r),e=Ot(r,e),s){case 0:t=Su(null,t,r,e,n);break e;case 1:t=hp(null,t,r,e,n);break e;case 11:t=dp(null,t,r,e,n);break e;case 14:t=fp(null,t,r,Ot(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),Su(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),hp(e,t,r,s,n);case 3:e:{if(x0(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Hy(e,t),Fa(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Is(Error(P(423)),t),t=pp(e,t,r,n,s);break e}else if(r!==s){s=Is(Error(P(424)),t),t=pp(e,t,r,n,s);break e}else for(yt=qn(t.stateNode.containerInfo.firstChild),xt=t,pe=!0,Vt=null,n=zy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===s){t=Sn(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return Ky(t),e===null&&wu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,mu(r,s)?o=null:i!==null&&mu(r,i)&&(t.flags|=32),y0(e,t),Ze(e,t,o,n),t.child;case 6:return e===null&&wu(t),null;case 13:return v0(e,t,n);case 4:return Gd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=As(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),dp(e,t,r,s,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ue(Ia,r._currentValue),r._currentValue=o,i!==null)if(Kt(i.value,o)){if(i.children===s.children&&!ct.current){t=Sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=vn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),bu(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),bu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ze(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cs(t,n),s=At(s),r=r(s),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,s=Ot(r,t.pendingProps),s=Ot(r.type,s),fp(e,t,r,s,n);case 15:return m0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ot(r,s),ua(e,t),t.tag=1,ut(r)?(e=!0,Ra(t)):e=!1,Cs(t,n),f0(t,r,s),ju(t,r,s,n),Nu(null,t,r,!0,e,n);case 19:return w0(e,t,n);case 22:return g0(e,t,n)}throw Error(P(156,t.tag))};function F0(e,t){return cy(e,t)}function x2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,n,r){return new x2(e,t,n,r)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v2(e){if(typeof e=="function")return cf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Td)return 11;if(e===Ed)return 14}return 2}function Zn(e,t){var n=e.alternate;return n===null?(n=Lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ha(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")cf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ts:return Nr(n.children,s,i,t);case Nd:o=8,s|=8;break;case Gc:return e=Lt(12,n,t,s|2),e.elementType=Gc,e.lanes=i,e;case qc:return e=Lt(13,n,t,s),e.elementType=qc,e.lanes=i,e;case Yc:return e=Lt(19,n,t,s),e.elementType=Yc,e.lanes=i,e;case Kg:return xl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wg:o=10;break e;case Hg:o=9;break e;case Td:o=11;break e;case Ed:o=14;break e;case $n:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=Lt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Nr(e,t,n,r){return e=Lt(7,e,r,t),e.lanes=n,e}function xl(e,t,n,r){return e=Lt(22,e,r,t),e.elementType=Kg,e.lanes=n,e.stateNode={isHidden:!1},e}function fc(e,t,n){return e=Lt(6,e,null,t),e.lanes=n,e}function hc(e,t,n){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function uf(e,t,n,r,s,i,o,l,c){return e=new w2(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(i),e}function b2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function D0(e){if(!e)return nr;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(ut(n))return Dy(e,n,t)}return t}function O0(e,t,n,r,s,i,o,l,c){return e=uf(n,r,!0,e,s,i,o,l,c),e.context=D0(null),n=e.current,r=et(),s=Qn(n),i=vn(r,s),i.callback=t??null,Yn(n,i,s),e.current.lanes=s,ao(e,s,r),dt(e,r),e}function vl(e,t,n,r){var s=t.current,i=et(),o=Qn(s);return n=D0(n),t.context===null?t.context=n:t.pendingContext=n,t=vn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yn(s,t,o),e!==null&&(Wt(e,s,o,i),aa(e,s,o)),o}function Wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function df(e,t){Cp(e,t),(e=e.alternate)&&Cp(e,t)}function k2(){return null}var _0=typeof reportError=="function"?reportError:function(e){console.error(e)};function ff(e){this._internalRoot=e}wl.prototype.render=ff.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));vl(e,t,null,null)};wl.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){vl(null,e,null,null)}),t[jn]=null}};function wl(e){this._internalRoot=e}wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=gy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&xy(e)}};function hf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function j2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wa(o);i.call(u)}}var o=O0(t,r,e,0,null,!1,!1,"",Sp);return e._reactRootContainer=o,e[jn]=o.current,Bi(e.nodeType===8?e.parentNode:e),Mr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Wa(c);l.call(u)}}var c=uf(e,0,!1,null,null,!1,!1,"",Sp);return e._reactRootContainer=c,e[jn]=c.current,Bi(e.nodeType===8?e.parentNode:e),Mr(function(){vl(t,c,n,r)}),c}function kl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Wa(o);l.call(c)}}vl(t,o,e,s)}else o=j2(n,t,e,s,r);return Wa(o)}py=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ai(t.pendingLanes);n!==0&&(Rd(t,n|1),dt(t,Pe()),!(ne&6)&&($s=Pe()+500,or()))}break;case 13:Mr(function(){var r=Cn(e,1);if(r!==null){var s=et();Wt(r,e,1,s)}}),df(e,1)}};Ad=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=et();Wt(t,e,134217728,n)}df(e,134217728)}};my=function(e){if(e.tag===13){var t=Qn(e),n=Cn(e,t);if(n!==null){var r=et();Wt(n,e,t,r)}df(e,t)}};gy=function(){return oe};yy=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};iu=function(e,t,n){switch(t){case"input":if(Zc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fl(r);if(!s)throw Error(P(90));qg(r),Zc(r,s)}}}break;case"textarea":Xg(e,n);break;case"select":t=n.value,t!=null&&ws(e,!!n.multiple,t,!1)}};ry=of;sy=Mr;var C2={usingClientEntryPoint:!1,Events:[co,is,fl,ty,ny,of]},ti={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},S2={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ay(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||k2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{ll=Bo.inject(S2),Jt=Bo}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C2;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(t))throw Error(P(200));return b2(e,t,null,n)};bt.createRoot=function(e,t){if(!hf(e))throw Error(P(299));var n=!1,r="",s=_0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=uf(e,1,!1,null,null,n,!1,r,s),e[jn]=t.current,Bi(e.nodeType===8?e.parentNode:e),new ff(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=ay(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Mr(e)};bt.hydrate=function(e,t,n){if(!bl(t))throw Error(P(200));return kl(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!hf(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=_0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=O0(t,null,e,1,n??null,s,!1,i,o),e[jn]=t.current,Bi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new wl(t)};bt.render=function(e,t,n){if(!bl(t))throw Error(P(200));return kl(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!bl(e))throw Error(P(40));return e._reactRootContainer?(Mr(function(){kl(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};bt.unstable_batchedUpdates=of;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return kl(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function V0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V0)}catch(e){console.error(e)}}V0(),Vg.exports=bt;var jl=Vg.exports,Np=jl;Hc.createRoot=Np.createRoot,Hc.hydrateRoot=Np.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xi.apply(this,arguments)}var Un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Un||(Un={}));const Tp="popstate";function N2(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=Vr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ou("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Ha(i))}function r(s,i){pf(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return E2(t,n,r,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T2(){return Math.random().toString(36).substr(2,8)}function Ep(e,t){return{usr:e.state,key:e.key,idx:t}}function Ou(e,t,n,r){return n===void 0&&(n=null),Xi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vr(t):t,{state:n,key:t&&t.key||r||T2()})}function Ha(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function E2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Un.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Xi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Un.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:m})}function p(b,m){l=Un.Push;let v=Ou(w.location,b,m);n&&n(v,b),u=d()+1;let g=Ep(v,u),k=w.createHref(v);try{o.pushState(g,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&c&&c({action:l,location:w.location,delta:1})}function y(b,m){l=Un.Replace;let v=Ou(w.location,b,m);n&&n(v,b),u=d();let g=Ep(v,u),k=w.createHref(v);o.replaceState(g,"",k),i&&c&&c({action:l,location:w.location,delta:0})}function x(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Ha(b);return v=v.replace(/ $/,"%20"),Le(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let w={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Tp,f),c=b,()=>{s.removeEventListener(Tp,f),c=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let m=x(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:y,go(b){return o.go(b)}};return w}var Pp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pp||(Pp={}));function P2(e,t,n){return n===void 0&&(n="/"),L2(e,t,n)}function L2(e,t,n,r){let s=typeof t=="string"?Vr(t):t,i=mf(s.pathname||"/",n);if(i==null)return null;let o=B0(e);R2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=z2(i);l=V2(o[c],u)}return l}function B0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Jn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),B0(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:O2(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of U0(i.path))s(i,o,c)}),t}function U0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=U0(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function R2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const A2=/^:[\w-]+$/,M2=3,I2=2,$2=1,F2=10,D2=-2,Lp=e=>e==="*";function O2(e,t){let n=e.split("/"),r=n.length;return n.some(Lp)&&(r+=D2),t&&(r+=I2),n.filter(s=>!Lp(s)).reduce((s,i)=>s+(A2.test(i)?M2:i===""?$2:F2),r)}function _2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function V2(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=B2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Jn([i,f.pathname]),pathnameBase:G2(Jn([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Jn([i,f.pathnameBase]))}return o}function B2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[f];return y&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function U2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),pf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function z2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function W2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Vr(e):e;return{pathname:n?n.startsWith("/")?n:H2(n,t):t,search:q2(r),hash:Y2(s)}}function H2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gf(e,t){let n=K2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Vr(e):(s=Xi({},e),Le(!s.pathname||!s.pathname.includes("?"),pc("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),pc("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),pc("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=W2(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Jn=e=>e.join("/").replace(/\/\/+/g,"/"),G2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Y2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function X2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const z0=["post","put","patch","delete"];new Set(z0);const Q2=["get",...z0];new Set(Q2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi.apply(this,arguments)}const xf=h.createContext(null),Z2=h.createContext(null),ar=h.createContext(null),Cl=h.createContext(null),an=h.createContext({outlet:null,matches:[],isDataRoute:!1}),W0=h.createContext(null);function J2(e,t){let{relative:n}=t===void 0?{}:t;Us()||Le(!1);let{basename:r,navigator:s}=h.useContext(ar),{hash:i,pathname:o,search:l}=K0(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Jn([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Us(){return h.useContext(Cl)!=null}function jt(){return Us()||Le(!1),h.useContext(Cl).location}function H0(e){h.useContext(ar).static||h.useLayoutEffect(e)}function st(){let{isDataRoute:e}=h.useContext(an);return e?mk():ek()}function ek(){Us()||Le(!1);let e=h.useContext(xf),{basename:t,future:n,navigator:r}=h.useContext(ar),{matches:s}=h.useContext(an),{pathname:i}=jt(),o=JSON.stringify(gf(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return H0(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=yf(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Jn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}const tk=h.createContext(null);function nk(e){let t=h.useContext(an).outlet;return t&&h.createElement(tk.Provider,{value:e},t)}function rk(){let{matches:e}=h.useContext(an),t=e[e.length-1];return t?t.params:{}}function K0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(ar),{matches:s}=h.useContext(an),{pathname:i}=jt(),o=JSON.stringify(gf(s,r.v7_relativeSplatPath));return h.useMemo(()=>yf(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function sk(e,t){return ik(e,t)}function ik(e,t,n,r){Us()||Le(!1);let{navigator:s}=h.useContext(ar),{matches:i}=h.useContext(an),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=jt(),d;if(t){var f;let b=typeof t=="string"?Vr(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Le(!1),d=b}else d=u;let p=d.pathname||"/",y=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=P2(e,{pathname:y}),w=uk(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Jn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Jn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&w?h.createElement(Cl.Provider,{value:{location:Qi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},w):w}function ok(){let e=pk(),t=X2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const ak=h.createElement(ok,null);class lk extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(an.Provider,{value:this.props.routeContext},h.createElement(W0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ck(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(xf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(an.Provider,{value:t},r)}function uk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Le(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:y}=n,x=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let y,x=!1,w=null,b=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||ak,c&&(u<0&&p===0?(gk("route-fallback"),x=!0,b=null):u===p&&(x=!0,b=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,p+1)),v=()=>{let g;return y?g=w:x?g=b:f.route.Component?g=h.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,h.createElement(ck,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?h.createElement(lk,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var G0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(G0||{}),q0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(q0||{});function dk(e){let t=h.useContext(xf);return t||Le(!1),t}function fk(e){let t=h.useContext(Z2);return t||Le(!1),t}function hk(e){let t=h.useContext(an);return t||Le(!1),t}function Y0(e){let t=hk(),n=t.matches[t.matches.length-1];return n.route.id||Le(!1),n.route.id}function pk(){var e;let t=h.useContext(W0),n=fk(),r=Y0();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mk(){let{router:e}=dk(G0.UseNavigateStable),t=Y0(q0.UseNavigateStable),n=h.useRef(!1);return H0(()=>{n.current=!0}),h.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Qi({fromRouteId:t},i)))},[e,t])}const Rp={};function gk(e,t,n){Rp[e]||(Rp[e]=!0)}function yk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ka(e){let{to:t,replace:n,state:r,relative:s}=e;Us()||Le(!1);let{future:i,static:o}=h.useContext(ar),{matches:l}=h.useContext(an),{pathname:c}=jt(),u=st(),d=yf(t,gf(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function xk(e){return nk(e.context)}function Be(e){Le(!1)}function vk(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Un.Pop,navigator:i,static:o=!1,future:l}=e;Us()&&Le(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:i,static:o,future:Qi({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Vr(r));let{pathname:d="/",search:f="",hash:p="",state:y=null,key:x="default"}=r,w=h.useMemo(()=>{let b=mf(d,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:y,key:x},navigationType:s}},[c,d,f,p,y,x,s]);return w==null?null:h.createElement(ar.Provider,{value:u},h.createElement(Cl.Provider,{children:n,value:w}))}function wk(e){let{children:t,location:n}=e;return sk(_u(t),n)}new Promise(()=>{});function _u(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let i=[...t,s];if(r.type===h.Fragment){n.push.apply(n,_u(r.props.children,i));return}r.type!==Be&&Le(!1),!r.props.index||!r.props.children||Le(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_u(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vu.apply(this,arguments)}function bk(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function kk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function jk(e,t){return e.button===0&&(!t||t==="_self")&&!kk(e)}const Ck=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sk="6";try{window.__reactRouterVersion=Sk}catch{}const Nk="startTransition",Ap=Og[Nk];function Tk(e){let{basename:t,children:n,future:r,window:s}=e,i=h.useRef();i.current==null&&(i.current=N2({window:s,v5Compat:!0}));let o=i.current,[l,c]=h.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Ap?Ap(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>o.listen(d),[o,d]),h.useEffect(()=>yk(r),[r]),h.createElement(vk,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Ek=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fo=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=bk(t,Ck),{basename:y}=h.useContext(ar),x,w=!1;if(typeof u=="string"&&Pk.test(u)&&(x=u,Ek))try{let g=new URL(window.location.href),k=u.startsWith("//")?new URL(g.protocol+u):new URL(u),j=mf(k.pathname,y);k.origin===g.origin&&j!=null?u=j+k.search+k.hash:w=!0}catch{}let b=J2(u,{relative:s}),m=Lk(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(g){r&&r(g),g.defaultPrevented||m(g)}return h.createElement("a",Vu({},p,{href:x||b,onClick:w||i?r:v,ref:n,target:c}))});var Mp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mp||(Mp={}));var Ip;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ip||(Ip={}));function Lk(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=st(),u=jt(),d=K0(e,{relative:o});return h.useCallback(f=>{if(jk(f,n)){f.preventDefault();let p=r!==void 0?r:Ha(u)===Ha(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}class vt extends Error{constructor(t){var n,r,s,i;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,vt.prototype),t!==null&&typeof t=="object"&&(this.url=typeof t.url=="string"?t.url:"",this.status=typeof t.status=="number"?t.status:0,this.isAbort=!!t.isAbort,this.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?this.response=t.response:t.data!==null&&typeof t.data=="object"?this.response=t.data:this.response={}),this.originalError||t instanceof vt||(this.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(n=this.response)==null?void 0:n.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(i=(s=(r=this.originalError)==null?void 0:r.cause)==null?void 0:s.message)!=null&&i.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Uo=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Rk(e,t){const n={};if(typeof e!="string")return n;const r=Object.assign({},{}).decode||Ak;let s=0;for(;s<e.length;){const i=e.indexOf("=",s);if(i===-1)break;let o=e.indexOf(";",s);if(o===-1)o=e.length;else if(o<i){s=e.lastIndexOf(";",i-1)+1;continue}const l=e.slice(s,i).trim();if(n[l]===void 0){let c=e.slice(i+1,o).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1));try{n[l]=r(c)}catch{n[l]=c}}s=o+1}return n}function $p(e,t,n){const r=Object.assign({},n||{}),s=r.encode||Mk;if(!Uo.test(e))throw new TypeError("argument name is invalid");const i=s(t);if(i&&!Uo.test(i))throw new TypeError("argument val is invalid");let o=e+"="+i;if(r.maxAge!=null){const l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(l)}if(r.domain){if(!Uo.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!Uo.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function Ak(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function Mk(e){return encodeURIComponent(e)}const Ik=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let X0;function Ns(e){if(e)try{const t=decodeURIComponent(X0(e.split(".")[1]).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Q0(e,t=0){let n=Ns(e);return!(Object.keys(n).length>0&&(!n.exp||n.exp-t>Date.now()/1e3))}X0=typeof atob!="function"||Ik?e=>{let t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,s=0,i=0,o="";r=t.charAt(i++);~r&&(n=s%4?64*n+r:r,s++%4)?o+=String.fromCharCode(255&n>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o}:atob;const Fp="pb_auth";class $k{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Q0(this.token)}get isAdmin(){return Ns(this.token).type==="admin"}get isAuthRecord(){return Ns(this.token).type==="authRecord"}save(t,n){this.baseToken=t||"",this.baseModel=n||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(t,n=Fp){const r=Rk(t||"")[n]||"";let s={};try{s=JSON.parse(r),(typeof s===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||null)}exportToCookie(t,n=Fp){var c,u;const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Ns(this.token);r.expires=s!=null&&s.exp?new Date(1e3*s.exp):new Date("1970-01-01"),t=Object.assign({},r,t);const i={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let o=$p(n,JSON.stringify(i),t);const l=typeof Blob<"u"?new Blob([o]).size:o.length;if(i.model&&l>4096){i.model={id:(c=i==null?void 0:i.model)==null?void 0:c.id,email:(u=i==null?void 0:i.model)==null?void 0:u.email};const d=["collectionId","username","verified"];for(const f in this.model)d.includes(f)&&(i.model[f]=this.model[f]);o=$p(n,JSON.stringify(i),t)}return o}onChange(t,n=!1){return this._onChangeCallbacks.push(t),n&&t(this.token,this.model),()=>{for(let r=this._onChangeCallbacks.length-1;r>=0;r--)if(this._onChangeCallbacks[r]==t)return delete this._onChangeCallbacks[r],void this._onChangeCallbacks.splice(r,1)}}triggerChange(){for(const t of this._onChangeCallbacks)t&&t(this.token,this.model)}}class Fk extends $k{constructor(t="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=t,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(t,n){this._storageSet(this.storageKey,{token:t,model:n}),super.save(t,n)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){const n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]}_storageSet(t,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){let r=n;typeof n!="string"&&(r=JSON.stringify(n)),window.localStorage.setItem(t,r)}else this.storageFallback[t]=n}_storageRemove(t){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)==null||n.removeItem(t)),delete this.storageFallback[t]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",t=>{if(t.key!=this.storageKey)return;const n=this._storageGet(this.storageKey)||{};super.save(n.token||"",n.model||null)})}}class Br{constructor(t){this.client=t}}class Dk extends Br{async getAll(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/settings",t)}async update(t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send("/api/settings",n)}async testS3(t="storage",n){return n=Object.assign({method:"POST",body:{filesystem:t}},n),this.client.send("/api/settings/test/s3",n).then(()=>!0)}async testEmail(t,n,r){return r=Object.assign({method:"POST",body:{email:t,template:n}},r),this.client.send("/api/settings/test/email",r).then(()=>!0)}async generateAppleClientSecret(t,n,r,s,i,o){return o=Object.assign({method:"POST",body:{clientId:t,teamId:n,keyId:r,privateKey:s,duration:i}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}class vf extends Br{decode(t){return t}async getFullList(t,n){if(typeof t=="number")return this._getFullList(t,n);let r=500;return(n=Object.assign({},t,n)).batch&&(r=n.batch,delete n.batch),this._getFullList(r,n)}async getList(t=1,n=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:t,perPage:n},r.query),this.client.send(this.baseCrudPath,r).then(s=>{var i;return s.items=((i=s.items)==null?void 0:i.map(o=>this.decode(o)))||[],s})}async getFirstListItem(t,n){return(n=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+t},n)).query=Object.assign({filter:t,skipTotal:1},n.query),this.getList(1,1,n).then(r=>{var s;if(!((s=r==null?void 0:r.items)!=null&&s.length))throw new vt({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})}async getOne(t,n){if(!t)throw new vt({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return n=Object.assign({method:"GET"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(r=>this.decode(r))}async create(t,n){return n=Object.assign({method:"POST",body:t},n),this.client.send(this.baseCrudPath,n).then(r=>this.decode(r))}async update(t,n,r){return r=Object.assign({method:"PATCH",body:n},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),r).then(s=>this.decode(s))}async delete(t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(()=>!0)}_getFullList(t=500,n){(n=n||{}).query=Object.assign({skipTotal:1},n.query);let r=[],s=async i=>this.getList(i,t||500,n).then(o=>{const l=o.items;return r=r.concat(l),l.length==o.perPage?s(i+1):r});return s(1)}}function pt(e,t,n,r){const s=r!==void 0;return s||n!==void 0?s?(console.warn(e),t.body=Object.assign({},t.body,n),t.query=Object.assign({},t.query,r),t):Object.assign(t,n):t}function mc(e){var t;(t=e._resetAutoRefresh)==null||t.call(e)}class Ok extends vf{get baseCrudPath(){return"/api/admins"}async update(t,n,r){return super.update(t,n,r).then(s=>{var i,o;return((i=this.client.authStore.model)==null?void 0:i.id)===s.id&&((o=this.client.authStore.model)==null?void 0:o.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,s),s})}async delete(t,n){return super.delete(t,n).then(r=>{var s,i;return r&&((s=this.client.authStore.model)==null?void 0:s.id)===t&&((i=this.client.authStore.model)==null?void 0:i.collectionId)===void 0&&this.client.authStore.clear(),r})}authResponse(t){const n=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})}async authWithPassword(t,n,r,s){let i={method:"POST",body:{identity:t,password:n}};i=pt("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",i,r,s);const o=i.autoRefreshThreshold;delete i.autoRefreshThreshold,i.autoRefresh||mc(this.client);let l=await this.client.send(this.baseCrudPath+"/auth-with-password",i);return l=this.authResponse(l),o&&function(u,d,f,p){mc(u);const y=u.beforeSend,x=u.authStore.model,w=u.authStore.onChange((b,m)=>{(!b||(m==null?void 0:m.id)!=(x==null?void 0:x.id)||(m!=null&&m.collectionId||x!=null&&x.collectionId)&&(m==null?void 0:m.collectionId)!=(x==null?void 0:x.collectionId))&&mc(u)});u._resetAutoRefresh=function(){w(),u.beforeSend=y,delete u._resetAutoRefresh},u.beforeSend=async(b,m)=>{var j;const v=u.authStore.token;if((j=m.query)!=null&&j.autoRefresh)return y?y(b,m):{url:b,sendOptions:m};let g=u.authStore.isValid;if(g&&Q0(u.authStore.token,d))try{await f()}catch{g=!1}g||await p();const k=m.headers||{};for(let C in k)if(C.toLowerCase()=="authorization"&&v==k[C]&&u.authStore.token){k[C]=u.authStore.token;break}return m.headers=k,y?y(b,m):{url:b,sendOptions:m}}}(this.client,o,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(t,n,Object.assign({autoRefresh:!0},i))),l}async authRefresh(t,n){let r={method:"POST"};return r=pt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,t,n),this.client.send(this.baseCrudPath+"/auth-refresh",r).then(this.authResponse.bind(this))}async requestPasswordReset(t,n,r){let s={method:"POST",body:{email:t}};return s=pt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,n,r),this.client.send(this.baseCrudPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(t,n,r,s,i){let o={method:"POST",body:{token:t,password:n,passwordConfirm:r}};return o=pt("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",o,s,i),this.client.send(this.baseCrudPath+"/confirm-password-reset",o).then(()=>!0)}}const _k=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Z0(e){if(e){e.query=e.query||{};for(let t in e)_k.includes(t)||(e.query[t]=e[t],delete e[t])}}class J0 extends Br{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(t,n,r){var o;if(!t)throw new Error("topic must be set.");let s=t;if(r){Z0(r=Object.assign({},r));const l="options="+encodeURIComponent(JSON.stringify({query:r.query,headers:r.headers}));s+=(s.includes("?")?"&":"?")+l}const i=function(l){const c=l;let u;try{u=JSON.parse(c==null?void 0:c.data)}catch{}n(u||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(i),this.isConnected?this.subscriptions[s].length===1?await this.submitSubscriptions():(o=this.eventSource)==null||o.addEventListener(s,i):await this.connect(),async()=>this.unsubscribeByTopicAndListener(t,i)}async unsubscribe(t){var r;let n=!1;if(t){const s=this.getSubscriptionsByTopic(t);for(let i in s)if(this.hasSubscriptionListeners(i)){for(let o of this.subscriptions[i])(r=this.eventSource)==null||r.removeEventListener(i,o);delete this.subscriptions[i],n||(n=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(t){var r;let n=!1;for(let s in this.subscriptions)if((s+"?").startsWith(t)){n=!0;for(let i of this.subscriptions[s])(r=this.eventSource)==null||r.removeEventListener(s,i);delete this.subscriptions[s]}n&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(t,n){var i;let r=!1;const s=this.getSubscriptionsByTopic(t);for(let o in s){if(!Array.isArray(this.subscriptions[o])||!this.subscriptions[o].length)continue;let l=!1;for(let c=this.subscriptions[o].length-1;c>=0;c--)this.subscriptions[o][c]===n&&(l=!0,delete this.subscriptions[o][c],this.subscriptions[o].splice(c,1),(i=this.eventSource)==null||i.removeEventListener(o,n));l&&(this.subscriptions[o].length||delete this.subscriptions[o],r||this.hasSubscriptionListeners(o)||(r=!0))}this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(t){var n,r;if(this.subscriptions=this.subscriptions||{},t)return!!((n=this.subscriptions[t])!=null&&n.length);for(let s in this.subscriptions)if((r=this.subscriptions[s])!=null&&r.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(t=>{if(!(t!=null&&t.isAbort))throw t})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(t){const n={};t=t.includes("?")?t:t+"?";for(let r in this.subscriptions)(r+"?").startsWith(t)&&(n[r]=this.subscriptions[r]);return n}getNonEmptySubscriptionKeys(){const t=[];for(let n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let t in this.subscriptions)for(let n of this.subscriptions[t])this.eventSource.addEventListener(t,n)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let t in this.subscriptions)for(let n of this.subscriptions[t])this.eventSource.removeEventListener(t,n)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((t,n)=>{this.pendingConnects.push({resolve:t,reject:n}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=t=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",t=>{const n=t;this.clientId=n==null?void 0:n.lastEventId,this.submitSubscriptions().then(async()=>{let r=3;for(;this.hasUnsentSubscriptions()&&r>0;)r--,await this.submitSubscriptions()}).then(()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const r=this.getSubscriptionsByTopic("PB_CONNECT");for(let s in r)for(let i of r[s])i(t)}).catch(r=>{this.clientId="",this.connectErrorHandler(r)})})}hasUnsentSubscriptions(){const t=this.getNonEmptySubscriptionKeys();if(t.length!=this.lastSentSubscriptions.length)return!0;for(const n of t)if(!this.lastSentSubscriptions.includes(n))return!0;return!1}connectErrorHandler(t){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let r of this.pendingConnects)r.reject(new vt(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const n=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},n)}disconnect(t=!1){var n;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(n=this.eventSource)==null||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[]}}}class Vk extends vf{constructor(t,n){super(t),this.collectionIdOrName=n}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(t,n,r){if(!t)throw new Error("Missing topic.");if(!n)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n,r)}async unsubscribe(t){return t?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(t,n){if(typeof t=="number")return super.getFullList(t,n);const r=Object.assign({},t,n);return super.getFullList(r)}async getList(t=1,n=30,r){return super.getList(t,n,r)}async getFirstListItem(t,n){return super.getFirstListItem(t,n)}async getOne(t,n){return super.getOne(t,n)}async create(t,n){return super.create(t,n)}async update(t,n,r){return super.update(t,n,r).then(s=>{var i,o,l;return((i=this.client.authStore.model)==null?void 0:i.id)!==(s==null?void 0:s.id)||((o=this.client.authStore.model)==null?void 0:o.collectionId)!==this.collectionIdOrName&&((l=this.client.authStore.model)==null?void 0:l.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,s),s})}async delete(t,n){return super.delete(t,n).then(r=>{var s,i,o;return!r||((s=this.client.authStore.model)==null?void 0:s.id)!==t||((i=this.client.authStore.model)==null?void 0:i.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),r})}authResponse(t){const n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})}async listAuthMethods(t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCollectionPath+"/auth-methods",t).then(n=>Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]}))}async authWithPassword(t,n,r,s){let i={method:"POST",body:{identity:t,password:n}};return i=pt("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",i,r,s),this.client.send(this.baseCollectionPath+"/auth-with-password",i).then(o=>this.authResponse(o))}async authWithOAuth2Code(t,n,r,s,i,o,l){let c={method:"POST",body:{provider:t,code:n,codeVerifier:r,redirectUrl:s,createData:i}};return c=pt("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",c,o,l),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",c).then(u=>this.authResponse(u))}authWithOAuth2(...t){if(t.length>1||typeof(t==null?void 0:t[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{});const n=(t==null?void 0:t[0])||{};let r=null;n.urlCallback||(r=Dp(void 0));const s=new J0(this.client);function i(){r==null||r.close(),s.unsubscribe()}const o={},l=n.requestKey;return l&&(o.requestKey=l),this.listAuthMethods(o).then(c=>{var p;const u=c.authProviders.find(y=>y.name===n.provider);if(!u)throw new vt(new Error(`Missing or invalid provider "${n.provider}".`));const d=this.client.buildUrl("/api/oauth2-redirect"),f=l?(p=this.client.cancelControllers)==null?void 0:p[l]:void 0;return f&&(f.signal.onabort=()=>{i()}),new Promise(async(y,x)=>{var w;try{await s.subscribe("@oauth2",async g=>{var j;const k=s.clientId;try{if(!g.state||k!==g.state)throw new Error("State parameters don't match.");if(g.error||!g.code)throw new Error("OAuth2 redirect error or missing code: "+g.error);const C=Object.assign({},n);delete C.provider,delete C.scopes,delete C.createData,delete C.urlCallback,(j=f==null?void 0:f.signal)!=null&&j.onabort&&(f.signal.onabort=null);const S=await this.authWithOAuth2Code(u.name,g.code,u.codeVerifier,d,n.createData,C);y(S)}catch(C){x(new vt(C))}i()});const b={state:s.clientId};(w=n.scopes)!=null&&w.length&&(b.scope=n.scopes.join(" "));const m=this._replaceQueryParams(u.authUrl+d,b);await(n.urlCallback||function(g){r?r.location.href=g:r=Dp(g)})(m)}catch(b){i(),x(new vt(b))}})}).catch(c=>{throw i(),c})}async authRefresh(t,n){let r={method:"POST"};return r=pt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,t,n),this.client.send(this.baseCollectionPath+"/auth-refresh",r).then(s=>this.authResponse(s))}async requestPasswordReset(t,n,r){let s={method:"POST",body:{email:t}};return s=pt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(t,n,r,s,i){let o={method:"POST",body:{token:t,password:n,passwordConfirm:r}};return o=pt("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,s,i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}async requestVerification(t,n,r){let s={method:"POST",body:{email:t}};return s=pt("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-verification",s).then(()=>!0)}async confirmVerification(t,n,r){let s={method:"POST",body:{token:t}};return s=pt("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then(()=>{const i=Ns(t),o=this.client.authStore.model;return o&&!o.verified&&o.id===i.id&&o.collectionId===i.collectionId&&(o.verified=!0,this.client.authStore.save(this.client.authStore.token,o)),!0})}async requestEmailChange(t,n,r){let s={method:"POST",body:{newEmail:t}};return s=pt("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-email-change",s).then(()=>!0)}async confirmEmailChange(t,n,r,s){let i={method:"POST",body:{token:t,password:n}};return i=pt("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",i,r,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",i).then(()=>{const o=Ns(t),l=this.client.authStore.model;return l&&l.id===o.id&&l.collectionId===o.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(t,n){return n=Object.assign({method:"GET"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",n)}async unlinkExternalAuth(t,n,r){return r=Object.assign({method:"DELETE"},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),r).then(()=>!0)}_replaceQueryParams(t,n={}){let r=t,s="";t.indexOf("?")>=0&&(r=t.substring(0,t.indexOf("?")),s=t.substring(t.indexOf("?")+1));const i={},o=s.split("&");for(const l of o){if(l=="")continue;const c=l.split("=");i[decodeURIComponent(c[0].replace(/\+/g," "))]=decodeURIComponent((c[1]||"").replace(/\+/g," "))}for(let l in n)n.hasOwnProperty(l)&&(n[l]==null?delete i[l]:i[l]=n[l]);s="";for(let l in i)i.hasOwnProperty(l)&&(s!=""&&(s+="&"),s+=encodeURIComponent(l.replace(/%20/g,"+"))+"="+encodeURIComponent(i[l].replace(/%20/g,"+")));return s!=""?r+"?"+s:r}}function Dp(e){if(typeof window>"u"||!(window!=null&&window.open))throw new vt(new Error("Not in a browser context - please pass a custom urlCallback function."));let t=1024,n=768,r=window.innerWidth,s=window.innerHeight;t=t>r?r:t,n=n>s?s:n;let i=r/2-t/2,o=s/2-n/2;return window.open(e,"popup_window","width="+t+",height="+n+",top="+o+",left="+i+",resizable,menubar=no")}class Bk extends vf{get baseCrudPath(){return"/api/collections"}async import(t,n=!1,r){return r=Object.assign({method:"PUT",body:{collections:t,deleteMissing:n}},r),this.client.send(this.baseCrudPath+"/import",r).then(()=>!0)}}class Uk extends Br{async getList(t=1,n=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:t,perPage:n},r.query),this.client.send("/api/logs",r)}async getOne(t,n){if(!t)throw new vt({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return n=Object.assign({method:"GET"},n),this.client.send("/api/logs/"+encodeURIComponent(t),n)}async getStats(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/stats",t)}}class zk extends Br{async check(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/health",t)}}class Wk extends Br{getUrl(t,n,r={}){if(!n||!(t!=null&&t.id)||!(t!=null&&t.collectionId)&&!(t!=null&&t.collectionName))return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(t.collectionId||t.collectionName)),s.push(encodeURIComponent(t.id)),s.push(encodeURIComponent(n));let i=this.client.buildUrl(s.join("/"));if(Object.keys(r).length){r.download===!1&&delete r.download;const o=new URLSearchParams(r);i+=(i.includes("?")?"&":"?")+o}return i}async getToken(t){return t=Object.assign({method:"POST"},t),this.client.send("/api/files/token",t).then(n=>(n==null?void 0:n.token)||"")}}class Hk extends Br{async getFullList(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/backups",t)}async create(t,n){return n=Object.assign({method:"POST",body:{name:t}},n),this.client.send("/api/backups",n).then(()=>!0)}async upload(t,n){return n=Object.assign({method:"POST",body:t},n),this.client.send("/api/backups/upload",n).then(()=>!0)}async delete(t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(`/api/backups/${encodeURIComponent(t)}`,n).then(()=>!0)}async restore(t,n){return n=Object.assign({method:"POST"},n),this.client.send(`/api/backups/${encodeURIComponent(t)}/restore`,n).then(()=>!0)}getDownloadUrl(t,n){return this.client.buildUrl(`/api/backups/${encodeURIComponent(n)}?token=${encodeURIComponent(t)}`)}}class Kk{constructor(t="/",n,r="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=r,this.authStore=n||new Fk,this.admins=new Ok(this),this.collections=new Bk(this),this.files=new Wk(this),this.logs=new Uk(this),this.settings=new Dk(this),this.realtime=new J0(this),this.health=new zk(this),this.backups=new Hk(this)}collection(t){return this.recordServices[t]||(this.recordServices[t]=new Vk(this,t)),this.recordServices[t]}autoCancellation(t){return this.enableAutoCancellation=!!t,this}cancelRequest(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this}cancelAllRequests(){for(let t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this}filter(t,n){if(!n)return t;for(let r in n){let s=n[r];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=s===null?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}t=t.replaceAll("{:"+r+"}",s)}return t}getFileUrl(t,n,r={}){return this.files.getUrl(t,n,r)}buildUrl(t){var r;let n=this.baseUrl;return typeof window>"u"||!window.location||n.startsWith("https://")||n.startsWith("http://")||(n=(r=window.location.origin)!=null&&r.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(n+=window.location.pathname||"/",n+=n.endsWith("/")?"":"/"),n+=this.baseUrl),t&&(n+=n.endsWith("/")?"":"/",n+=t.startsWith("/")?t.substring(1):t),n}async send(t,n){n=this.initSendOptions(t,n);let r=this.buildUrl(t);if(this.beforeSend){const s=Object.assign({},await this.beforeSend(r,n));s.url!==void 0||s.options!==void 0?(r=s.url||r,n=s.options||n):Object.keys(s).length&&(n=s,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(n.query!==void 0){const s=this.serializeQueryParams(n.query);s&&(r+=(r.includes("?")?"&":"?")+s),delete n.query}return this.getHeader(n.headers,"Content-Type")=="application/json"&&n.body&&typeof n.body!="string"&&(n.body=JSON.stringify(n.body)),(n.fetch||fetch)(r,n).then(async s=>{let i={};try{i=await s.json()}catch{}if(this.afterSend&&(i=await this.afterSend(s,i)),s.status>=400)throw new vt({url:s.url,status:s.status,data:i});return i}).catch(s=>{throw new vt(s)})}initSendOptions(t,n){if((n=Object.assign({method:"GET"},n)).body=this.convertToFormDataIfNeeded(n.body),Z0(n),n.query=Object.assign({},n.params,n.query),n.requestKey===void 0&&(n.$autoCancel===!1||n.query.$autoCancel===!1?n.requestKey=null:(n.$cancelKey||n.query.$cancelKey)&&(n.requestKey=n.$cancelKey||n.query.$cancelKey)),delete n.$autoCancel,delete n.query.$autoCancel,delete n.$cancelKey,delete n.query.$cancelKey,this.getHeader(n.headers,"Content-Type")!==null||this.isFormData(n.body)||(n.headers=Object.assign({},n.headers,{"Content-Type":"application/json"})),this.getHeader(n.headers,"Accept-Language")===null&&(n.headers=Object.assign({},n.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(n.headers,"Authorization")===null&&(n.headers=Object.assign({},n.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&n.requestKey!==null){const r=n.requestKey||(n.method||"GET")+t;delete n.requestKey,this.cancelRequest(r);const s=new AbortController;this.cancelControllers[r]=s,n.signal=s.signal}return n}convertToFormDataIfNeeded(t){if(typeof FormData>"u"||t===void 0||typeof t!="object"||t===null||this.isFormData(t)||!this.hasBlobField(t))return t;const n=new FormData;for(const r in t){const s=t[r];if(typeof s!="object"||this.hasBlobField({data:s})){const i=Array.isArray(s)?s:[s];for(let o of i)n.append(r,o)}else{let i={};i[r]=s,n.append("@jsonPayload",JSON.stringify(i))}}return n}hasBlobField(t){for(const n in t){const r=Array.isArray(t[n])?t[n]:[t[n]];for(const s of r)if(typeof Blob<"u"&&s instanceof Blob||typeof File<"u"&&s instanceof File)return!0}return!1}getHeader(t,n){t=t||{},n=n.toLowerCase();for(let r in t)if(r.toLowerCase()==n)return t[r];return null}isFormData(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)}serializeQueryParams(t){const n=[];for(const r in t){if(t[r]===null)continue;const s=t[r],i=encodeURIComponent(r);if(Array.isArray(s))for(const o of s)n.push(i+"="+encodeURIComponent(o));else s instanceof Date?n.push(i+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?n.push(i+"="+encodeURIComponent(JSON.stringify(s))):n.push(i+"="+encodeURIComponent(s))}return n.join("&")}}const Gk="https://casdatabase.ru",B=new Kk(Gk),Bu="cas_auth_v1";function qk(){try{const e=B.authStore.token,t=B.authStore.model;e&&t?localStorage.setItem(Bu,JSON.stringify({token:e,model:t})):localStorage.removeItem(Bu)}catch{}}function ex(){try{const e=localStorage.getItem(Bu);if(!e)return;const{token:t,model:n}=JSON.parse(e);t&&n&&B.authStore.save(t,n)}catch{}}ex();B.authStore.onChange(()=>qk(),!0);const Yk=e=>e?{id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?B.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:!!e.is_blocked,favorites:e.favorites||[]}:null;async function gc(){try{if(!B.authStore.model||!B.authStore.token)return;const e=B.authStore.token,n=JSON.parse(atob(e.split(".")[1])).exp*1e3,r=Date.now();n-r<6e4&&await B.collection("users").authRefresh()}catch{}}async function Xk(e){const t=B.authStore.model;if(!t)return()=>{};const n=t.id;let r=!1;try{await B.collection("users").subscribe(n,s=>{const i=s.record;i!=null&&i.is_blocked&&e()})}catch{}return async()=>{if(!r){r=!0;try{await B.collection("users").unsubscribe(n)}catch{}}}}var fs=(e=>(e.SUCCESS="SUCCESS",e.WRONG_CREDENTIALS="WRONG_CREDENTIALS",e.ERROR="ERROR",e))(fs||{});const tx=h.createContext(void 0);function Qk({children:e}){const[t,n]=h.useState(null),[r,s]=h.useState(!0),i=h.useRef(null),o=h.useCallback(()=>{try{if(i.current)try{i.current()}catch{}}finally{B.authStore.clear()}},[]);h.useEffect(()=>{try{ex()}catch{}const x=(b,m)=>{const v=Yk(m);if(v!=null&&v.isBlocked)B.authStore.clear(),n(null);else{if(n(v),i.current)try{i.current()}catch{}v&&Xk(()=>{B.authStore.clear(),n(null)}).then(g=>{i.current=g}).catch(()=>{i.current=null})}s(!1)},w=B.authStore.onChange(x,!0);return()=>{try{w()}catch{}}},[]),h.useEffect(()=>{const x=()=>{document.visibilityState==="visible"&&gc()},w=()=>gc();document.addEventListener("visibilitychange",x),window.addEventListener("online",w);const b=setInterval(()=>gc(),6e4);return()=>{document.removeEventListener("visibilitychange",x),window.removeEventListener("online",w),clearInterval(b)}},[]);const l=async(x,w)=>{var b;try{const m=x.toLowerCase();return await B.collection("users").authWithPassword(m,w),(b=B.authStore.model)!=null&&b.is_blocked?(B.authStore.clear(),fs.ERROR):fs.SUCCESS}catch{return fs.WRONG_CREDENTIALS}},c=async(x,w,b,m)=>{var v,g,k,j,C;try{return await B.collection("users").create({username:x.toLowerCase(),email:b.toLowerCase(),nickname:w,password:m,passwordConfirm:m,role:"user"}),await l(x.toLowerCase(),m)!==fs.SUCCESS?{success:!1,message:"Не удалось войти после регистрации."}:{success:!0,message:"Регистрация успешна!"}}catch(S){const N=((v=S==null?void 0:S.response)==null?void 0:v.data)||{};return(k=(g=N==null?void 0:N.username)==null?void 0:g.message)!=null&&k.includes("must be unique")?{success:!1,message:"Этот логин уже зарегистрирован."}:(C=(j=N==null?void 0:N.email)==null?void 0:j.message)!=null&&C.includes("must be unique")?{success:!1,message:"Этот email уже зарегистрирован."}:{success:!1,message:"Ошибка регистрации."}}},u=async x=>{var w,b;if(!t)return{success:!1,message:"Пользователь не авторизован."};try{const m=new FormData;return x.nickname&&x.nickname!==t.nickname&&m.append("nickname",x.nickname),x.email&&x.email!==t.email&&m.append("email",x.email.toLowerCase()),x.password&&x.oldPassword&&(m.append("password",x.password),m.append("passwordConfirm",x.password),m.append("oldPassword",x.oldPassword)),x.avatarFile instanceof File?m.append("avatar",x.avatarFile):x.avatarFile===null&&m.append("avatar",""),await B.collection("users").update(t.id,m),await B.collection("users").authRefresh(),{success:!0,message:"Профиль успешно обновлен."}}catch(m){return(b=(w=m.response)==null?void 0:w.data)!=null&&b.oldPassword?{success:!1,message:"Неверный текущий пароль."}:{success:!1,message:"Ошибка обновления."}}},d=async x=>{if(!t)return;const w=t.favorites||[],b=w.includes(x)?w.filter(m=>m!==x):[...w,x];try{await B.collection("users").update(t.id,{favorites:b}),n(m=>m&&{...m,favorites:b})}catch(m){console.error("Failed to update favorites:",m)}},f=async x=>{try{const w=x.toLowerCase(),b=`username = "${w}" || email = "${w}"`,m=await B.collection("users").getFirstListItem(b,{$autoCancel:!1});return!!(m!=null&&m.is_blocked)}catch{return!1}},p=(t==null?void 0:t.role)==="admin",y={user:t,loading:r,login:l,register:c,logout:o,updateProfile:u,isAdmin:p,toggleFavorite:d,isUserBlocked:f};return a.jsx(tx.Provider,{value:y,children:e})}const me=()=>{const e=h.useContext(tx);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},wf=e=>e===0?"immortal":e>=30?"30+":"18+",nx=h.createContext(void 0),ho=e=>({...e,id:e.id,createdAt:new Date(e.created),updatedAt:new Date(e.updated)}),yc=e=>({...ho(e),photo:e.photo?B.getFileUrl(e,e.photo):"",tags:e.tags||[],category:e.category||[],dominantColor:e.dominantColor||"",links:Array.isArray(e.links)?e.links:[],isNew:e.isNew||!1,ageGroup:wf(e.age)}),Zk=e=>({id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?B.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:e.is_blocked||!1,favorites:e.favorites||[]}),xc=e=>({...ho(e),image:e.image?B.getFileUrl(e,e.image):"",actionButtons:Array.isArray(e.actionButtons)?e.actionButtons:[]}),zo=e=>{var r,s,i,o;const t=e.files||[],n=Array.isArray(t)?t:[t];return{...ho(e),userId:((s=(r=e.expand)==null?void 0:r.user_id)==null?void 0:s.id)||e.user_id,userName:((o=(i=e.expand)==null?void 0:i.user_id)==null?void 0:o.nickname)||e.userName,files:n.length>0?n.map(l=>B.getFileUrl(e,l)):[]}},Op=e=>({...ho(e),image:e.image?B.getFileUrl(e,e.image):void 0}),vc=e=>({...ho(e),image:e.image?B.getFileUrl(e,e.image):void 0});function Jk({children:e}){const[t,n]=h.useState([]),[r,s]=h.useState([]),[i,o]=h.useState([]),[l,c]=h.useState([]),[u,d]=h.useState([]),[f,p]=h.useState([]),[y,x]=h.useState(!0),[w,b]=h.useState(!0),[m,v]=h.useState(!1),[g,k]=h.useState(!1),[j,C]=h.useState([]),[S,N]=h.useState([]),[L,T]=h.useState({search:"",gender:"all",ageGroup:"all",sortBy:"newest",includeTags:[],excludeTags:[],includeCategories:[],excludeCategories:[]}),{user:I,isAdmin:$,toggleFavorite:Q}=me(),re=h.useRef(!1),ce=h.useCallback(async A=>{if(!$)return;const V=new Date(Date.now()-7*24*60*60*1e3),Y=[];A.forEach(de=>{de.isNew&&new Date(de.updated)<V&&(console.log(`Снимаем флаг 'Новый' с персонажа: ${de.name}`),Y.push(B.collection("characters").update(de.id,{isNew:!1})))}),Y.length>0&&(await Promise.allSettled(Y),await Qe())},[$]),Qe=h.useCallback(async()=>{b(!0);try{const A=await B.collection("characters").getFullList({sort:"-created",$autoCancel:!1});await ce(A),n(A.map(yc));const V=new Set,Y=new Set;A.forEach(de=>{(de.category||[]).forEach(ke=>V.add(ke)),(de.tags||[]).forEach(ke=>Y.add(ke))}),C(Array.from(V).sort()),N(Array.from(Y).sort())}catch(A){console.error("Char loading failed:",A)}finally{b(!1)}},[ce]),ee=h.useCallback(async()=>{v(!0);try{const A=await B.collection("users").getFullList({sort:"-created",$autoCancel:!1});s(A.map(Zk))}catch(A){console.error("Failed to load users",A)}finally{v(!1)}},[]),R=h.useCallback(async()=>{k(!0);try{const A=await B.collection("shop_items").getFullList({sort:"-created",$autoCancel:!1});o(A.map(xc))}catch(A){console.error("Failed to load shop items",A)}finally{k(!1)}},[]),O=h.useCallback(async()=>{try{const A=await B.collection("messages").getFullList({sort:"-created",$autoCancel:!1,expand:"user_id"});c(A.map(zo))}catch(A){console.error("Failed to load messages",A)}},[]),z=h.useCallback(async()=>{if(I)try{const A=await B.collection("notifications").getFullList({filter:`recipientId = "${I.id}"`,sort:"-created",$autoCancel:!1});d(A.map(Op))}catch(A){console.error("Failed to load notifications",A)}},[I]),M=h.useCallback(async()=>{try{const A=await B.collection("newsletters").getFullList({sort:"-created",$autoCancel:!1});p(A.map(vc))}catch(A){console.error("Failed to load newsletters",A)}},[]);h.useEffect(()=>re.current?void 0:(re.current=!0,(async()=>{const V=[Qe(),ee(),z(),M(),O()];await Promise.allSettled(V),x(!1)})(),B.collection("messages").subscribe("*",()=>{O()}),()=>{B.collection("messages").unsubscribe("*")}),[Qe,ee,z,M,O]);const K=h.useCallback(async A=>{try{return await B.collection("notifications").create(A,{$autoCancel:!1}),!0}catch(V){return console.error("Error adding notification:",V),!1}},[]),G=h.useCallback(async A=>{try{const V=await B.collection("notifications").update(A,{isRead:!0});return d(Y=>Y.map(de=>de.id===A?Op(V):de)),!0}catch(V){return console.error("Error marking notification as read:",V),!1}},[]),Ie=h.useCallback(async(A,V)=>{try{return await B.collection("users").update(A,V),await ee(),!0}catch(Y){return console.error("Failed to update user",Y),!1}},[ee]),se=h.useCallback(async(A,V)=>{try{const Y=await B.collection("characters").update(A,V);return n(de=>de.map(ke=>ke.id===A?yc(Y):ke)),!0}catch(Y){return console.error("Error updating character:",Y),!1}},[]),be=h.useCallback(async A=>{try{const V=await B.collection("characters").create(A);return n(Y=>[yc(V),...Y]),V}catch(V){return console.error("Error adding character:",V),!1}},[]),Ct=h.useCallback(async A=>{try{return await B.collection("characters").delete(A),n(V=>V.filter(Y=>Y.id!==A)),!0}catch(V){return console.error("Error deleting character:",V),!1}},[]),Wr=h.useCallback(async A=>{try{const V=await B.collection("shop_items").create(A);o(Y=>[xc(V),...Y])}catch(V){console.error("Failed to add shop item",V)}},[]),cr=h.useCallback(async(A,V)=>{try{const Y=await B.collection("shop_items").update(A,V);o(de=>de.map(ke=>ke.id===A?xc(Y):ke))}catch(Y){console.error("Failed to update shop item",Y)}},[]),W1=h.useCallback(async A=>{try{await B.collection("shop_items").delete(A),o(V=>V.filter(Y=>Y.id!==A))}catch(V){console.error("Failed to delete shop item",V)}},[]),H1=h.useCallback(async A=>{if(!I)return!1;try{const V=A.get("isTicket")==="true";A.append("user_id",I.id),A.append("userName",I.nickname),$?(A.append("isReadByAdmin","true"),A.append("isReadByUser","false")):(A.append("isReadByAdmin","false"),A.append("isReadByUser","true"));const Y=await B.collection("messages").create(A,{$autoCancel:!1,expand:"user_id"});c(un=>[zo(Y),...un]);const de=A.get("parent"),ke=[...l,zo(Y)],cn=de?ke.find(un=>un.id===de):null;if(V&&!$){const un=r.filter(dn=>dn.role==="admin");for(const dn of un)await K({recipientId:dn.id,senderId:I.id,senderName:I.nickname,type:"new_message",entityId:Y.id,message:`создал новый тикет: "${Y.subject}"`,isRead:!1})}else if(cn)if($)cn.userId!==I.id&&await K({recipientId:cn.userId,senderId:I.id,senderName:"Поддержка",type:"support_reply",entityId:cn.id,message:`ответил на ваш тикет: "${cn.subject}"`,isRead:!1});else{const un=r.filter(dn=>dn.role==="admin");for(const dn of un)await K({recipientId:dn.id,senderId:I.id,senderName:I.nickname,type:"support_reply",entityId:cn.id,message:`ответил на тикет: "${cn.subject}"`,isRead:!1})}return!0}catch(V){return console.error("Failed to add message:",V),!1}},[I,$,r,l,K]),K1=h.useCallback(async(A,V)=>{try{const Y=await B.collection("messages").update(A,V,{$autoCancel:!1});c(de=>de.map(ke=>ke.id===A?zo(Y):ke))}catch(Y){console.error("Failed to update message",Y)}},[]),G1=h.useCallback(async A=>{try{const V=await B.collection("newsletters").create(A);return p(Y=>[vc(V),...Y].sort((de,ke)=>ke.createdAt.getTime()-de.createdAt.getTime())),!0}catch(V){return console.error("Failed to add newsletter:",V),!1}},[]),q1=h.useCallback(async(A,V)=>{try{const Y=await B.collection("newsletters").update(A,V);return p(de=>de.map(ke=>ke.id===A?vc(Y):ke)),!0}catch(Y){return console.error("Failed to update newsletter:",Y),!1}},[]),Y1=h.useCallback(async A=>{try{return await B.collection("newsletters").delete(A),p(V=>V.filter(Y=>Y.id!==A)),!0}catch(V){return console.error("Failed to delete newsletter:",V),!1}},[]),X1=h.useMemo(()=>t.filter(A=>{const V=(L.search||"").toLowerCase(),Y=!V||A.name.toLowerCase().includes(V)||(A.occupation||"").toLowerCase().includes(V)||(A.description||"").toLowerCase().includes(V),de=L.gender==="all"||A.gender===L.gender,ke=L.ageGroup==="all"||A.ageGroup===L.ageGroup,cn=L.includeTags.length===0||L.includeTags.every(ur=>(A.tags||[]).includes(ur)),un=L.excludeTags.length===0||!L.excludeTags.some(ur=>(A.tags||[]).includes(ur)),dn=L.includeCategories.length===0||L.includeCategories.some(ur=>(A.category||[]).includes(ur)),Z1=L.excludeCategories.length===0||!L.excludeCategories.some(ur=>(A.category||[]).includes(ur));return Y&&de&&ke&&cn&&un&&dn&&Z1}).sort((A,V)=>L.sortBy==="rating"?(V.rating||0)-(A.rating||0):L.sortBy==="name"?A.name.localeCompare(V.name):new Date(V.createdAt).getTime()-new Date(A.createdAt).getTime()),[t,L]),Q1={loading:y,characters:t,users:r,shopItems:i,messages:l,notifications:u,newsletters:f,filters:L,setFilters:T,filteredCharacters:X1,charactersLoading:w,usersLoading:m,shopItemsLoading:g,updateCharacter:se,addCharacter:be,deleteCharacter:Ct,loadCharacters:Qe,loadUsers:ee,updateUser:Ie,loadShopItems:R,addShopItem:Wr,updateShopItem:cr,deleteShopItem:W1,loadMessages:O,addMessage:H1,updateMessage:K1,toggleFavorite:Q,addNotification:K,markNotificationAsRead:G,loadNotifications:z,loadNewsletters:M,addNewsletter:G1,updateNewsletter:q1,deleteNewsletter:Y1,allCategories:j,allTags:S};return a.jsx(nx.Provider,{value:Q1,children:e})}const Ve=()=>{const e=h.useContext(nx);if(!e)throw new Error("useData must be used within a DataProvider");return e},rx={search:"",gender:"all",ageGroup:"all",sortBy:"rating"},sx=h.createContext({userCharacters:[],filters:rx,setFilters:()=>{},filteredUserCharacters:[],loading:!1,loadUserCharacters:async()=>{},addUserCharacter:async()=>!0,updateUserCharacter:async()=>!0,deleteUserCharacter:async()=>!0,approveUserCharacter:async()=>!0,rejectUserCharacter:async()=>!0}),ej=({children:e})=>{const[t,n]=h.useState([]),[r,s]=h.useState(rx),[i]=h.useState(!1),o=h.useCallback(async()=>{},[]),l=h.useCallback(async x=>{try{if(!(x instanceof FormData)){const w={...x,id:Math.random().toString(36).slice(2),createdAt:new Date,status:"pending"};n(b=>[w,...b])}return!0}catch{return!1}},[]),c=h.useCallback(async(x,w)=>{try{return w instanceof FormData||n(b=>b.map(m=>m.id===x?{...m,...w}:m)),!0}catch{return!1}},[]),u=h.useCallback(async x=>{try{return n(w=>w.filter(b=>b.id!=x)),!0}catch{return!1}},[]),d=h.useCallback(async x=>{try{return n(w=>w.map(b=>b.id===x?{...b,status:"approved"}:b)),!0}catch{return!1}},[]),f=h.useCallback(async x=>{try{return n(w=>w.map(b=>b.id===x?{...b,status:"rejected"}:b)),!0}catch{return!1}},[]),p=h.useMemo(()=>{const x=r.search.toLowerCase();let w=[...t];return r.gender!=="all"&&(w=w.filter(b=>b.gender===r.gender)),r.ageGroup!=="all"&&(w=w.filter(b=>b.ageGroup===r.ageGroup)),x&&(w=w.filter(b=>(b.name||"").toLowerCase().includes(x))),r.sortBy==="name"&&w.sort((b,m)=>String(b.name||"").localeCompare(String(m.name||""))),r.sortBy==="newest"&&w.sort((b,m)=>+new Date(m.createdAt)-+new Date(b.createdAt)),w},[t,r]),y={userCharacters:t,filters:r,setFilters:s,filteredUserCharacters:p,loading:i,loadUserCharacters:o,addUserCharacter:l,updateUserCharacter:c,deleteUserCharacter:u,approveUserCharacter:d,rejectUserCharacter:f};return a.jsx(sx.Provider,{value:y,children:e})},ix=()=>h.useContext(sx),tj=e=>({id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?B.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:e.is_blocked||!1,favorites:e.favorites||[]}),wc=e=>{var n,r,s,i,o;const t={...e,id:e.id,createdAt:new Date(e.created),characterId:e.character_id,userId:e.user_id,userName:e.userName,rating:e.rating,comment:e.comment,parentReview:e.parentReview,likesBy:((r=(n=e.expand)==null?void 0:n.likesBy)==null?void 0:r.map(l=>l.id))||[],dislikesBy:((i=(s=e.expand)==null?void 0:s.dislikesBy)==null?void 0:i.map(l=>l.id))||[]};return(o=e.expand)!=null&&o.user_id&&(t.author=tj(e.expand.user_id)),t},ox=h.createContext(void 0);function nj({children:e}){const[t,n]=h.useState([]),[r,s]=h.useState(!0),{user:i}=me(),{addNotification:o,loadNotifications:l}=Ve(),c=h.useRef(!1),u=h.useCallback(async()=>{if(!c.current){c.current=!0,s(!0);try{const b=await B.collection("reviews").getFullList({sort:"-created",expand:"user_id,likesBy,dislikesBy",$autoCancel:!1});n(b.map(wc))}catch(b){b.isAbort||console.error("Failed to reload reviews:",b)}finally{s(!1),c.current=!1}}},[]);h.useEffect(()=>{u()},[u]);const d=h.useCallback(async b=>{if(!i)return!1;try{const m={user_id:i.id,userName:i.nickname,character_id:b.characterId,comment:b.comment,parentReview:b.parentReview,rating:b.rating},v=await B.collection("reviews").create(m,{expand:"user_id,likesBy,dislikesBy"}),g=wc(v);if(n(k=>[g,...k]),b.parentReview){const k=t.find(j=>j.id===b.parentReview);k&&k.userId!==i.id&&await o({recipientId:k.userId,senderId:i.id,senderName:i.nickname,type:"reply",entityId:b.characterId,message:`ответил на ваш комментарий: "${k.comment.slice(0,30)}..."`})}return!0}catch(m){return console.error("Error adding review:",m),!1}},[i,t,o]),f=h.useCallback(async(b,m)=>{try{const v=await B.collection("reviews").update(b,m,{expand:"user_id,likesBy,dislikesBy"});return n(g=>g.map(k=>k.id===b?wc(v):k)),!0}catch{return!1}},[]),p=h.useCallback(async(b,m)=>{if(!i)return;const v=t.find(S=>S.id===b);if(!v)return;const g={...v,likesBy:[...v.likesBy||[]],dislikesBy:[...v.dislikesBy||[]]},k=new Set(g.likesBy),j=new Set(g.dislikesBy);m==="like"?(k.has(i.id)?k.delete(i.id):k.add(i.id),j.delete(i.id)):(j.has(i.id)?j.delete(i.id):j.add(i.id),k.delete(i.id));const C={...v,likesBy:Array.from(k),dislikesBy:Array.from(j)};n(S=>S.map(N=>N.id===b?C:N));try{await B.collection("reviews").update(b,{likesBy:C.likesBy,dislikesBy:C.dislikesBy}),v.userId!==i.id&&(await o({recipientId:v.userId,senderId:i.id,senderName:i.nickname,type:m,entityId:v.characterId,message:`${m==="like"?"оценил":"негативно оценил"} ваш комментарий.`}),await l())}catch{n(N=>N.map(L=>L.id===b?g:L))}},[i,t,o,l]),y=h.useCallback(b=>p(b,"like"),[p]),x=h.useCallback(b=>p(b,"dislike"),[p]),w={reviews:t,loading:r,addReview:d,updateReview:f,toggleReviewLike:y,toggleReviewDislike:x};return a.jsx(ox.Provider,{value:w,children:e})}const po=()=>{const e=h.useContext(ox);if(!e)throw new Error("useReviews must be used within a ReviewsProvider");return e},bf=h.createContext({});function zs(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const kf=typeof window<"u",Sl=kf?h.useLayoutEffect:h.useEffect,Nl=h.createContext(null);function jf(e,t){e.indexOf(t)===-1&&e.push(t)}function Cf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const on=(e,t,n)=>n>t?t:n<e?e:n;let Zi=()=>{};const Nn={},ax=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lx(e){return typeof e=="object"&&e!==null}const cx=e=>/^0[^.\s]+$/u.test(e);function Sf(e){let t;return()=>(t===void 0&&(t=e()),t)}const ft=e=>e,rj=(e,t)=>n=>t(e(n)),mo=(...e)=>e.reduce(rj),Fs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Nf{constructor(){this.subscriptions=[]}add(t){return jf(this.subscriptions,t),()=>Cf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tn=e=>e*1e3,nn=e=>e/1e3;function Tf(e,t){return t?e*(1e3/t):0}const ux=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,sj=1e-7,ij=12;function oj(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=ux(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>sj&&++l<ij);return o}function go(e,t,n,r){if(e===t&&n===r)return ft;const s=i=>oj(i,0,1,e,n);return i=>i===0||i===1?i:ux(s(i),t,r)}const dx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,fx=e=>t=>1-e(1-t),hx=go(.33,1.53,.69,.99),Ef=fx(hx),px=dx(Ef),mx=e=>(e*=2)<1?.5*Ef(e):.5*(2-Math.pow(2,-10*(e-1))),Pf=e=>1-Math.sin(Math.acos(e)),gx=fx(Pf),yx=dx(Pf),aj=go(.42,0,1,1),lj=go(0,0,.58,1),xx=go(.42,0,.58,1),cj=e=>Array.isArray(e)&&typeof e[0]!="number",vx=e=>Array.isArray(e)&&typeof e[0]=="number",uj={linear:ft,easeIn:aj,easeInOut:xx,easeOut:lj,circIn:Pf,circInOut:yx,circOut:gx,backIn:Ef,backInOut:px,backOut:hx,anticipate:mx},dj=e=>typeof e=="string",_p=e=>{if(vx(e)){Zi(e.length===4);const[t,n,r,s]=e;return go(t,n,r,s)}else if(dj(e))return uj[e];return e},Wo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fj(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,p=!1)=>{const x=p&&s?n:r;return f&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const hj=40;function wx(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Wo.reduce((g,k)=>(g[k]=fj(i),g),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:p,render:y,postRender:x}=o,w=()=>{const g=Nn.useManualTiming?s.timestamp:performance.now();n=!1,Nn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,hj),1)),s.timestamp=g,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),p.process(s),y.process(s),x.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(w))},b=()=>{n=!0,r=!0,s.isProcessing||e(w)};return{schedule:Wo.reduce((g,k)=>{const j=o[k];return g[k]=(C,S=!1,N=!1)=>(n||b(),j.schedule(C,S,N)),g},{}),cancel:g=>{for(let k=0;k<Wo.length;k++)o[Wo[k]].cancel(g)},state:s,steps:o}}const{schedule:ie,cancel:Gt,state:De,steps:bc}=wx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ft,!0);let pa;function pj(){pa=void 0}const lt={now:()=>(pa===void 0&&lt.set(De.isProcessing||Nn.useManualTiming?De.timestamp:performance.now()),pa),set:e=>{pa=e,queueMicrotask(pj)}},bx=e=>t=>typeof t=="string"&&t.startsWith(e),Lf=bx("--"),mj=bx("var(--"),Rf=e=>mj(e)?gj.test(e.split("/*")[0].trim()):!1,gj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ws={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ji={...Ws,transform:e=>on(0,1,e)},Ho={...Ws,default:1},Ci=e=>Math.round(e*1e5)/1e5,Af=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yj(e){return e==null}const xj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mf=(e,t)=>n=>!!(typeof n=="string"&&xj.test(n)&&n.startsWith(e)||t&&!yj(n)&&Object.prototype.hasOwnProperty.call(n,t)),kx=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(Af);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},vj=e=>on(0,255,e),kc={...Ws,transform:e=>Math.round(vj(e))},kr={test:Mf("rgb","red"),parse:kx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+kc.transform(e)+", "+kc.transform(t)+", "+kc.transform(n)+", "+Ci(Ji.transform(r))+")"};function wj(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Uu={test:Mf("#"),parse:wj,transform:kr.transform},yo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),An=yo("deg"),rn=yo("%"),q=yo("px"),bj=yo("vh"),kj=yo("vw"),Vp={...rn,parse:e=>rn.parse(e)/100,transform:e=>rn.transform(e*100)},hs={test:Mf("hsl","hue"),parse:kx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+rn.transform(Ci(t))+", "+rn.transform(Ci(n))+", "+Ci(Ji.transform(r))+")"},Ae={test:e=>kr.test(e)||Uu.test(e)||hs.test(e),parse:e=>kr.test(e)?kr.parse(e):hs.test(e)?hs.parse(e):Uu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?kr.transform(e):hs.transform(e),getAnimatableNone:e=>{const t=Ae.parse(e);return t.alpha=0,Ae.transform(t)}},jj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Cj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Af))==null?void 0:t.length)||0)+(((n=e.match(jj))==null?void 0:n.length)||0)>0}const jx="number",Cx="color",Sj="var",Nj="var(",Bp="${}",Tj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Tj,c=>(Ae.test(c)?(r.color.push(i),s.push(Cx),n.push(Ae.parse(c))):c.startsWith(Nj)?(r.var.push(i),s.push(Sj),n.push(c)):(r.number.push(i),s.push(jx),n.push(parseFloat(c))),++i,Bp)).split(Bp);return{values:n,split:l,indexes:r,types:s}}function Sx(e){return eo(e).values}function Nx(e){const{split:t,types:n}=eo(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===jx?i+=Ci(s[o]):l===Cx?i+=Ae.transform(s[o]):i+=s[o]}return i}}const Ej=e=>typeof e=="number"?0:Ae.test(e)?Ae.getAnimatableNone(e):e;function Pj(e){const t=Sx(e);return Nx(e)(t.map(Ej))}const rr={test:Cj,parse:Sx,createTransformer:Nx,getAnimatableNone:Pj};function jc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Lj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=jc(c,l,e+1/3),i=jc(c,l,e),o=jc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ga(e,t){return n=>n>0?t:e}const ye=(e,t,n)=>e+(t-e)*n,Cc=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Rj=[Uu,kr,hs],Aj=e=>Rj.find(t=>t.test(e));function Up(e){const t=Aj(e);if(!t)return!1;let n=t.parse(e);return t===hs&&(n=Lj(n)),n}const zp=(e,t)=>{const n=Up(e),r=Up(t);if(!n||!r)return Ga(e,t);const s={...n};return i=>(s.red=Cc(n.red,r.red,i),s.green=Cc(n.green,r.green,i),s.blue=Cc(n.blue,r.blue,i),s.alpha=ye(n.alpha,r.alpha,i),kr.transform(s))},zu=new Set(["none","hidden"]);function Mj(e,t){return zu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ij(e,t){return n=>ye(e,t,n)}function If(e){return typeof e=="number"?Ij:typeof e=="string"?Rf(e)?Ga:Ae.test(e)?zp:Dj:Array.isArray(e)?Tx:typeof e=="object"?Ae.test(e)?zp:$j:Ga}function Tx(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>If(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function $j(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=If(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Fj(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],l=e.values[o]??0;n[s]=l,r[i]++}return n}const Dj=(e,t)=>{const n=rr.createTransformer(t),r=eo(e),s=eo(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?zu.has(e)&&!s.values.length||zu.has(t)&&!r.values.length?Mj(e,t):mo(Tx(Fj(r,s),s.values),n):Ga(e,t)};function Ex(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ye(e,t,n):If(e)(e,t)}const Oj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ie.update(t,n),stop:()=>Gt(t),now:()=>De.isProcessing?De.timestamp:lt.now()}},Px=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},qa=2e4;function $f(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<qa;)t+=n,r=e.next(t);return t>=qa?1/0:t}function _j(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min($f(r),qa);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:nn(s)}}const Vj=5;function Lx(e,t,n){const r=Math.max(t-Vj,0);return Tf(n-e(r),t-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sc=.001;function Bj({duration:e=Ce.duration,bounce:t=Ce.bounce,velocity:n=Ce.velocity,mass:r=Ce.mass}){let s,i,o=1-t;o=on(Ce.minDamping,Ce.maxDamping,o),e=on(Ce.minDuration,Ce.maxDuration,nn(e)),o<1?(s=u=>{const d=u*o,f=d*e,p=d-n,y=Wu(u,o),x=Math.exp(-f);return Sc-p/y*x},i=u=>{const f=u*o*e,p=f*n+n,y=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-f),w=Wu(Math.pow(u,2),o);return(-s(u)+Sc>0?-1:1)*((p-y)*x)/w}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Sc+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=zj(s,i,l);if(e=tn(e),isNaN(c))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Uj=12;function zj(e,t,n){let r=n;for(let s=1;s<Uj;s++)r=r-e(r)/t(r);return r}function Wu(e,t){return e*Math.sqrt(1-t*t)}const Wj=["duration","bounce"],Hj=["stiffness","damping","mass"];function Wp(e,t){return t.some(n=>e[n]!==void 0)}function Kj(e){let t={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...e};if(!Wp(e,Hj)&&Wp(e,Wj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*on(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ce.mass,stiffness:s,damping:i}}else{const n=Bj(e);t={...t,...n,mass:Ce.mass},t.isResolvedFromDuration=!0}return t}function Ya(e=Ce.visualDuration,t=Ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:y}=Kj({...n,velocity:-nn(n.velocity||0)}),x=p||0,w=u/(2*Math.sqrt(c*d)),b=o-i,m=nn(Math.sqrt(c/d)),v=Math.abs(b)<5;r||(r=v?Ce.restSpeed.granular:Ce.restSpeed.default),s||(s=v?Ce.restDelta.granular:Ce.restDelta.default);let g;if(w<1){const j=Wu(m,w);g=C=>{const S=Math.exp(-w*m*C);return o-S*((x+w*m*b)/j*Math.sin(j*C)+b*Math.cos(j*C))}}else if(w===1)g=j=>o-Math.exp(-m*j)*(b+(x+m*b)*j);else{const j=m*Math.sqrt(w*w-1);g=C=>{const S=Math.exp(-w*m*C),N=Math.min(j*C,300);return o-S*((x+w*m*b)*Math.sinh(N)+j*b*Math.cosh(N))/j}}const k={calculatedDuration:y&&f||null,next:j=>{const C=g(j);if(y)l.done=j>=f;else{let S=j===0?x:0;w<1&&(S=j===0?tn(x):Lx(g,j,C));const N=Math.abs(S)<=r,L=Math.abs(o-C)<=s;l.done=N&&L}return l.value=l.done?o:C,l},toString:()=>{const j=Math.min($f(k),qa),C=Px(S=>k.next(j*S).value,j,30);return j+"ms "+C},toTransition:()=>{}};return k}Ya.applyToOptions=e=>{const t=_j(e,100,Ya);return e.ease=t.ease,e.duration=tn(t.duration),e.type="keyframes",e};function Hu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},y=N=>l!==void 0&&N<l||c!==void 0&&N>c,x=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let w=n*t;const b=f+w,m=o===void 0?b:o(b);m!==b&&(w=m-f);const v=N=>-w*Math.exp(-N/r),g=N=>m+v(N),k=N=>{const L=v(N),T=g(N);p.done=Math.abs(L)<=u,p.value=p.done?m:T};let j,C;const S=N=>{y(p.value)&&(j=N,C=Ya({keyframes:[p.value,x(p.value)],velocity:Lx(g,N,p.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:N=>{let L=!1;return!C&&j===void 0&&(L=!0,k(N),S(N)),j!==void 0&&N>=j?C.next(N-j):(!L&&k(N),p)}}}function Gj(e,t,n){const r=[],s=n||Nn.mix||Ex,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ft:t;l=mo(c,l)}r.push(l)}return r}function Ff(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Zi(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Gj(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const p=Fs(e[f],e[f+1],d);return l[f](p)};return n?d=>u(on(e[0],e[i-1],d)):u}function qj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Fs(0,t,r);e.push(ye(n,1,s))}}function Rx(e){const t=[0];return qj(t,e.length-1),t}function Yj(e,t){return e.map(n=>n*t)}function Xj(e,t){return e.map(()=>t||xx).splice(0,e.length-1)}function Si({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=cj(r)?r.map(_p):_p(r),i={done:!1,value:t[0]},o=Yj(n&&n.length===t.length?n:Rx(t),e),l=Ff(o,t,{ease:Array.isArray(s)?s:Xj(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Qj=e=>e!==null;function Df(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Qj),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const Zj={decay:Hu,inertia:Hu,tween:Si,keyframes:Si,spring:Ya};function Ax(e){typeof e.type=="string"&&(e.type=Zj[e.type])}class Of{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Jj=e=>e/100;class _f extends Of{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==lt.now()&&this.tick(lt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ax(t);const{type:n=Si,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Si;c!==Si&&typeof l[0]!="number"&&(this.mixKeyframes=mo(Jj,Ex(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=$f(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:p,repeatDelay:y,type:x,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,k=r;if(f){const N=Math.min(this.currentTime,s)/l;let L=Math.floor(N),T=N%1;!T&&N>=1&&(T=1),T===1&&L--,L=Math.min(L,f+1),!!(L%2)&&(p==="reverse"?(T=1-T,y&&(T-=y/l)):p==="mirror"&&(k=o)),g=on(0,1,T)*l}const j=v?{done:!1,value:d[0]}:k.next(g);i&&(j.value=i(j.value));let{done:C}=j;!v&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&x!==Hu&&(j.value=Df(d,this.options,b,this.speed)),w&&w(j.value),S&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return nn(this.calculatedDuration)}get time(){return nn(this.currentTime)}set time(t){var n;t=tn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(lt.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=nn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=Oj,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(lt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function eC(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const jr=e=>e*180/Math.PI,Ku=e=>{const t=jr(Math.atan2(e[1],e[0]));return Gu(t)},tC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ku,rotateZ:Ku,skewX:e=>jr(Math.atan(e[1])),skewY:e=>jr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gu=e=>(e=e%360,e<0&&(e+=360),e),Hp=Ku,Kp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Gp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),nC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Kp,scaleY:Gp,scale:e=>(Kp(e)+Gp(e))/2,rotateX:e=>Gu(jr(Math.atan2(e[6],e[5]))),rotateY:e=>Gu(jr(Math.atan2(-e[2],e[0]))),rotateZ:Hp,rotate:Hp,skewX:e=>jr(Math.atan(e[4])),skewY:e=>jr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function qu(e){return e.includes("scale")?1:0}function Yu(e,t){if(!e||e==="none")return qu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=nC,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=tC,s=l}if(!s)return qu(t);const i=r[t],o=s[1].split(",").map(sC);return typeof i=="function"?i(o):o[i]}const rC=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Yu(n,t)};function sC(e){return parseFloat(e.trim())}const Hs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ks=new Set(Hs),qp=e=>e===Ws||e===q,iC=new Set(["x","y","z"]),oC=Hs.filter(e=>!iC.has(e));function aC(e){const t=[];return oC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Tr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Yu(t,"x"),y:(e,{transform:t})=>Yu(t,"y")};Tr.translateX=Tr.x;Tr.translateY=Tr.y;const Er=new Set;let Xu=!1,Qu=!1,Zu=!1;function Mx(){if(Qu){const e=Array.from(Er).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=aC(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qu=!1,Xu=!1,Er.forEach(e=>e.complete(Zu)),Er.clear()}function Ix(){Er.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qu=!0)})}function lC(){Zu=!0,Ix(),Mx(),Zu=!1}class Vf{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Er.add(this),Xu||(Xu=!0,ie.read(Ix),ie.resolveKeyframes(Mx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}eC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Er.delete(this)}cancel(){this.state==="scheduled"&&(Er.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cC=e=>e.startsWith("--");function uC(e,t,n){cC(t)?e.style.setProperty(t,n):e.style[t]=n}const $x=Sf(()=>window.ScrollTimeline!==void 0),dC={};function fC(e,t){const n=Sf(e);return()=>dC[t]??n()}const Fx=fC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ci=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Yp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ci([0,.65,.55,1]),circOut:ci([.55,0,1,.45]),backIn:ci([.31,.01,.66,-.59]),backOut:ci([.33,1.53,.69,.99])};function Dx(e,t){if(e)return typeof e=="function"?Fx()?Px(e,t):"ease-out":vx(e)?ci(e):Array.isArray(e)?e.map(n=>Dx(n,t)||Yp.easeOut):Yp[e]}function hC(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=Dx(l,s);Array.isArray(f)&&(d.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),e.animate(d,p)}function Ox(e){return typeof e=="function"&&"applyToOptions"in e}function pC({type:e,...t}){return Ox(e)&&Fx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class mC extends Of{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Zi(typeof t.type!="string");const u=pC(t);this.animation=hC(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Df(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):uC(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return nn(Number(t))}get time(){return nn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=tn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&$x()?(this.animation.timeline=t,ft):n(this)}}const _x={anticipate:mx,backInOut:px,circInOut:yx};function gC(e){return e in _x}function yC(e){typeof e.ease=="string"&&gC(e.ease)&&(e.ease=_x[e.ease])}const Xp=10;class xC extends mC{constructor(t){yC(t),Ax(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new _f({...o,autoplay:!1}),c=tn(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Xp).value,l.sample(c).value,Xp),l.stop()}}const Qp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(rr.test(e)||e==="0")&&!e.startsWith("url("));function vC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function wC(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Qp(s,t),l=Qp(i,t);return!o||!l?!1:vC(e)||(n==="spring"||Ox(n))&&r}function Ju(e){e.duration=0,e.type}const bC=new Set(["opacity","clipPath","filter","transform"]),kC=Sf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function jC(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return kC()&&n&&bC.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const CC=40;class SC extends Of{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var x;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=lt.now();const p={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},y=(d==null?void 0:d.KeyframeResolver)||Vf;this.keyframeResolver=new y(l,(w,b,m)=>this.onKeyframesResolved(w,b,p,!m),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=lt.now(),wC(t,i,o,l)||((Nn.instantAnimations||!c)&&(d==null||d(Df(t,r,n))),t[0]=t[t.length-1],Ju(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>CC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!u&&jC(p)?new xC({...p,element:p.motionValue.owner.current}):new _f(p);y.finished.then(()=>this.notifyFinished()).catch(ft),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),lC()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const NC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TC(e){const t=NC.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Vx(e,t,n=1){const[r,s]=TC(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return ax(o)?parseFloat(o):o}return Rf(s)?Vx(s,t,n+1):s}function Bf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Bx=new Set(["width","height","top","left","right","bottom",...Hs]),EC={test:e=>e==="auto",parse:e=>e},Ux=e=>t=>t.test(e),zx=[Ws,q,rn,An,kj,bj,EC],Zp=e=>zx.find(Ux(e));function PC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cx(e):!0}const LC=new Set(["brightness","contrast","saturate","opacity"]);function RC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Af)||[];if(!r)return e;const s=n.replace(r,"");let i=LC.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const AC=/\b([a-z-]*)\(.*?\)/gu,ed={...rr,getAnimatableNone:e=>{const t=e.match(AC);return t?t.map(RC).join(" "):e}},Jp={...Ws,transform:Math.round},MC={rotate:An,rotateX:An,rotateY:An,rotateZ:An,scale:Ho,scaleX:Ho,scaleY:Ho,scaleZ:Ho,skew:An,skewX:An,skewY:An,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Ji,originX:Vp,originY:Vp,originZ:q},Uf={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q,...MC,zIndex:Jp,fillOpacity:Ji,strokeOpacity:Ji,numOctaves:Jp},IC={...Uf,color:Ae,backgroundColor:Ae,outlineColor:Ae,fill:Ae,stroke:Ae,borderColor:Ae,borderTopColor:Ae,borderRightColor:Ae,borderBottomColor:Ae,borderLeftColor:Ae,filter:ed,WebkitFilter:ed},Wx=e=>IC[e];function Hx(e,t){let n=Wx(e);return n!==ed&&(n=rr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $C=new Set(["auto","none","0"]);function FC(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!$C.has(i)&&eo(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Hx(n,s)}class DC extends Vf{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Rf(u))){const d=Vx(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Bx.has(r)||t.length!==2)return;const[s,i]=t,o=Zp(s),l=Zp(i);if(o!==l)if(qp(o)&&qp(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Tr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||PC(t[s]))&&r.push(s);r.length&&FC(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Tr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Kx(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Gx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function zf(e){return lx(e)&&"offsetHeight"in e}const em=30,OC=e=>!isNaN(parseFloat(e)),Ni={current:void 0};class _C{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=lt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=lt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=OC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Nf);const r=this.events[t].add(n);return t==="change"?()=>{r(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ni.current&&Ni.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>em)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,em);return Tf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bt(e,t){return new _C(e,t)}const{schedule:Wf}=wx(queueMicrotask,!1),Dt={x:!1,y:!1};function qx(){return Dt.x||Dt.y}function VC(e){return e==="x"||e==="y"?Dt[e]?null:(Dt[e]=!0,()=>{Dt[e]=!1}):Dt.x||Dt.y?null:(Dt.x=Dt.y=!0,()=>{Dt.x=Dt.y=!1})}function Yx(e,t){const n=Kx(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function tm(e){return!(e.pointerType==="touch"||qx())}function BC(e,t,n={}){const[r,s,i]=Yx(e,n),o=l=>{if(!tm(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{tm(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Xx=(e,t)=>t?e===t?!0:Xx(e,t.parentElement):!1,Hf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,UC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zC(e){return UC.has(e.tagName)||e.tabIndex!==-1}const ma=new WeakSet;function nm(e){return t=>{t.key==="Enter"&&e(t)}}function Nc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const WC=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=nm(()=>{if(ma.has(n))return;Nc(n,"down");const s=nm(()=>{Nc(n,"up")}),i=()=>Nc(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function rm(e){return Hf(e)&&!qx()}function HC(e,t,n={}){const[r,s,i]=Yx(e,n),o=l=>{const c=l.currentTarget;if(!rm(l))return;ma.add(c);const u=t(c,l),d=(y,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),ma.has(c)&&ma.delete(c),rm(y)&&typeof u=="function"&&u(y,{success:x})},f=y=>{d(y,c===window||c===document||n.useGlobalTarget||Xx(c,y.target))},p=y=>{d(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),zf(l)&&(l.addEventListener("focus",u=>WC(u,s)),!zC(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Kf(e){return lx(e)&&"ownerSVGElement"in e}const ga=new WeakMap;let Mn;const Qx=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:Kf(r)&&"getBBox"in r?r.getBBox()[t]:r[n],KC=Qx("inline","width","offsetWidth"),GC=Qx("block","height","offsetHeight");function qC({target:e,borderBoxSize:t}){var n;(n=ga.get(e))==null||n.forEach(r=>{r(e,{get width(){return KC(e,t)},get height(){return GC(e,t)}})})}function YC(e){e.forEach(qC)}function XC(){typeof ResizeObserver>"u"||(Mn=new ResizeObserver(YC))}function QC(e,t){Mn||XC();const n=Kx(e);return n.forEach(r=>{let s=ga.get(r);s||(s=new Set,ga.set(r,s)),s.add(t),Mn==null||Mn.observe(r)}),()=>{n.forEach(r=>{const s=ga.get(r);s==null||s.delete(t),s!=null&&s.size||Mn==null||Mn.unobserve(r)})}}const ya=new Set;let ps;function ZC(){ps=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};ya.forEach(t=>t(e))},window.addEventListener("resize",ps)}function JC(e){return ya.add(e),ps||ZC(),()=>{ya.delete(e),!ya.size&&typeof ps=="function"&&(window.removeEventListener("resize",ps),ps=void 0)}}function eS(e,t){return typeof e=="function"?JC(e):QC(e,t)}function Zx(e,t){let n;const r=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;n!==o&&e(o),n=o};return ie.preUpdate(r,!0),()=>Gt(r)}function tS(e){return Kf(e)&&e.tagName==="svg"}function nS(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],i=e[2+n],o=e[3+n],l=Ff(s,i,o);return t?l(r):l}const qe=e=>!!(e&&e.getVelocity),rS=[...zx,Ae,rr],sS=e=>rS.find(Ux(e)),Tl=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class iS extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=zf(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oS({children:e,isPresent:t,anchorX:n,root:r}){const s=h.useId(),i=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=h.useContext(Tl);return h.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:p}=o.current;if(t||!i.current||!c||!u)return;const y=n==="left"?`left: ${f}`:`right: ${p}`;i.current.dataset.motionPopId=s;const x=document.createElement("style");l&&(x.nonce=l);const w=r??document.head;return w.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${y}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(x)&&w.removeChild(x)}},[t]),a.jsx(iS,{isPresent:t,childRef:i,sizeRef:o,children:h.cloneElement(e,{ref:i})})}const aS=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=zs(lS),d=h.useId();let f=!0,p=h.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:y=>{u.set(y,!0);for(const x of u.values())if(!x)return;r&&r()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[n,u,r]);return i&&f&&(p={...p}),h.useMemo(()=>{u.forEach((y,x)=>u.set(x,!1))},[n]),h.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(oS,{isPresent:n,anchorX:l,root:c,children:e})),a.jsx(Nl.Provider,{value:p,children:e})};function lS(){return new Map}function Jx(e=!0){const t=h.useContext(Nl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=h.useId();h.useEffect(()=>{if(e)return s(i)},[e]);const o=h.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Ko=e=>e.key||"";function sm(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const xe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=Jx(o),f=h.useMemo(()=>sm(e),[e]),p=o&&!u?[]:f.map(Ko),y=h.useRef(!0),x=h.useRef(f),w=zs(()=>new Map),[b,m]=h.useState(f),[v,g]=h.useState(f);Sl(()=>{y.current=!1,x.current=f;for(let C=0;C<v.length;C++){const S=Ko(v[C]);p.includes(S)?w.delete(S):w.get(S)!==!0&&w.set(S,!1)}},[v,p.length,p.join("-")]);const k=[];if(f!==b){let C=[...f];for(let S=0;S<v.length;S++){const N=v[S],L=Ko(N);p.includes(L)||(C.splice(S,0,N),k.push(N))}return i==="wait"&&k.length&&(C=k),g(sm(C)),m(f),null}const{forceRender:j}=h.useContext(bf);return a.jsx(a.Fragment,{children:v.map(C=>{const S=Ko(C),N=o&&!u?!1:f===v||p.includes(S),L=()=>{if(w.has(S))w.set(S,!0);else return;let T=!0;w.forEach(I=>{I||(T=!1)}),T&&(j==null||j(),g(x.current),o&&(d==null||d()),r&&r())};return a.jsx(aS,{isPresent:N,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:N?void 0:L,anchorX:l,children:C},S)})})},ev=h.createContext({strict:!1}),im={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ds={};for(const e in im)Ds[e]={isEnabled:t=>im[e].some(n=>!!t[n])};function cS(e){for(const t in e)Ds[t]={...Ds[t],...e[t]}}const uS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xa(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uS.has(e)}let tv=e=>!Xa(e);function dS(e){typeof e=="function"&&(tv=t=>t.startsWith("on")?!Xa(t):e(t))}try{dS(require("@emotion/is-prop-valid").default)}catch{}function fS(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(tv(s)||n===!0&&Xa(s)||!t&&!Xa(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const El=h.createContext({});function Pl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function to(e){return typeof e=="string"||Array.isArray(e)}const Gf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qf=["initial",...Gf];function Ll(e){return Pl(e.animate)||qf.some(t=>to(e[t]))}function nv(e){return!!(Ll(e)||e.variants)}function hS(e,t){if(Ll(e)){const{initial:n,animate:r}=e;return{initial:n===!1||to(n)?n:void 0,animate:to(r)?r:void 0}}return e.inherit!==!1?t:{}}function pS(e){const{initial:t,animate:n}=hS(e,h.useContext(El));return h.useMemo(()=>({initial:t,animate:n}),[om(t),om(n)])}function om(e){return Array.isArray(e)?e.join(" "):e}const no={};function mS(e){for(const t in e)no[t]=e[t],Lf(t)&&(no[t].isCSSVariable=!0)}function rv(e,{layout:t,layoutId:n}){return Ks.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!no[e]||e==="opacity")}const gS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yS=Hs.length;function xS(e,t,n){let r="",s=!0;for(let i=0;i<yS;i++){const o=Hs[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Gx(l,Uf[o]);if(!c){s=!1;const d=gS[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Yf(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Ks.has(c)){o=!0;continue}else if(Lf(c)){s[c]=u;continue}else{const d=Gx(u,Uf[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=xS(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Xf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sv(e,t,n){for(const r in t)!qe(t[r])&&!rv(r,n)&&(e[r]=t[r])}function vS({transformTemplate:e},t){return h.useMemo(()=>{const n=Xf();return Yf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function wS(e,t){const n=e.style||{},r={};return sv(r,n,e),Object.assign(r,vS(e,t)),r}function bS(e,t){const n={},r=wS(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const kS={offset:"stroke-dashoffset",array:"stroke-dasharray"},jS={offset:"strokeDashoffset",array:"strokeDasharray"};function CS(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?kS:jS;e[i.offset]=q.transform(-r);const o=q.transform(t),l=q.transform(n);e[i.array]=`${o} ${l}`}function iv(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(Yf(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p}=e;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&CS(f,s,i,o,!1)}const ov=()=>({...Xf(),attrs:{}}),av=e=>typeof e=="string"&&e.toLowerCase()==="svg";function SS(e,t,n,r){const s=h.useMemo(()=>{const i=ov();return iv(i,t,av(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};sv(i,e.style,e),s.style={...i,...s.style}}return s}const NS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qf(e){return typeof e!="string"||e.includes("-")?!1:!!(NS.indexOf(e)>-1||/[A-Z]/u.test(e))}function TS(e,t,n,{latestValues:r},s,i=!1){const l=(Qf(e)?SS:bS)(t,r,s,e),c=fS(t,typeof e=="string",i),u=e!==h.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=h.useMemo(()=>qe(d)?d.get():d,[d]);return h.createElement(e,{...u,children:f})}function am(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Zf(e,t,n,r){if(typeof t=="function"){const[s,i]=am(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=am(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function xa(e){return qe(e)?e.get():e}function ES({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:PS(n,r,s,e),renderState:t()}}function PS(e,t,n,r){const s={},i=r(e,{});for(const p in i)s[p]=xa(i[p]);let{initial:o,animate:l}=e;const c=Ll(e),u=nv(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Pl(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const x=Zf(e,p[y]);if(x){const{transitionEnd:w,transition:b,...m}=x;for(const v in m){let g=m[v];if(Array.isArray(g)){const k=d?g.length-1:0;g=g[k]}g!==null&&(s[v]=g)}for(const v in w)s[v]=w[v]}}}return s}const lv=e=>(t,n)=>{const r=h.useContext(El),s=h.useContext(Nl),i=()=>ES(e,t,r,s);return n?i():zs(i)};function Jf(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(qe(r[o])||t.style&&qe(t.style[o])||rv(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const LS=lv({scrapeMotionValuesFromProps:Jf,createRenderState:Xf});function cv(e,t,n){const r=Jf(e,t,n);for(const s in e)if(qe(e[s])||qe(t[s])){const i=Hs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const RS=lv({scrapeMotionValuesFromProps:cv,createRenderState:ov}),AS=Symbol.for("motionComponentSymbol");function ms(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function MS(e,t,n){return h.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ms(n)&&(n.current=r))},[t])}const eh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IS="framerAppearId",uv="data-"+eh(IS),dv=h.createContext({});function $S(e,t,n,r,s){var w,b;const{visualElement:i}=h.useContext(El),o=h.useContext(ev),l=h.useContext(Nl),c=h.useContext(Tl).reducedMotion,u=h.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=h.useContext(dv);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&FS(u.current,n,s,f);const p=h.useRef(!1);h.useInsertionEffect(()=>{d&&p.current&&d.update(n,l)});const y=n[uv],x=h.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,y)));return Sl(()=>{d&&(p.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),h.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,y)}),x.current=!1),d.enteringChildren=void 0)}),d}function FS(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:fv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&ms(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function fv(e){if(e)return e.options.allowProjection!==!1?e.projection:fv(e.parent)}function Tc(e,{forwardMotionProps:t=!1}={},n,r){n&&cS(n);const s=Qf(e)?RS:LS;function i(l,c){let u;const d={...h.useContext(Tl),...l,layoutId:DS(l)},{isStatic:f}=d,p=pS(l),y=s(l,f);if(!f&&kf){OS();const x=_S(d);u=x.MeasureLayout,p.visualElement=$S(e,y,d,r,x.ProjectionNode)}return a.jsxs(El.Provider,{value:p,children:[u&&p.visualElement?a.jsx(u,{visualElement:p.visualElement,...d}):null,TS(e,l,MS(y,p.visualElement,c),y,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=h.forwardRef(i);return o[AS]=e,o}function DS({layoutId:e}){const t=h.useContext(bf).id;return t&&e!==void 0?t+"-"+e:e}function OS(e,t){h.useContext(ev).strict}function _S(e){const{drag:t,layout:n}=Ds;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function VS(e,t){if(typeof Proxy>"u")return Tc;const n=new Map,r=(i,o)=>Tc(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Tc(o,void 0,e,t)),n.get(o))})}function hv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function BS({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function US(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ec(e){return e===void 0||e===1}function td({scale:e,scaleX:t,scaleY:n}){return!Ec(e)||!Ec(t)||!Ec(n)}function mr(e){return td(e)||pv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pv(e){return lm(e.x)||lm(e.y)}function lm(e){return e&&e!=="0%"}function Qa(e,t,n){const r=e-n,s=t*r;return n+s}function cm(e,t,n,r,s){return s!==void 0&&(e=Qa(e,s,r)),Qa(e,n,r)+t}function nd(e,t=0,n=1,r,s){e.min=cm(e.min,t,n,r,s),e.max=cm(e.max,t,n,r,s)}function mv(e,{x:t,y:n}){nd(e.x,t.translate,t.scale,t.originPoint),nd(e.y,n.translate,n.scale,n.originPoint)}const um=.999999999999,dm=1.0000000000001;function zS(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ys(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,mv(e,o)),r&&mr(i.latestValues)&&ys(e,i.latestValues))}t.x<dm&&t.x>um&&(t.x=1),t.y<dm&&t.y>um&&(t.y=1)}function gs(e,t){e.min=e.min+t,e.max=e.max+t}function fm(e,t,n,r,s=.5){const i=ye(e.min,e.max,s);nd(e,t,n,i,r)}function ys(e,t){fm(e.x,t.x,t.scaleX,t.scale,t.originX),fm(e.y,t.y,t.scaleY,t.scale,t.originY)}function gv(e,t){return hv(US(e.getBoundingClientRect(),t))}function WS(e,t,n){const r=gv(e,n),{scroll:s}=t;return s&&(gs(r.x,s.offset.x),gs(r.y,s.offset.y)),r}const hm=()=>({translate:0,scale:1,origin:0,originPoint:0}),xs=()=>({x:hm(),y:hm()}),pm=()=>({min:0,max:0}),Ee=()=>({x:pm(),y:pm()}),Za={current:null},th={current:!1};function yv(){if(th.current=!0,!!kf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Za.current=e.matches;e.addEventListener("change",t),t()}else Za.current=!1}const HS=new WeakMap;function KS(e,t,n){for(const r in t){const s=t[r],i=n[r];if(qe(s))e.addValue(r,s);else if(qe(i))e.addValue(r,Bt(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Bt(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const mm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GS{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=lt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ie.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ll(n),this.isVariantNode=nv(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&qe(y)&&y.set(c[p])}}mount(t){var n;this.current=t,HS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),th.current||yv(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Za.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Gt(this.notifyUpdate),Gt(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ks.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ds){const n=Ds[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<mm.length;r++){const s=mm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=KS(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Bt(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ax(r)||cx(r))?r=parseFloat(r):!sS(r)&&rr.test(n)&&(r=Hx(t,n)),this.setBaseTarget(t,qe(r)?r.get():r)),qe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Zf(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!qe(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Nf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Wf.render(this.render)}}class xv extends GS{constructor(){super(...arguments),this.KeyframeResolver=DC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function vv(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function qS(e){return window.getComputedStyle(e)}class YS extends xv{constructor(){super(...arguments),this.type="html",this.renderInstance=vv}readValueFromInstance(t,n){var r;if(Ks.has(n))return(r=this.projection)!=null&&r.isProjecting?qu(n):rC(t,n);{const s=qS(t),i=(Lf(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return gv(t,n)}build(t,n,r){Yf(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Jf(t,n,r)}}const wv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XS(e,t,n,r){vv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(wv.has(s)?s:eh(s),t.attrs[s])}class QS extends xv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ks.has(n)){const r=Wx(n);return r&&r.default||0}return n=wv.has(n)?n:eh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return cv(t,n,r)}build(t,n,r){iv(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){XS(t,n,r,s)}mount(t){this.isSVGTag=av(t.tagName),super.mount(t)}}const ZS=(e,t)=>Qf(e)?new QS(t):new YS(t,{allowProjection:e!==h.Fragment});function Ts(e,t,n){const r=e.getProps();return Zf(r,t,n!==void 0?n:r.custom,e)}const rd=e=>Array.isArray(e);function JS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bt(n))}function eN(e){return rd(e)?e[e.length-1]||0:e}function tN(e,t){const n=Ts(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=eN(i[o]);JS(e,o,l)}}function nN(e){return!!(qe(e)&&e.add)}function sd(e,t){const n=e.getValue("willChange");if(nN(n))return n.add(t);if(!n&&Nn.WillChange){const r=new Nn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function bv(e){return e.props[uv]}const rN=e=>e!==null;function sN(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(rN),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const iN={type:"spring",stiffness:500,damping:25,restSpeed:10},oN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aN={type:"keyframes",duration:.8},lN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cN=(e,{keyframes:t})=>t.length>2?aN:Ks.has(e)?e.startsWith("scale")?oN(t[1]):iN:lN;function uN({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const nh=(e,t,n,r={},s,i)=>o=>{const l=Bf(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-tn(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};uN(l)||Object.assign(d,cN(e,d)),d.duration&&(d.duration=tn(d.duration)),d.repeatDelay&&(d.repeatDelay=tn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Ju(d),d.delay===0&&(f=!0)),(Nn.instantAnimations||Nn.skipAnimations)&&(f=!0,Ju(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const p=sN(d.keyframes,l);if(p!==void 0){ie.update(()=>{d.onUpdate(p),d.onComplete()});return}}return l.isSync?new _f(d):new SC(d)};function dN({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kv(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),p=l[d];if(p===void 0||u&&dN(u,d))continue;const y={delay:n,...Bf(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===x&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const m=bv(e);if(m){const v=window.MotionHandoffAnimation(m,d,ie);v!==null&&(y.startTime=v,w=!0)}}sd(e,d),f.start(nh(d,f,p,e.shouldReduceMotion&&Bx.has(d)?{type:!1}:y,e,w));const b=f.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{ie.update(()=>{o&&tN(e,o)})}),c}function jv(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function id(e,t,n={}){var c;const r=Ts(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(kv(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return fN(e,t,u,d,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function fN(e,t,n=0,r=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(id(c,t,{...o,delay:n+(typeof r=="function"?0:r)+jv(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function hN(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>id(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=id(e,t,n);else{const s=typeof t=="function"?Ts(e,t,n.custom):t;r=Promise.all(kv(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Cv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const pN=qf.length;function Sv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Sv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<pN;n++){const r=qf[n],s=e.props[r];(to(s)||s===!1)&&(t[r]=s)}return t}const mN=[...Gf].reverse(),gN=Gf.length;function yN(e){return t=>Promise.all(t.map(({animation:n,options:r})=>hN(e,n,r)))}function xN(e){let t=yN(e),n=gm(),r=!0;const s=c=>(u,d)=>{var p;const f=Ts(e,d,c==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:x,...w}=f;u={...u,...w,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=Sv(e.parent)||{},f=[],p=new Set;let y={},x=1/0;for(let b=0;b<gN;b++){const m=mN[b],v=n[m],g=u[m]!==void 0?u[m]:d[m],k=to(g),j=m===c?v.isActive:null;j===!1&&(x=b);let C=g===d[m]&&g!==u[m]&&k;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...y},!v.isActive&&j===null||!g&&!v.prevProp||Pl(g)||typeof g=="boolean")continue;const S=vN(v.prevProp,g);let N=S||m===c&&v.isActive&&!C&&k||b>x&&k,L=!1;const T=Array.isArray(g)?g:[g];let I=T.reduce(s(m),{});j===!1&&(I={});const{prevResolvedValues:$={}}=v,Q={...$,...I},re=ee=>{N=!0,p.has(ee)&&(L=!0,p.delete(ee)),v.needsAnimating[ee]=!0;const R=e.getValue(ee);R&&(R.liveStyle=!1)};for(const ee in Q){const R=I[ee],O=$[ee];if(y.hasOwnProperty(ee))continue;let z=!1;rd(R)&&rd(O)?z=!Cv(R,O):z=R!==O,z?R!=null?re(ee):p.add(ee):R!==void 0&&p.has(ee)?re(ee):v.protectedKeys[ee]=!0}v.prevProp=g,v.prevResolvedValues=I,v.isActive&&(y={...y,...I}),r&&e.blockInitialAnimation&&(N=!1);const ce=C&&S;N&&(!ce||L)&&f.push(...T.map(ee=>{const R={type:m};if(typeof ee=="string"&&r&&!ce&&e.manuallyAnimateOnMount&&e.parent){const{parent:O}=e,z=Ts(O,ee);if(O.enteringChildren&&z){const{delayChildren:M}=z.transition||{};R.delay=jv(O.enteringChildren,e,M)}}return{animation:ee,options:R}}))}if(p.size){const b={};if(typeof u.initial!="boolean"){const m=Ts(e,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(b.transition=m.transition)}p.forEach(m=>{const v=e.getBaseTarget(m),g=e.getValue(m);g&&(g.liveStyle=!0),b[m]=v??null}),f.push({animation:b})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=gm(),r=!0}}}function vN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Cv(t,e):!1}function dr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gm(){return{animate:dr(!0),whileInView:dr(),whileHover:dr(),whileTap:dr(),whileDrag:dr(),whileFocus:dr(),exit:dr()}}class lr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class wN extends lr{constructor(t){super(t),t.animationState||(t.animationState=xN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Pl(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let bN=0;class kN extends lr{constructor(){super(...arguments),this.id=bN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const jN={animation:{Feature:wN},exit:{Feature:kN}};function ro(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function xo(e){return{point:{x:e.pageX,y:e.pageY}}}const CN=e=>t=>Hf(t)&&e(t,xo(t));function Ti(e,t,n,r){return ro(e,t,CN(n),r)}const Nv=1e-4,SN=1-Nv,NN=1+Nv,Tv=.01,TN=0-Tv,EN=0+Tv;function Je(e){return e.max-e.min}function PN(e,t,n){return Math.abs(e-t)<=n}function ym(e,t,n,r=.5){e.origin=r,e.originPoint=ye(t.min,t.max,e.origin),e.scale=Je(n)/Je(t),e.translate=ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SN&&e.scale<=NN||isNaN(e.scale))&&(e.scale=1),(e.translate>=TN&&e.translate<=EN||isNaN(e.translate))&&(e.translate=0)}function Ei(e,t,n,r){ym(e.x,t.x,n.x,r?r.originX:void 0),ym(e.y,t.y,n.y,r?r.originY:void 0)}function xm(e,t,n){e.min=n.min+t.min,e.max=e.min+Je(t)}function LN(e,t,n){xm(e.x,t.x,n.x),xm(e.y,t.y,n.y)}function vm(e,t,n){e.min=t.min-n.min,e.max=e.min+Je(t)}function Pi(e,t,n){vm(e.x,t.x,n.x),vm(e.y,t.y,n.y)}function Tt(e){return[e("x"),e("y")]}const Ev=({current:e})=>e?e.ownerDocument.defaultView:null,wm=(e,t)=>Math.abs(e-t);function RN(e,t){const n=wm(e.x,t.x),r=wm(e.y,t.y);return Math.sqrt(n**2+r**2)}class Pv{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Lc(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=RN(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:w}=p,{timestamp:b}=De;this.history.push({...w,timestamp:b});const{onStart:m,onMove:v}=this.handlers;y||(m&&m(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Pc(y,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Lc(p.type==="pointercancel"?this.lastMoveEventInfo:Pc(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,m),w&&w(p,m)},!Hf(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=xo(t),c=Pc(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=De;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Lc(c,this.history)),this.removeListeners=mo(Ti(this.contextWindow,"pointermove",this.handlePointerMove),Ti(this.contextWindow,"pointerup",this.handlePointerUp),Ti(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gt(this.updatePoint)}}function Pc(e,t){return t?{point:t(e.point)}:e}function bm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Lc({point:e},t){return{point:e,delta:bm(e,Lv(t)),offset:bm(e,AN(t)),velocity:MN(t,.1)}}function AN(e){return e[0]}function Lv(e){return e[e.length-1]}function MN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Lv(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>tn(t)));)n--;if(!r)return{x:0,y:0};const i=nn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function IN(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ye(n,e,r.max):Math.min(e,n)),e}function km(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function $N(e,{top:t,left:n,bottom:r,right:s}){return{x:km(e.x,n,s),y:km(e.y,t,r)}}function jm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function FN(e,t){return{x:jm(e.x,t.x),y:jm(e.y,t.y)}}function DN(e,t){let n=.5;const r=Je(e),s=Je(t);return s>r?n=Fs(t.min,t.max-r,e.min):r>s&&(n=Fs(e.min,e.max-s,t.min)),on(0,1,n)}function ON(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const od=.35;function _N(e=od){return e===!1?e=0:e===!0&&(e=od),{x:Cm(e,"left","right"),y:Cm(e,"top","bottom")}}function Cm(e,t,n){return{min:Sm(e,t),max:Sm(e,n)}}function Sm(e,t){return typeof e=="number"?e:e[t]||0}const VN=new WeakMap;class BN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xo(f).point)},o=(f,p)=>{const{drag:y,dragPropagation:x,onDragStart:w}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VC(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tt(m=>{let v=this.getAxisMotionValue(m).get()||0;if(rn.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const k=g.layout.layoutBox[m];k&&(v=Je(k)*(parseFloat(v)/100))}}this.originPoint[m]=v}),w&&ie.postRender(()=>w(f,p)),sd(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:w,onDrag:b}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:m}=p;if(x&&this.currentDirection===null){this.currentDirection=UN(m),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,m),this.updateAxis("y",p.point,m),this.visualElement.render(),b&&b(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Tt(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Pv(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Ev(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ie.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Go(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=IN(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&ms(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=$N(r.layoutBox,t):this.constraints=!1,this.elastic=_N(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Tt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ON(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ms(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=WS(r,s.root,this.visualElement.getTransformPagePoint());let o=FN(s.layout.layoutBox,i);if(n){const l=n(BS(o));this.hasMutatedConstraints=!!l,l&&(o=hv(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Tt(d=>{if(!Go(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return sd(this.visualElement,t),r.start(nh(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tt(n=>{const{drag:r}=this.getProps();if(!Go(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-ye(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ms(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=DN({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tt(o=>{if(!Go(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ye(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;VN.set(this.visualElement,this);const t=this.visualElement.current,n=Ti(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ms(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ie.read(r);const o=ro(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=od,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Go(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function UN(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zN extends lr{constructor(t){super(t),this.removeGroupControls=ft,this.removeListeners=ft,this.controls=new BN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ft}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nm=e=>(t,n)=>{e&&ie.postRender(()=>e(t,n))};class WN extends lr{constructor(){super(...arguments),this.removePointerDownListener=ft}onPointerDown(t){this.session=new Pv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ev(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Nm(t),onStart:Nm(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ie.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ti(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const va={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ni={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const n=Tm(e,t.target.x),r=Tm(e,t.target.y);return`${n}% ${r}%`}},HN={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=rr.parse(e);if(s.length>5)return r;const i=rr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=ye(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let Rc=!1;class KN extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;mS(GN),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Rc&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),va.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Rc=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ie.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Wf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Rc=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Rv(e){const[t,n]=Jx(),r=h.useContext(bf);return a.jsx(KN,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(dv),isPresent:t,safeToRemove:n})}const GN={borderRadius:{...ni,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ni,borderTopRightRadius:ni,borderBottomLeftRadius:ni,borderBottomRightRadius:ni,boxShadow:HN};function qN(e,t,n){const r=qe(e)?e:Bt(e);return r.start(nh("",r,t,n)),r.animation}const YN=(e,t)=>e.depth-t.depth;class XN{constructor(){this.children=[],this.isDirty=!1}add(t){jf(this.children,t),this.isDirty=!0}remove(t){Cf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YN),this.isDirty=!1,this.children.forEach(t)}}function QN(e,t){const n=lt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Gt(r),e(i-t))};return ie.setup(r,!0),()=>Gt(r)}const Av=["TopLeft","TopRight","BottomLeft","BottomRight"],ZN=Av.length,Em=e=>typeof e=="string"?parseFloat(e):e,Pm=e=>typeof e=="number"||q.test(e);function JN(e,t,n,r,s,i){s?(e.opacity=ye(0,n.opacity??1,e5(r)),e.opacityExit=ye(t.opacity??1,0,t5(r))):i&&(e.opacity=ye(t.opacity??1,n.opacity??1,r));for(let o=0;o<ZN;o++){const l=`border${Av[o]}Radius`;let c=Lm(t,l),u=Lm(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Pm(c)===Pm(u)?(e[l]=Math.max(ye(Em(c),Em(u),r),0),(rn.test(u)||rn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ye(t.rotate||0,n.rotate||0,r))}function Lm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const e5=Mv(0,.5,gx),t5=Mv(.5,.95,ft);function Mv(e,t,n){return r=>r<e?0:r>t?1:n(Fs(e,t,r))}function Rm(e,t){e.min=t.min,e.max=t.max}function St(e,t){Rm(e.x,t.x),Rm(e.y,t.y)}function Am(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Mm(e,t,n,r,s){return e-=t,e=Qa(e,1/n,r),s!==void 0&&(e=Qa(e,1/s,r)),e}function n5(e,t=0,n=1,r=.5,s,i=e,o=e){if(rn.test(t)&&(t=parseFloat(t),t=ye(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ye(i.min,i.max,r);e===i&&(l-=t),e.min=Mm(e.min,t,n,l,s),e.max=Mm(e.max,t,n,l,s)}function Im(e,t,[n,r,s],i,o){n5(e,t[n],t[r],t[s],t.scale,i,o)}const r5=["x","scaleX","originX"],s5=["y","scaleY","originY"];function $m(e,t,n,r){Im(e.x,t,r5,n?n.x:void 0,r?r.x:void 0),Im(e.y,t,s5,n?n.y:void 0,r?r.y:void 0)}function Fm(e){return e.translate===0&&e.scale===1}function Iv(e){return Fm(e.x)&&Fm(e.y)}function Dm(e,t){return e.min===t.min&&e.max===t.max}function i5(e,t){return Dm(e.x,t.x)&&Dm(e.y,t.y)}function Om(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function $v(e,t){return Om(e.x,t.x)&&Om(e.y,t.y)}function _m(e){return Je(e.x)/Je(e.y)}function Vm(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class o5{constructor(){this.members=[]}add(t){jf(this.members,t),t.scheduleRender()}remove(t){if(Cf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a5(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:p,skewX:y,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Ac=["","X","Y","Z"],l5=1e3;let c5=0;function Mc(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Fv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=bv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ie,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Fv(r)}function Dv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=c5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f5),this.nodes.forEach(g5),this.nodes.forEach(y5),this.nodes.forEach(h5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new XN)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Nf),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Kf(o)&&!tS(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const p=()=>this.root.updateBlockedByResize=!1;ie.read(()=>{f=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,d&&d(),d=QN(p,250),va.hasAnimatedSinceResize&&(va.hasAnimatedSinceResize=!1,this.nodes.forEach(zm)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||k5,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),m=!this.targetLayout||!$v(this.targetLayout,y),v=!f&&p;if(this.options.layoutRoot||this.resumeFrom||v||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Bf(x,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(d,v)}else f||zm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Bm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Um);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(m5),this.nodes.forEach(u5),this.nodes.forEach(d5)):this.nodes.forEach(Um),this.clearAllSnapshots();const l=lt.now();De.delta=on(0,1e3/60,l-De.timestamp),De.timestamp=l,De.isProcessing=!0,bc.update.process(De),bc.preRender.process(De),bc.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p5),this.sharedNodes.forEach(v5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Je(this.snapshot.measuredBox.x)&&!Je(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Iv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||mr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),j5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ee();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(C5))){const{scroll:d}=this.root;d&&(gs(l.x,d.offset.x),gs(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Ee();if(St(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&St(l,o),gs(l.x,f.offset.x),gs(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Ee();St(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ys(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),mr(d.latestValues)&&ys(c,d.latestValues)}return mr(this.latestValues)&&ys(c,this.latestValues),c}removeTransform(o){const l=Ee();St(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!mr(u.latestValues))continue;td(u.latestValues)&&u.updateSnapshot();const d=Ee(),f=u.measurePageBox();St(d,f),$m(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return mr(this.latestValues)&&$m(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Pi(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):St(this.target,this.layout.layoutBox),mv(this.target,this.targetDelta)):St(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Pi(this.relativeTargetOrigin,this.target,y.target),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||td(this.parent.latestValues)||pv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===De.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;St(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;zS(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ee());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Am(this.prevProjectionDelta.x,this.projectionDelta.x),Am(this.prevProjectionDelta.y,this.projectionDelta.y)),Ei(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!Vm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xs(),this.projectionDelta=xs(),this.projectionDeltaWithTransform=xs()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=xs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ee(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=y!==x,b=this.getStack(),m=!b||b.members.length<=1,v=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(b5));this.animationProgress=0;let g;this.mixTargetDelta=k=>{const j=k/1e3;Wm(f.x,o.x,j),Wm(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pi(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),w5(this.relativeTarget,this.relativeTargetOrigin,p,j),g&&i5(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Ee()),St(g,this.relativeTarget)),w&&(this.animationValues=d,JN(d,u,this.latestValues,j,v,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Gt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{va.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bt(0)),this.currentAnimation=qN(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Ov(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ee();const f=Je(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=Je(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}St(l,c),ys(l,d),Ei(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new o5),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Mc("z",o,u,this.animationValues);for(let d=0;d<Ac.length;d++)Mc(`rotate${Ac[d]}`,o,u,this.animationValues),Mc(`skew${Ac[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=xa(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=xa(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!mr(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=a5(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:p,y}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in no){if(d[x]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:m}=no[x],v=f==="none"?d[x]:w(d[x],u);if(b){const g=b.length;for(let k=0;k<g;k++)o[b[k]]=v}else m?this.options.visualElement.renderState.vars[x]=v:o[x]=v}this.options.layoutId&&(o.pointerEvents=u===this?xa(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Bm),this.root.sharedNodes.clear()}}}function u5(e){e.updateLayout()}function d5(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Tt(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],y=Je(p);p.min=r[f].min,p.max=p.min+y}):Ov(i,t.layoutBox,r)&&Tt(f=>{const p=o?t.measuredBox[f]:t.layoutBox[f],y=Je(r[f]);p.max=p.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const l=xs();Ei(l,r,t.layoutBox);const c=xs();o?Ei(c,e.applyTransform(s,!0),t.measuredBox):Ei(c,r,t.layoutBox);const u=!Iv(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const x=Ee();Pi(x,t.layoutBox,p.layoutBox);const w=Ee();Pi(w,r,y.layoutBox),$v(x,w)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function f5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function h5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function p5(e){e.clearSnapshot()}function Bm(e){e.clearMeasurements()}function Um(e){e.isLayoutDirty=!1}function m5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function g5(e){e.resolveTargetDelta()}function y5(e){e.calcProjection()}function x5(e){e.resetSkewAndRotation()}function v5(e){e.removeLeadSnapshot()}function Wm(e,t,n){e.translate=ye(t.translate,0,n),e.scale=ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Hm(e,t,n,r){e.min=ye(t.min,n.min,r),e.max=ye(t.max,n.max,r)}function w5(e,t,n,r){Hm(e.x,t.x,n.x,r),Hm(e.y,t.y,n.y,r)}function b5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const k5={duration:.45,ease:[.4,0,.1,1]},Km=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Gm=Km("applewebkit/")&&!Km("chrome/")?Math.round:ft;function qm(e){e.min=Gm(e.min),e.max=Gm(e.max)}function j5(e){qm(e.x),qm(e.y)}function Ov(e,t,n){return e==="position"||e==="preserve-aspect"&&!PN(_m(t),_m(n),.2)}function C5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const S5=Dv({attachResizeListener:(e,t)=>ro(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ic={current:void 0},_v=Dv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ic.current){const e=new S5({});e.mount(window),e.setOptions({layoutScroll:!0}),Ic.current=e}return Ic.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),N5={pan:{Feature:WN},drag:{Feature:zN,ProjectionNode:_v,MeasureLayout:Rv}};function Ym(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ie.postRender(()=>i(t,xo(t)))}class T5 extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=BC(t,(n,r)=>(Ym(this.node,r,"Start"),s=>Ym(this.node,s,"End"))))}unmount(){}}class E5 extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mo(ro(this.node.current,"focus",()=>this.onFocus()),ro(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Xm(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ie.postRender(()=>i(t,xo(t)))}class P5 extends lr{mount(){const{current:t}=this.node;t&&(this.unmount=HC(t,(n,r)=>(Xm(this.node,r,"Start"),(s,{success:i})=>Xm(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ad=new WeakMap,$c=new WeakMap,L5=e=>{const t=ad.get(e.target);t&&t(e)},R5=e=>{e.forEach(L5)};function A5({root:e,...t}){const n=e||document;$c.has(n)||$c.set(n,{});const r=$c.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(R5,{root:e,...t})),r[s]}function M5(e,t,n){const r=A5(t);return ad.set(e,n),r.observe(e),()=>{ad.delete(e),r.unobserve(e)}}const I5={some:0,all:1};class $5 extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:I5[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return M5(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(F5(t,n))&&this.startObserver()}unmount(){}}function F5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const D5={inView:{Feature:$5},tap:{Feature:P5},focus:{Feature:E5},hover:{Feature:T5}},O5={layout:{ProjectionNode:_v,MeasureLayout:Rv}},_5={...jN,...D5,...N5,...O5},E=VS(_5,ZS),V5=50,Qm=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),B5=()=>({time:0,x:Qm(),y:Qm()}),U5={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Zm(e,t,n,r){const s=n[t],{length:i,position:o}=U5[t],l=s.current,c=n.time;s.current=e[`scroll${o}`],s.scrollLength=e[`scroll${i}`]-e[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Fs(0,s.scrollLength,s.current);const u=r-c;s.velocity=u>V5?0:Tf(s.current-l,u)}function z5(e,t,n){Zm(e,"x",t,n),Zm(e,"y",t,n),t.time=n}function W5(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(zf(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return n}const ld={start:0,center:.5,end:1};function Jm(e,t,n=0){let r=0;if(e in ld&&(e=ld[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?r=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?r=s/100*document.documentElement.clientWidth:e.endsWith("vh")?r=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(r=t*e),n+r}const H5=[0,0];function K5(e,t,n,r){let s=Array.isArray(e)?e:H5,i=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,ld[e]?e:"0"]),i=Jm(s[0],n,r),o=Jm(s[1],t),i-o}const G5={All:[[0,0],[1,1]]},q5={x:0,y:0};function Y5(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function X5(e,t,n){const{offset:r=G5.All}=n,{target:s=e,axis:i="y"}=n,o=i==="y"?"height":"width",l=s!==e?W5(s,e):q5,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:Y5(s),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let d=!t[i].interpolate;const f=r.length;for(let p=0;p<f;p++){const y=K5(r[p],u[o],c[o],l[i]);!d&&y!==t[i].interpolatorOffsets[p]&&(d=!0),t[i].offset[p]=y}d&&(t[i].interpolate=Ff(t[i].offset,Rx(r),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=on(0,1,t[i].interpolate(t[i].current))}function Q5(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function Z5(e,t,n,r={}){return{measure:s=>{Q5(e,r.target,n),z5(e,n,s),(r.offset||r.target)&&X5(e,n,r)},notify:()=>t(n)}}const ri=new WeakMap,eg=new WeakMap,Fc=new WeakMap,tg=e=>e===document.scrollingElement?window:e;function Vv(e,{container:t=document.scrollingElement,...n}={}){if(!t)return ft;let r=Fc.get(t);r||(r=new Set,Fc.set(t,r));const s=B5(),i=Z5(t,e,s,n);if(r.add(i),!ri.has(t)){const l=()=>{for(const f of r)f.measure(De.timestamp);ie.preUpdate(c)},c=()=>{for(const f of r)f.notify()},u=()=>ie.read(l);ri.set(t,u);const d=tg(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&eg.set(t,eS(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const o=ri.get(t);return ie.read(o,!1,!0),()=>{var u;Gt(o);const l=Fc.get(t);if(!l||(l.delete(i),l.size))return;const c=ri.get(t);ri.delete(t),c&&(tg(t).removeEventListener("scroll",c),(u=eg.get(t))==null||u(),window.removeEventListener("resize",c))}}const ng=new Map;function J5(e){const t={value:0},n=Vv(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function Bv({source:e,container:t,...n}){const{axis:r}=n;e&&(t=e);const s=ng.get(t)??new Map;ng.set(t,s);const i=n.target??"self",o=s.get(i)??{},l=r+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&$x()?new ScrollTimeline({source:t,axis:r}):J5({container:t,...n})),o[l]}function e4(e,t){const n=Bv(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),Zx(s=>{r.time=r.duration*s},n))})}function t4(e){return e.length===2}function n4(e,t){return t4(e)?Vv(n=>{e(n[t.axis].progress,n)},t):Zx(e,Bv(t))}function r4(e,{axis:t="y",container:n=document.scrollingElement,...r}={}){if(!n)return ft;const s={axis:t,container:n,...r};return typeof e=="function"?n4(e,s):e4(e,s)}const s4=()=>({scrollX:Bt(0),scrollY:Bt(0),scrollXProgress:Bt(0),scrollYProgress:Bt(0)}),qo=e=>e?!e.current:!1;function Ur({container:e,target:t,...n}={}){const r=zs(s4),s=h.useRef(null),i=h.useRef(!1),o=h.useCallback(()=>(s.current=r4((l,{x:c,y:u})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(u.current),r.scrollYProgress.set(u.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=s.current)==null||l.call(s)}),[e,t,JSON.stringify(n.offset)]);return Sl(()=>{if(i.current=!1,qo(e)||qo(t)){i.current=!0;return}else return o()},[o]),h.useEffect(()=>{if(i.current)return Zi(!qo(e)),Zi(!qo(t)),o()},[o]),r}function i4(e){const t=zs(()=>Bt(e)),{isStatic:n}=h.useContext(Tl);if(n){const[,r]=h.useState(e);h.useEffect(()=>t.on("change",r),[])}return t}function Uv(e,t){const n=i4(t()),r=()=>n.set(t());return r(),Sl(()=>{const s=()=>ie.preRender(r,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Gt(r)}}),n}function o4(e){Ni.current=[],e();const t=Uv(Ni.current,e);return Ni.current=void 0,t}function wn(e,t,n,r){if(typeof e=="function")return o4(e);const s=typeof t=="function"?t:nS(t,n,r);return Array.isArray(e)?rg(e,s):rg([e],([i])=>s(i))}function rg(e,t){const n=zs(()=>[]);return Uv(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function a4(){!th.current&&yv();const[e]=h.useState(Za.current);return e}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),sg=e=>{const t=c4(e);return t.charAt(0).toUpperCase()+t.slice(1)},zv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),u4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>h.createElement("svg",{ref:c,...d4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:zv("lucide",s),...!i&&!u4(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>h.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=(e,t)=>{const n=h.forwardRef(({className:r,...s},i)=>h.createElement(f4,{ref:i,iconNode:t,className:zv(`lucide-${l4(sg(e))}`,`lucide-${e}`,r),...s}));return n.displayName=sg(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],Wv=_("arrow-down-a-z",h4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Hv=_("arrow-left",p4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],g4=_("at-sign",m4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Rl=_("bell",y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],v4=_("bold",x4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],b4=_("bot",w4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["circle",{cx:"9",cy:"7",r:"2",key:"1305pl"}],["path",{d:"M7.2 7.9 3 11v9c0 .6.4 1 1 1h16c.6 0 1-.4 1-1v-9c0-2-3-6-7-8l-3.6 2.6",key:"xle13f"}],["path",{d:"M16 13H3",key:"1wpj08"}],["path",{d:"M16 17H3",key:"3lvfcd"}]],ig=_("cake-slice",k4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],Kv=_("cake",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],rh=_("cat",C4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],sh=_("chart-no-axes-column",S4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],T4=_("check",N4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P4=_("chevron-down",E4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ih=_("chevron-right",L4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gv=_("circle-alert",R4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],qv=_("circle-plus",A4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],I4=_("circle-x",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],F4=_("clipboard",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cd=_("clock",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oh=_("compass",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],V4=_("eraser",_4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],U4=_("external-link",B4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yv=_("eye-off",z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xv=_("eye",W4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]],K4=_("file-stack",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],ah=_("file",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Y4=_("flame",q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],lh=_("frown",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ir=_("heart",Q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],J4=_("image",Z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],ch=_("infinity",eT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],nT=_("italic",tT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],sT=_("life-buoy",rT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vo=_("loader-circle",iT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],aT=_("lock-open",oT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Qv=_("log-in",lT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Es=_("lock",cT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dT=_("log-out",uT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],so=_("mail",fT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],Zv=_("mars",hT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],mT=_("menu",pT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ja=_("message-square",gT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Jv=_("paperclip",yT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Os=_("plus",xT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],og=_("rotate-ccw",vT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],e1=_("save",wT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],kT=_("search",bT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gs=_("send",jT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],el=_("settings",CT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tl=_("shield",ST);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],wo=_("shopping-bag",NT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ET=_("shopping-cart",TT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],LT=_("sliders-horizontal",PT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bo=_("square-pen",RT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uh=_("star",AT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],t1=_("thumbs-down",MT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],n1=_("thumbs-up",IT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Li=_("trash-2",$T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],DT=_("upload",FT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_T=_("user-check",OT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],BT=_("user-plus",VT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$r=_("user",UT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fr=_("users",zT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],r1=_("venus",WT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ht=_("x",HT),ag={idle:1.9,active:2.2},lg={dock:"1.25em",row:"1.20em",dockLg:"1.35em",avatar:"1.60em"};function Ne({icon:e,active:t=!1,size:n="dock",className:r,style:s}){return a.jsx(e,{className:r,style:{width:lg[n],height:lg[n],...s},strokeWidth:t?ag.active:ag.idle,vectorEffect:"non-scaling-stroke",shapeRendering:"geometricPrecision",preserveAspectRatio:"xMidYMid meet"})}function s1(e){const{notifications:t,messages:n,loadNotifications:r,loadMessages:s}=Ve(),{user:i}=me(),o=h.useRef(null),l=()=>{o.current&&(window.clearTimeout(o.current),o.current=null),o.current=window.setTimeout(()=>{typeof r=="function"&&r(),typeof s=="function"&&s()},200)};h.useEffect(()=>{l()},[e]),h.useEffect(()=>{const d=()=>{document.visibilityState==="visible"&&l()},f=()=>l();return document.addEventListener("visibilitychange",d),window.addEventListener("focus",f),()=>{document.removeEventListener("visibilitychange",d),window.removeEventListener("focus",f),o.current&&window.clearTimeout(o.current)}},[]);const c=h.useMemo(()=>Array.isArray(t)?t.filter(d=>!d.isRead).length:0,[t]),u=h.useMemo(()=>!Array.isArray(n)||!i?0:n.filter(d=>d.isReadByUser!==!0&&d.user_id!==i.id).length,[n,i]);return c+u}const H={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},fonts:{heading:"var(--font-heading, inherit)"},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"}},KT={float:{initial:{y:0},animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:2.4,ease:"easeInOut"}}},nl=(e,t)=>e?t:`/login?next=${encodeURIComponent(t)}`,GT=e=>!!e&&(e.isAdmin||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.is_staff));function qT(e,t){return[{Icon:oh,title:"Каталог",to:"/characters"},{Icon:sh,title:"Рейтинг",to:"/rating"},{Icon:wo,title:"Магазин",to:nl(e,"/shop")},{Icon:Ir,title:"Избранное",to:nl(e,"/favorites")}]}function cg({Icon:e,title:t,to:n,active:r,collapsed:s,badge:i}){const o=typeof i=="number"&&i>0;return a.jsxs(fo,{to:n,className:["group relative overflow-hidden rounded-2xl border flex items-center",s?"justify-center gap-0 px-2 py-2":"gap-3 px-3 py-2","transition-all duration-300"].join(" "),style:{borderColor:H.colors.border,background:r?`linear-gradient(135deg, ${H.colors.accent.primary}, ${H.colors.accent.secondary})`:H.colors.background.glass,color:r?"#ffffff":H.colors.text.primary,boxShadow:r?H.shadows.button:H.shadows.glass},"aria-current":r?"page":void 0,title:s?t:void 0,children:[a.jsx("div",{className:"inline-flex items-center justify-center shrink-0 rounded-full",style:{width:44,height:44,background:r?"rgba(255, 255, 255, 0.2)":H.colors.background.glass},children:a.jsx(Ne,{icon:e,size:"row",style:{color:"#ffffff"}})}),!s&&a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-medium",children:t})}),o&&a.jsx("span",{className:"absolute -top-1 -right-1 rounded-full px-2 py-0.5 text-[11px] font-bold leading-none",style:{background:H.colors.accent.primary,color:"#0a0a12",border:`1px solid ${H.colors.border}`},children:i>99?"99+":i})]})}function YT({user:e,unread:t,collapsed:n,onSettings:r,onNotifications:s}){return e?a.jsxs("div",{className:"rounded-2xl border p-5 mb-4",style:{borderColor:H.colors.border,background:H.colors.background.glass,boxShadow:H.shadows.glass},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[e.avatarUrl||e.avatar||e.photoURL?a.jsx("img",{src:e.avatarUrl||e.avatar||e.photoURL,alt:"Аватар",className:"w-14 h-14 rounded-full object-cover",style:{border:`1px solid ${H.colors.border}`}}):a.jsx("div",{className:"w-14 h-14 rounded-full inline-flex items-center justify-center",style:{background:`linear-gradient(135deg, ${H.colors.accent.primary}, ${H.colors.accent.secondary})`,boxShadow:H.shadows.button},children:a.jsx(Ne,{icon:rh,size:"avatar",style:{color:"#ffffff"}})}),!n&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-bold text-lg truncate",style:{color:H.colors.text.primary},children:(e==null?void 0:e.nickname)||(e==null?void 0:e.login)}),(e==null?void 0:e.login)&&a.jsx("p",{className:"text-sm truncate",style:{color:H.colors.text.muted},children:e==null?void 0:e.login})]})]}),!n&&a.jsxs("div",{className:"mt-4 flex justify-center gap-3",children:[a.jsx("button",{type:"button","aria-label":"Настройки профиля",className:"h-12 w-12 rounded-full inline-flex items-center justify-center",style:{background:H.colors.background.glass,color:H.colors.text.primary,border:`1px solid ${H.colors.border}`,boxShadow:H.shadows.glass},onClick:r,children:a.jsx(Ne,{icon:el,size:"row"})}),a.jsxs("button",{type:"button","aria-label":"Уведомления",className:"relative h-12 w-12 rounded-full inline-flex items-center justify-center",style:{background:H.colors.background.glass,color:H.colors.text.primary,border:`1px solid ${H.colors.border}`,boxShadow:H.shadows.glass},onClick:s,children:[a.jsx(Ne,{icon:Rl,size:"row"}),t>0&&a.jsx("span",{className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] rounded-full text-[11px] leading-[20px] font-bold inline-flex items-center justify-center",style:{background:H.colors.accent.primary,color:"#0a0a12",border:`1px solid ${H.colors.border}`},children:t>99?"99+":t})]})]})]}):a.jsx("div",{className:"rounded-2xl border p-5 mb-4",style:{borderColor:H.colors.border,background:H.colors.background.glass,boxShadow:H.shadows.glass},children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"rounded-full inline-flex items-center justify-center",style:{width:56,height:56,background:H.colors.background.glass,border:`1px solid ${H.colors.border}`,boxShadow:H.shadows.glass},children:a.jsx(Ne,{icon:Qv,size:"row"})}),!n&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"mt-3 font-bold text-lg",style:{color:H.colors.text.primary},children:"Войдите"}),a.jsx("p",{className:"mt-1 text-sm",style:{color:H.colors.text.muted},children:"Чтобы сохранять избранное"}),a.jsx(fo,{to:"/login",className:"mt-4 rounded-full px-5 py-2 inline-flex items-center gap-2 font-bold justify-center",style:{background:`linear-gradient(135deg, ${H.colors.accent.primary}, ${H.colors.accent.secondary})`,color:"#0a0a12",border:"none",boxShadow:H.shadows.button},children:"Войти"})]})]})})}function XT({isCollapsed:e=!1}){const t=jt(),n=st(),{user:r}=me()||{},s=s1(),i=qT(r);return a.jsx("aside",{className:["hidden lg:flex fixed left-0 top-0 z-20 h-full",e?"w-24":"w-72"].join(" "),"aria-label":"Sidebar",style:{pointerEvents:"none"},children:a.jsx("div",{className:"flex h-full w-full p-3",style:{pointerEvents:"auto"},children:a.jsxs("div",{className:"flex flex-col w-full rounded-2xl border backdrop-blur-xl",style:{borderColor:H.colors.border,background:H.colors.background.glass,boxShadow:H.shadows.glass},children:[a.jsx("div",{className:"px-3 pt-3 pb-1",children:a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(E.div,{...KT.float,className:"rounded-full w-12 h-12 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${H.colors.accent.primary}, ${H.colors.accent.secondary})`,boxShadow:H.shadows.button},children:a.jsx(Ne,{icon:Ir,size:"row",style:{color:"#ffffff"}})}),a.jsx("h1",{className:"text-2xl font-black",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:H.fonts.heading},children:"CAS Каталог"})]})})}),a.jsx("div",{className:"px-3",children:a.jsx(YT,{user:r,unread:s,collapsed:!!e,onSettings:()=>n(nl(r,"/profile")),onNotifications:()=>n(nl(r,"/notifications"))})}),a.jsxs("nav",{className:"flex-1 px-3 py-2 space-y-2",children:[i.map(({to:o,title:l,Icon:c,badge:u})=>{const d=t.pathname===o||t.pathname.startsWith(o);return a.jsx(cg,{Icon:c,title:l,to:o,active:!!d,collapsed:!!e,badge:u},l)}),GT(r)&&a.jsxs("div",{className:"pt-2",children:[!e&&a.jsx("p",{className:"px-2 pb-2 text-xs uppercase tracking-wide",style:{color:H.colors.text.muted},children:"Управление"}),a.jsx(cg,{Icon:el,title:"Админ-панель",to:"/admin",active:t.pathname.startsWith("/admin"),collapsed:!!e})]})]}),!e&&a.jsx("div",{className:"px-3 pb-3",children:a.jsxs("a",{href:"https://t.me/cascharacter",target:"_blank",rel:"noopener noreferrer",className:"relative overflow-hidden rounded-2xl border flex items-center gap-3 px-3 py-2",style:{borderColor:H.colors.border,background:"linear-gradient(135deg, #4facfe, #00f2fe)",color:"#ffffff",boxShadow:"0 6px 20px rgba(79, 172, 254, 0.3)"},children:[a.jsx("div",{className:"inline-flex items-center justify-center shrink-0 rounded-full",style:{width:44,height:44,background:"rgba(255, 255, 255, 0.2)"},children:a.jsx(Ne,{icon:Gs,size:"row",style:{color:"#ffffff"}})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold",children:"Telegram Канал"})}),a.jsx(Ne,{icon:ih,size:"row"})]})})]})})})}function tt({intensity:e=1,className:t}){const r=.3*Math.max(0,Math.min(1,Number.isFinite(e)?e:1));return a.jsx("div",{"aria-hidden":!0,className:["fixed inset-0 pointer-events-none z-0",t].filter(Boolean).join(" "),style:{background:`
          radial-gradient(circle at 20% 30%, rgba(215, 174, 251, ${r*.8}) 0%, transparent 40%),
          radial-gradient(circle at 80% 70%, rgba(251, 182, 217, ${r*.6}) 0%, transparent 50%),
          radial-gradient(circle at 50% 10%, rgba(135, 206, 250, ${r*.4}) 0%, transparent 60%),
          #0a0a12
        `}})}const ui=(e,t)=>e?t:`/login?next=${encodeURIComponent(t)}`,QT=e=>!!e&&(e.isAdmin||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.is_staff)),U={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",accent:"0 4px 16px rgba(215, 174, 251, 0.4)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif'}},Zr={buttonTap:{whileTap:{scale:.97}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function ZT(){const[e,t]=h.useState(!1);h.useEffect(()=>{const o=document.documentElement,l=o.style.overflow,c=document.body.style.overscrollBehavior;return e&&(o.style.overflow="hidden",document.body.style.overscrollBehavior="contain"),()=>{o.style.overflow=l,document.body.style.overscrollBehavior=c}},[e]);const[n,r]=h.useState(0),s=s1(n),i=()=>{r(o=>o+1),t(!0)};return a.jsxs(a.Fragment,{children:[a.jsx(JT,{openMenu:i,ping:n,unread:s}),a.jsx(xe,{children:e&&a.jsx(eE,{onClose:()=>t(!1),ping:n,unread:s})})]})}function JT({openMenu:e,ping:t,unread:n}){const{user:r}=me(),s=jt();st();const i=h.useMemo(()=>[{id:"/characters",icon:oh,to:"/characters",label:"Каталог"},{id:"/rating",icon:sh,to:"/rating",label:"Рейтинг"},{id:"/favorites",icon:Ir,to:ui(r,"/favorites"),label:"Избранное"},{id:"/shop",icon:wo,to:"/shop",label:"Магазин"},{id:"more",icon:mT,action:e,label:"Меню",badge:n}],[r,n,e]);return typeof window<"u"?jl.createPortal(a.jsx("nav",{className:"fixed left-0 right-0 z-40 lg:hidden","aria-label":"Нижняя навигация",style:{bottom:"calc(12px + var(--app-vvb, 0px) + env(safe-area-inset-bottom, 0px))",WebkitTransform:"translateZ(0)",willChange:"transform"},children:a.jsx("div",{className:"mx-auto max-w-[820px] px-3",style:{pointerEvents:"auto"},children:a.jsx("div",{className:"w-full rounded-2xl border backdrop-blur-xl",style:{borderColor:U.colors.border,background:U.colors.background.glass,boxShadow:U.shadows.glass},children:a.jsx("ul",{className:"grid grid-cols-5",children:i.map(o=>{const l=o.to&&(s.pathname===o.to||s.pathname.startsWith(o.to+"/")),c=o.badge,u=typeof c=="number"&&c>0,d=a.jsxs("div",{className:"relative",children:[a.jsx(E.div,{className:"rounded-full inline-flex items-center justify-center leading-none border mx-auto",style:{width:52,height:52,background:l?`linear-gradient(135deg, ${U.colors.accent.primary}, ${U.colors.accent.secondary})`:U.colors.background.glass,boxShadow:l?U.shadows.button:U.shadows.glass,border:"none"},whileTap:{scale:.95},children:u?a.jsx(E.div,{initial:{opacity:.9,scale:1},animate:{opacity:[.9,1,.9],scale:[1,1.06,1]},transition:{duration:1.4,repeat:1/0,ease:"easeInOut"},children:a.jsx(Ne,{icon:o.icon,size:"row",color:l?"#ffffff":void 0})}):a.jsx(Ne,{icon:o.icon,size:"row",color:l?"#ffffff":void 0})}),u&&a.jsx(E.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 rounded-full text-[11px] leading-[18px] font-bold inline-flex items-center justify-center leading-none",style:{background:U.colors.accent.primary,color:"#0a0a12",border:`1px solid ${U.colors.border}`,boxShadow:U.shadows.accent},children:c>99?"99+":c})]});return a.jsx("li",{className:"text-center",children:o.to?a.jsx(fo,{to:o.to,className:"block py-2","aria-current":l?"page":void 0,children:d}):a.jsx("button",{type:"button",onClick:o.action,className:"w-full h-full inline-flex items-center justify-center leading-none py-2",children:d})},o.id)})})})})}),document.body):null}function eE({onClose:e,ping:t,unread:n}){const r=jt(),s=st(),i=me()||{},o=i==null?void 0:i.user,c=a4()?{duration:0}:{type:"tween",ease:"easeOut",duration:.28},u=[{title:"Разделы",items:[{icon:oh,title:"Каталог",to:"/characters"},{icon:sh,title:"Рейтинг",to:"/rating"},{icon:wo,title:"Магазин",to:ui(o,"/shop")},{icon:Ir,title:"Избранное",to:ui(o,"/favorites")}]},...QT(o)?[{title:"Управление",items:[{icon:el,title:"Админ-панель",to:"/admin"}]}]:[]];return a.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",role:"dialog","aria-modal":"true","aria-label":"Мобильное меню",children:[a.jsx(tt,{}),a.jsx(E.div,{initial:{y:24,opacity:.98},animate:{y:0,opacity:1},className:"absolute inset-x-0 bottom-0 top-0 overflow-y-auto overscroll-contain",transition:c,exit:{opacity:0,transition:{duration:0}},children:a.jsxs("div",{className:"mx-auto max-w-[820px] px-4 pt-4",style:{paddingBottom:"calc(104px + env(safe-area-inset-bottom, 0px))"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(E.div,{...Zr.float,className:"rounded-full w-12 h-12 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${U.colors.accent.primary}, ${U.colors.accent.secondary})`,boxShadow:U.shadows.button},children:a.jsx(Ne,{icon:Ir,size:"row",style:{color:"#ffffff"}})}),a.jsx("h1",{className:"text-2xl font-black",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:U.fonts.heading},children:"CAS Каталог"})]}),a.jsx(E.button,{...Zr.buttonTap,onClick:e,className:"rounded-full p-3",style:{background:U.colors.background.glass,border:`1px solid ${U.colors.border}`,color:U.colors.text.primary,boxShadow:U.shadows.glass},"aria-label":"Закрыть меню",children:a.jsx(Ne,{icon:Ht,size:"row"})})]}),o?a.jsx("div",{className:"mb-8 rounded-2xl p-5",style:{background:U.colors.background.glass,boxShadow:U.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[o.avatarUrl||o.avatar||o.photoURL?a.jsx("img",{src:o.avatarUrl||o.avatar||o.photoURL,alt:"Аватар",className:"w-14 h-14 rounded-full object-cover",style:{border:`2px solid ${U.colors.border}`}}):a.jsx("div",{className:"w-14 h-14 rounded-full inline-flex items-center justify-center",style:{background:`linear-gradient(135deg, ${U.colors.accent.primary}, ${U.colors.accent.secondary})`,boxShadow:U.shadows.button},children:a.jsx(Ne,{icon:rh,size:"avatar",style:{color:"#ffffff"}})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-bold text-lg",style:{color:U.colors.text.primary},children:(o==null?void 0:o.nickname)||(o==null?void 0:o.login)}),(o==null?void 0:o.login)&&a.jsx("p",{className:"text-sm",style:{color:U.colors.text.muted},children:o==null?void 0:o.login})]}),a.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[a.jsx(E.button,{...Zr.buttonTap,type:"button","aria-label":"Настройки профиля",className:"h-11 w-11 rounded-full inline-flex items-center justify-center",style:{background:U.colors.background.glass,color:U.colors.text.primary,boxShadow:U.shadows.glass},onClick:()=>{e(),s(ui(o,"/profile"))},children:a.jsx(Ne,{icon:el,size:"row"})}),a.jsxs(E.button,{...Zr.buttonTap,type:"button","aria-label":"Уведомления",className:"relative h-11 w-11 rounded-full inline-flex items-center justify-center",style:{background:U.colors.background.glass,color:U.colors.text.primary,boxShadow:U.shadows.glass},onClick:()=>{e(),s(ui(o,"/notifications"))},children:[a.jsx(Ne,{icon:Rl,size:"row"}),a.jsx(xe,{children:n>0&&a.jsx(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.18},className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] px-[6px] rounded-full text-[11px] leading-[20px] font-bold inline-flex items-center justify-center",style:{background:U.colors.accent.primary,color:"#0a0a12",border:`1px solid ${U.colors.border}`,boxShadow:U.shadows.accent},children:n>99?"99+":n})})]})]})]})}):a.jsx("div",{className:"mb-8 rounded-2xl p-5",style:{background:U.colors.background.glass,boxShadow:U.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"rounded-full inline-flex items-center justify-center",style:{width:56,height:56,background:U.colors.background.glass,boxShadow:U.shadows.glass},children:a.jsx(Ne,{icon:Qv,size:"row"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-bold text-lg mb-1",style:{color:U.colors.text.primary},children:"Войдите"}),a.jsx("p",{className:"text-sm",style:{color:U.colors.text.muted},children:"Чтобы сохранять избранное"})]}),a.jsx(fo,{to:"/login",onClick:e,className:"rounded-full font-bold px-5 py-3",style:{background:`linear-gradient(135deg, ${U.colors.accent.primary}, ${U.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:U.shadows.button},children:"Войти"})]})}),a.jsx("div",{className:"flex flex-col gap-6",children:u.map(d=>a.jsxs("section",{className:"flex flex-col gap-3",children:[a.jsx("h3",{className:"px-1 text-sm uppercase tracking-wider font-bold",style:{color:U.colors.text.muted},children:d.title}),a.jsx("div",{className:"flex flex-col gap-2",children:d.items.map(({icon:f,title:p,to:y,onClick:x,badge:w,pulse:b})=>{const m=y&&(r.pathname===y||r.pathname.startsWith(y+"/"));return a.jsx(tE,{Icon:f,title:p,to:y,onClick:x,active:!!m,onClose:e,badge:w,pulse:b},p)})})]},d.title))}),a.jsxs("section",{className:"flex flex-col gap-3 mt-8",children:[a.jsx("h3",{className:"px-1 text-sm uppercase tracking-wider font-bold",style:{color:U.colors.text.muted},children:"Сообщество"}),a.jsxs(E.a,{...Zr.buttonTap,href:"https://t.me/cascharacter",target:"_blank",rel:"noopener noreferrer",onClick:e,className:"relative overflow-hidden rounded-2xl flex items-center gap-4 px-5 py-4",style:{background:"linear-gradient(135deg, #4facfe, #00f2fe)",color:"#ffffff",boxShadow:"0 6px 20px rgba(79, 172, 254, 0.3)"},children:[a.jsx("div",{className:"flex items-center justify-center rounded-full",style:{width:44,height:44,background:"rgba(255, 255, 255, 0.2)"},children:a.jsx(Ne,{icon:Gs,size:"dockLg",style:{color:"#ffffff"}})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold text-lg",children:"Telegram Канал"})}),a.jsx(Ne,{icon:ih,size:"row"})]})]})]})})]})}function tE({Icon:e,title:t,to:n,onClick:r,active:s,onClose:i,badge:o,pulse:l,dot:c}){const u=n?fo:"button",d=n?{to:n,onClick:i}:{type:"button",onClick:()=>{r==null||r(),i==null||i()},role:"button"},f=typeof o=="number"&&o>0;return a.jsx(E.div,{...Zr.buttonTap,children:a.jsxs(u,{...d,className:"relative overflow-hidden rounded-2xl flex items-center gap-4 px-5 py-4 transition-all duration-300",style:{background:s?`linear-gradient(135deg, ${U.colors.accent.primary}, ${U.colors.accent.secondary})`:U.colors.background.glass,color:s?"#ffffff":U.colors.text.primary,boxShadow:s?U.shadows.button:U.shadows.glass},children:[a.jsxs("div",{className:"inline-flex items-center justify-center shrink-0 rounded-full",style:{width:44,height:44,background:s?"rgba(255, 255, 255, 0.2)":U.colors.background.glass},children:[l&&f?a.jsx(E.div,{initial:{opacity:.9,scale:1},animate:{opacity:[.9,1,.9],scale:[1,1.08,1]},transition:{duration:1.4,repeat:1/0,ease:"easeInOut"},children:a.jsx(Ne,{icon:e,size:"row",color:s?"#ffffff":void 0})}):a.jsx(Ne,{icon:e,size:"row",color:s?"#ffffff":void 0}),a.jsx(xe,{children:f&&a.jsx(E.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] px-1 rounded-full text-[11px] leading-[20px] font-bold inline-flex items-center justify-center",style:{background:"#ffffff",color:"#0a0a12",border:`1px solid ${U.colors.border}`,boxShadow:U.shadows.accent},children:o>99?"99+":o})})]}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold text-lg",children:t})}),n&&a.jsx(Ne,{icon:ih,size:"row"})]})})}function nE(){const[e,t]=h.useState(!1),{pathname:n}=jt(),r=n.startsWith("/characters");return a.jsxs("div",{className:["relative min-h-app safe-padded",r?"bg-transparent":"bg-[#0e1116]"].join(" "),children:[!r&&a.jsx(tt,{intensity:.9,animated:!0}),a.jsx(XT,{isCollapsed:e,setCollapsed:t}),a.jsx("main",{className:["relative z-10 max-w-[2000px] mx-auto","pt-4 lg:pt-6 px-4 sm:px-6",e?"lg:pl-24":"lg:pl-72"].join(" "),children:a.jsx("div",{className:"pb-8",children:a.jsx(xk,{})})}),a.jsx(ZT,{})]})}const ae={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Kr={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},rE=({onClose:e,onSwitchToRegister:t})=>{const n=st(),r=jt(),{login:s,isUserBlocked:i}=me(),o=h.useMemo(()=>new URLSearchParams(r.search).get("next")||"/",[r.search]),[l,c]=h.useState(""),[u,d]=h.useState(""),[f,p]=h.useState(!1),[y,x]=h.useState(!1),[w,b]=h.useState(null),m=j=>/@/.test(j),v=async j=>{if(j.preventDefault(),b(null),!l||!u){b("Введите логин/почту и пароль");return}x(!0);const C=l.toLowerCase();if(await i(C)){b("Этот аккаунт заблокирован."),x(!1);return}try{await s(C,u)===fs.SUCCESS?e?e():n(o):b("Неверный логин/почта или пароль.")}catch{b("Неверный логин/почта или пароль.")}finally{x(!1)}},g=j=>{t?t():n(j)},k=()=>a.jsx(E.button,{...Kr.buttonTap,type:"button",onClick:()=>e?e():n(-1),"aria-label":"Закрыть",className:"absolute right-4 top-4 p-2 rounded-full transition-all duration-300",style:{background:ae.colors.background.glass,color:ae.colors.text.primary,border:`1px solid ${ae.colors.border}`,boxShadow:ae.shadows.glass},children:a.jsx(Ht,{className:"w-5 h-5"})});return a.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-3",style:{fontFamily:ae.fonts.body},children:[a.jsx(tt,{intensity:.9,animated:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:e}),a.jsxs(E.div,{...Kr.fadeInUp(.2),className:"relative z-10 w-full max-w-sm rounded-2xl",style:{background:ae.colors.background.glass,border:`1px solid ${ae.colors.border}`,boxShadow:ae.shadows.glass,padding:"2rem"},onClick:j=>j.stopPropagation(),children:[a.jsx(k,{}),a.jsx("h1",{className:"text-2xl font-black mb-2 text-center",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:ae.fonts.heading},children:"Вход в аккаунт"}),a.jsxs("p",{className:"text-center mb-6",style:{color:ae.colors.text.muted},children:["Логин ",a.jsx("span",{className:"opacity-60",children:"или"})," почта + пароль"]}),w&&a.jsxs(E.div,{...Kr.buttonTap,className:"flex items-start gap-3 p-4 mb-6 rounded-2xl",style:{background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",boxShadow:"0 4px 16px rgba(255, 107, 107, 0.2)"},children:[a.jsx(Gv,{className:"w-5 h-5 mt-0.5 shrink-0",style:{color:"#ff6b6b"}}),a.jsx("span",{className:"text-sm",style:{color:"#ff6b6b"},children:w})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4 transition-all duration-300",style:{background:ae.colors.background.glass,border:`1px solid ${ae.colors.border}`,boxShadow:ae.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:m(l)?a.jsx(so,{className:"w-5 h-5",style:{color:ae.colors.text.muted}}):a.jsx($r,{className:"w-5 h-5",style:{color:ae.colors.text.muted}})}),a.jsx("input",{id:"identifier",type:"text",autoComplete:"username email",placeholder:"Логин или email",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:ae.colors.text.primary},value:l,onChange:j=>c(j.target.value)})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4 transition-all duration-300",style:{background:ae.colors.background.glass,border:`1px solid ${ae.colors.border}`,boxShadow:ae.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Es,{className:"h-5 w-5",style:{color:ae.colors.text.muted}})}),a.jsx("input",{id:"password",type:f?"text":"password",autoComplete:"current-password",placeholder:"••••••••",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:ae.colors.text.primary},value:u,onChange:j=>d(j.target.value)}),a.jsx(E.button,{...Kr.buttonTap,type:"button",onClick:()=>p(j=>!j),className:"flex shrink-0 items-center justify-center p-2 rounded-full transition-colors hover:bg-white/10",style:{color:ae.colors.text.muted},children:f?a.jsx(Yv,{className:"w-5 h-5"}):a.jsx(Xv,{className:"w-5 h-5"})})]}),a.jsx(E.button,{...Kr.buttonTap,type:"submit",disabled:y,className:"w-full h-12 rounded-full font-bold text-sm",style:{background:`linear-gradient(135deg, ${ae.colors.accent.primary}, ${ae.colors.accent.secondary})`,color:"#ffffff",boxShadow:ae.shadows.button},children:y?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(vo,{className:"w-4 h-4 animate-spin"})," Входим…"]}):"Войти в аккаунт"})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-sm mb-2",style:{color:ae.colors.text.muted},children:"Еще нет аккаунта?"}),a.jsx(E.button,{...Kr.buttonTap,type:"button",onClick:()=>g("/register"),className:"text-sm font-bold",style:{color:ae.colors.accent.primary},children:"Зарегистрироваться"})]})]})]})},J={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Gr={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},sE=({onClose:e,onSwitchToLogin:t})=>{const n=st(),{register:r}=me(),[s,i]=h.useState(""),[o,l]=h.useState(""),[c,u]=h.useState(""),[d,f]=h.useState(""),[p,y]=h.useState(!1),[x,w]=h.useState(!1),[b,m]=h.useState(null),v=async j=>{if(j.preventDefault(),m(null),!s||!o||!c||!d){m("Заполните все поля");return}if(d.length<8){m("Пароль должен быть не менее 8 символов");return}try{w(!0);const C=await r(s.toLowerCase(),o,c.toLowerCase(),d);C.success?e?e():n("/"):m(C.message)}catch{m("Не удалось зарегистрироваться. Проверьте данные.")}finally{w(!1)}},g=j=>{t?t():n(j)},k=()=>a.jsx(E.button,{...Gr.buttonTap,type:"button",onClick:()=>e?e():n(-1),"aria-label":"Закрыть",className:"absolute right-4 top-4 p-2 rounded-full transition-all duration-300",style:{background:J.colors.background.glass,color:J.colors.text.primary,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:a.jsx(Ht,{className:"w-5 h-5"})});return a.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-3",style:{fontFamily:J.fonts.body},children:[a.jsx(tt,{intensity:.9,animated:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:e}),a.jsxs(E.div,{...Gr.fadeInUp(.2),className:"relative z-10 w-full max-w-sm rounded-2xl",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass,padding:"2rem"},onClick:j=>j.stopPropagation(),children:[a.jsx(k,{}),a.jsx("h1",{className:"text-2xl font-black mb-2 text-center",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:J.fonts.heading},children:"Регистрация"}),a.jsx("p",{className:"text-center mb-6",style:{color:J.colors.text.muted},children:"Логин, никнейм, почта и пароль (мин. 8 симв.)"}),b&&a.jsxs(E.div,{...Gr.buttonTap,className:"flex items-start gap-3 p-4 mb-6 rounded-2xl",style:{background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",boxShadow:"0 4px 16px rgba(255, 107, 107, 0.2)"},children:[a.jsx(Gv,{className:"w-5 h-5 mt-0.5 shrink-0",style:{color:"#ff6b6b"}}),a.jsx("span",{className:"text-sm",style:{color:"#ff6b6b"},children:b})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx($r,{className:"w-5 h-5",style:{color:J.colors.text.muted}})}),a.jsx("input",{id:"username",type:"text",autoComplete:"username",placeholder:"Логин (для входа)",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:J.colors.text.primary},value:s,onChange:j=>i(j.target.value.trim())})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Ja,{className:"w-5 h-5",style:{color:J.colors.text.muted}})}),a.jsx("input",{id:"nickname",type:"text",autoComplete:"nickname",placeholder:"Никнейм (для чата)",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:J.colors.text.primary},value:o,onChange:j=>l(j.target.value)})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(so,{className:"w-5 h-5",style:{color:J.colors.text.muted}})}),a.jsx("input",{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:J.colors.text.primary},value:c,onChange:j=>u(j.target.value.trim())})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Es,{className:"h-5 w-5",style:{color:J.colors.text.muted}})}),a.jsx("input",{id:"password",type:p?"text":"password",autoComplete:"new-password",placeholder:"••••••••",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:J.colors.text.primary},value:d,onChange:j=>f(j.target.value)}),a.jsx(E.button,{...Gr.buttonTap,type:"button",onClick:()=>y(j=>!j),className:"flex shrink-0 items-center justify-center p-2 rounded-full transition-colors hover:bg-white/10",style:{color:J.colors.text.muted},children:p?a.jsx(Yv,{className:"w-5 h-5"}):a.jsx(Xv,{className:"w-5 h-5"})})]}),a.jsx(E.button,{...Gr.buttonTap,type:"submit",disabled:x,className:"w-full h-12 rounded-full font-bold text-sm",style:{background:`linear-gradient(135deg, ${J.colors.accent.primary}, ${J.colors.accent.secondary})`,color:"#ffffff",boxShadow:J.shadows.button},children:x?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(vo,{className:"w-4 h-4 animate-spin"})," Создаем…"]}):"Создать аккаунт"})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-sm mb-2",style:{color:J.colors.text.muted},children:"Уже есть аккаунт?"}),a.jsx(E.button,{...Gr.buttonTap,type:"button",onClick:()=>g("/login"),className:"text-sm font-bold",style:{color:J.colors.accent.primary},children:"Войти"})]})]})]})},i1=e=>{if(e%100>=11&&e%100<=19)return`${e} лет`;const t=e%10;return t===1?`${e} год`:t>=2&&t<=4?`${e} года`:`${e} лет`},rl=({text:e,isCategory:t})=>{const n=t?"bg-purple-500/10 text-purple-300 border border-purple-500/20":"bg-teal-500/10 text-teal-300 border border-teal-500/10";return a.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-bold ${n}`,children:e})},X={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:(e=0)=>({initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:e}}),starPulse:{animate:{scale:[1,1.2,1],y:[0,-4,0]},transition:{duration:.6,ease:"easeInOut"}},buttonTap:{whileTap:{scale:.97,transition:{duration:.1}}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"}}},io=F.memo(({icon:e,text:t,colorClass:n})=>a.jsxs(E.div,{variants:X.fadeInStagger(),className:`flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium shadow-lg ${n}`,children:[e,a.jsx("span",{children:t})]}));io.displayName="InfoBadge";const fn={colors:{background:{glass:"rgba(16, 16, 22, 0.6)",dark:"var(--bg-dark)"},border:"rgba(255, 255, 255, 0.1)",accent:{primary:"var(--accent-primary)",secondary:"#ff6bd6"}},fonts:{heading:"var(--font-family-heading)",body:"var(--font-family-body)"}},iE={buttonTap:{whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:15}}},dh=h.memo(function({character:t,onClick:n}){var L;const{user:r,toggleFavorite:s}=me(),[i,o]=h.useState(!1),{id:l,name:c,photo:u,occupation:d,gender:f,age:p,ageGroup:y,tags:x,description:w,createdAt:b,isNew:m,category:v}=t,{reviews:g}=po(),{avgRating:k,reviewsCount:j}=h.useMemo(()=>{const T=g.filter($=>$.characterId===l&&typeof $.rating=="number"&&$.rating>0);return T.length===0?{avgRating:0,reviewsCount:0}:{avgRating:T.reduce(($,Q)=>$+(Q.rating||0),0)/T.length,reviewsCount:T.length}},[g,l]),C=!!m,S=((L=r==null?void 0:r.favorites)==null?void 0:L.includes(l))||!1,N=async T=>{T.stopPropagation(),r&&!i&&(o(!0),await s(l),o(!1))};return a.jsxs(E.div,{onClick:()=>n(t),className:"relative w-full cursor-pointer flex flex-col rounded-2xl overflow-hidden shadow-lg",style:{fontFamily:fn.fonts.body,background:fn.colors.background.dark},tabIndex:0,children:[a.jsxs("div",{className:"relative w-full h-0",style:{paddingTop:"100%"},children:[a.jsx("img",{src:u,alt:c,loading:"lazy",className:"absolute top-0 left-0 w-full h-full object-cover"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 pointer-events-none",style:{background:`linear-gradient(to top, ${fn.colors.background.dark}, transparent)`}}),a.jsxs("div",{className:"absolute top-3 left-3 right-3 z-10 flex justify-between items-start",children:[C?a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-bold bg-black/50 text-white border border-white/20 backdrop-blur-md",children:[a.jsx(Y4,{size:14,fill:"currentColor",stroke:"none",className:"text-orange-500"}),a.jsx("span",{children:"Новый"})]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-bold bg-black/50 text-white border border-white/20 backdrop-blur-md",children:[a.jsx(uh,{className:"w-4 h-4 text-yellow-400",fill:"currentColor"}),a.jsx("span",{className:"mt-px",children:j>0?k.toFixed(1):"—"})]})]}),r&&a.jsx(E.button,{...iE.buttonTap,onClick:N,disabled:i,className:"absolute bottom-3 right-3 w-10 h-10 rounded-full flex items-center justify-center z-10",style:{background:S?`linear-gradient(135deg, ${fn.colors.accent.primary}, ${fn.colors.accent.secondary})`:fn.colors.background.glass,border:`1px solid ${S?"transparent":fn.colors.border}`},"aria-label":S?"Убрать из избранного":"Добавить в избранное",children:i?a.jsx(vo,{className:"w-5 h-5 animate-spin text-white"}):a.jsx(Ir,{className:"w-5 h-5",fill:"currentColor",stroke:"none",style:{color:S?"#ffffff":fn.colors.accent.primary}})})]}),a.jsxs("div",{className:"relative p-4 z-10",children:[a.jsxs("div",{className:"text-center mb-3",children:[a.jsx("h3",{className:"text-2xl font-black truncate text-[var(--text-primary)]",style:{fontFamily:fn.fonts.heading},children:c}),a.jsx("p",{className:"font-medium text-base truncate mt-1 text-[var(--text-secondary)]",children:d})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 mb-3",children:[a.jsx(io,{icon:a.jsx($r,{size:14}),text:f==="male"?"Мужчина":"Женщина",colorClass:"bg-white/5 text-text-secondary border border-white/10"}),a.jsx(io,{icon:y==="immortal"?a.jsx(ch,{size:14}):a.jsx(Kv,{size:14}),text:y==="immortal"?"Бессмертный":i1(p),colorClass:"bg-white/5 text-text-secondary border border-white/10"})]}),(v==null?void 0:v.length)>0&&a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1.5 mb-3",children:v.map(T=>a.jsx(rl,{text:T,isCategory:!0},T))}),(x==null?void 0:x.length)>0&&a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1.5 mb-3",children:x.map(T=>a.jsx(rl,{text:T},T))}),a.jsx("p",{className:"text-[13px] font-bold text-center leading-relaxed text-[var(--text-muted)]",children:w})]})]})}),Al=()=>a.jsxs("div",{className:"relative w-full max-w-sm mx-auto aspect-[3/4] rounded-[28px] overflow-hidden bg-white/5 p-4 animate-pulse",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-7 w-20 rounded-full bg-white/10"}),a.jsx("div",{className:"h-7 w-16 rounded-full bg-white/10"})]}),a.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10"})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[a.jsx("div",{className:"h-7 w-3/4 rounded-lg bg-white/10 mb-2"}),a.jsx("div",{className:"h-5 w-1/2 rounded-lg bg-white/10 mb-3"}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"h-6 w-24 rounded-full bg-white/10"}),a.jsx("div",{className:"h-6 w-24 rounded-full bg-white/10"})]}),a.jsx("div",{className:"h-4 w-full rounded-lg bg-white/10 mb-1"}),a.jsx("div",{className:"h-4 w-3/4 rounded-lg bg-white/10"})]})]}),gt=F.memo(({children:e,className:t="",delay:n=0})=>a.jsx(E.div,{variants:X.fadeInUp(n),initial:"initial",animate:"animate",className:`rounded-lg border bg-glass backdrop-blur-xl p-5 sm:p-6 shadow-glass ${t}`,children:e}));gt.displayName="GlassPanel";const oE=F.memo(()=>a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})),aE=F.memo(({filled:e=!1})=>a.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:e?"currentColor":"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M12 21.35L10.55 20.03C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5C22 12.27 18.6 15.36 13.45 20.03L12 21.35Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})})),lE=F.memo(({filled:e=!1,color:t="currentColor",size:n=24})=>a.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:e?t:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})),cE=F.memo(()=>a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}));F.memo(()=>a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M15 3h6v6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M10 14 21 3",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}));const uE=F.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),dE=F.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M20 21v-2a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M4 17a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v2H4v-2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 15V9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M8 9H8.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M16 9H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 3L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),fE=F.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M9.83 6.17a4 4 0 1 0 0 11.66",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M14.17 6.17a4 4 0 1 1 0 11.66",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),o1=F.memo(()=>a.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"animate-spin",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M12 2v4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M12 18v4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M4.93 4.93l2.83 2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M16.24 16.24l2.83 2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M2 12h4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M18 12h4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M4.93 19.07l2.83-2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M16.24 7.76l2.83-2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"})]})),ug=F.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})),hE=F.memo(({size:e=20})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})),pE=F.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M4 21V14M4 10V3M12 21V12M12 8V3M20 21V16M20 12V3M1 14H7M9 8H15M17 16H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}));F.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M3 2V6H7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M3 13C3 9.13401 6.13401 6 10 6C11.8466 6 13.5352 6.71631 14.8038 7.88615C16.0725 9.05598 16.8519 10.6157 17 12.25C17.1481 13.8843 16.3687 15.444 15.0999 16.6138C13.8312 17.7837 12.1426 18.5 10.3 18.5C8.8986 18.4986 7.52554 18.0826 6.3424 17.3011C5.15925 16.5196 4.21514 15.405 3.618 14.085",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));F.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M17 7C17 9.20914 18.7909 11 21 11C23.2091 11 25 9.20914 25 7C25 4.79086 23.2091 3 21 3C18.7909 3 17 4.79086 17 7Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));F.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"9",r:"5",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 14V22M19 17L12 22L5 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}));F.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"9",r:"5",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 14V22M16 18H8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}));F.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));F.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M3 10H21M3 14H21M12 3L12 21M12 21L8 17M12 21L16 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}));F.memo(({size:e=40})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("circle",{cx:"8",cy:"9",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"16",cy:"9",r:"1",fill:"currentColor"})]}));const a1=F.memo(({value:e,onChange:t,onToggleFilters:n,filtersOpen:r,activeCount:s,isLoading:i})=>{const[o,l]=h.useState(!1),c=s>0;return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-text-muted",children:a.jsx(hE,{size:20})}),a.jsx("input",{type:"text",placeholder:"Поиск",value:e,onChange:u=>t(u.target.value),onFocus:()=>l(!0),onBlur:()=>l(!1),className:"w-full h-14 pl-14 pr-36 sm:pr-40 rounded-lg bg-transparent border focus:outline-none transition-all duration-300",style:{borderColor:o?"var(--accent-primary)":"var(--border-color)",boxShadow:o?"0 0 0 3px rgba(var(--accent-primary-rgb), 0.2)":"none"}}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[i&&a.jsx(o1,{}),a.jsxs(E.button,{...X.buttonTap,onClick:n,"aria-pressed":r,className:`inline-flex items-center gap-2 h-10 px-4 rounded-md text-sm font-medium transition-all duration-300 ${r?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white shadow-button":"bg-badge-tag text-text-secondary border border-default hover:bg-glass-hover"}`,children:[a.jsx(pE,{size:16}),a.jsx("span",{className:"hidden sm:inline",children:"Фильтры"}),c&&a.jsx("span",{className:"ml-1 min-w-[20px] h-[20px] px-1.5 rounded-full text-xs font-bold text-dark bg-accent-primary flex items-center justify-center",children:s>9?"9+":String(s)})]})]})]})});a1.displayName="SearchBar";const Ft=F.memo(({icon:e,label:t,active:n,onClick:r})=>a.jsxs(E.button,{...X.buttonTap,onClick:r,className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300 border
          ${n?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white border-transparent shadow-button":"bg-badge-tag text-text-secondary border-default hover:bg-glass-hover"}`,children:[e&&a.jsx(e,{size:16}),a.jsx("span",{children:t})]}));Ft.displayName="FilterChip";const mE=({tag:e,status:t,onClick:n})=>{const r="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-all duration-200 cursor-pointer",s={off:"bg-badge-tag text-text-secondary border-default hover:bg-glass-hover",include:"bg-green-500/20 text-green-300 border-green-500/30 filter drop-shadow-[0_0_4px_rgba(74,222,128,0.5)]",exclude:"bg-red-500/20 text-red-300 border-red-500/30 filter drop-shadow-[0_0_4px_rgba(248,113,113,0.5)]"};return a.jsx(E.button,{...X.buttonTap,onClick:n,className:`${r} ${s[t]}`,children:a.jsx("span",{children:e})})};function gE(){var w,b,m,v;const e=st(),{filters:t,setFilters:n,charactersLoading:r,filteredCharacters:s,allCategories:i}=Ve(),[o,l]=h.useState(t.search??""),[c,u]=h.useState(!1);F.useEffect(()=>{const g=setTimeout(()=>{n(k=>({...k,search:o}))},300);return()=>clearTimeout(g)},[o,n]);const{scrollY:d}=Ur(),f=wn(d,[0,500],[.3,.1]),p=g=>{n(k=>{const j=k.includeCategories.includes(g),C=k.excludeCategories.includes(g);return!j&&!C?{...k,includeCategories:[...k.includeCategories,g]}:j?{...k,includeCategories:k.includeCategories.filter(S=>S!==g),excludeCategories:[...k.excludeCategories,g]}:{...k,excludeCategories:k.excludeCategories.filter(S=>S!==g)}})},y=(t.gender!=="all"?1:0)+(t.ageGroup!=="all"?1:0)+(t.sortBy!=="newest"?1:0)+(((w=t.includeTags)==null?void 0:w.length)||0)+(((b=t.excludeTags)==null?void 0:b.length)||0)+(((m=t.includeCategories)==null?void 0:m.length)||0)+(((v=t.excludeCategories)==null?void 0:v.length)||0),x=()=>{n({search:"",gender:"all",ageGroup:"all",sortBy:"newest",includeTags:[],excludeTags:[],includeCategories:[],excludeCategories:[]}),l("")};return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:"var(--font-family-body)",backgroundColor:"var(--bg)",color:"var(--text-primary)"},children:[a.jsx(tt,{intensity:f}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...X.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"👤 Каталог персонажей"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:"var(--text-muted)"},children:"Найдите своего идеального собеседника"})]}),a.jsxs(gt,{delay:.2,className:"mb-6",style:{background:"var(--glass)",border:"1px solid var(--border)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.35)",backdropFilter:"blur(16px)"},children:[a.jsx(a1,{value:o,onChange:l,onToggleFilters:()=>u(g=>!g),filtersOpen:c,activeCount:y,isLoading:r}),a.jsx(xe,{children:c&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"border-t border-border mt-4 pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Фильтры"}),a.jsxs(E.button,{...X.buttonTap,onClick:x,className:"inline-flex items-center gap-2 h-9 px-3 rounded-full text-sm font-medium",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"#ffffff",border:"none",boxShadow:"0 4px 16px rgba(215, 174, 251, 0.0)"},children:[a.jsx(og,{size:14})," ",a.jsx("span",{children:"Сбросить"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5 p-1",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Пол"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ft,{icon:Fr,label:"Все",active:t.gender==="all",onClick:()=>n({...t,gender:"all"})}),a.jsx(Ft,{icon:Zv,label:"Мужчины",active:t.gender==="male",onClick:()=>n({...t,gender:"male"})}),a.jsx(Ft,{icon:r1,label:"Женщины",active:t.gender==="female",onClick:()=>n({...t,gender:"female"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Возраст"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ft,{icon:Fr,label:"Все",active:t.ageGroup==="all",onClick:()=>n({...t,ageGroup:"all"})}),a.jsx(Ft,{icon:Kv,label:"18+",active:t.ageGroup==="18+",onClick:()=>n({...t,ageGroup:"18+"})}),a.jsx(Ft,{icon:cd,label:"30+",active:t.ageGroup==="30+",onClick:()=>n({...t,ageGroup:"30+"})}),a.jsx(Ft,{icon:ch,label:"Бессмертные",active:t.ageGroup==="immortal",onClick:()=>n({...t,ageGroup:"immortal"})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Сортировка"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ft,{icon:cd,label:"Сначала новые",active:t.sortBy==="newest",onClick:()=>n({...t,sortBy:"newest"})}),a.jsx(Ft,{icon:uh,label:"По рейтингу",active:t.sortBy==="rating",onClick:()=>n({...t,sortBy:"rating"})}),a.jsx(Ft,{icon:Wv,label:"По имени (А-Я)",active:t.sortBy==="name",onClick:()=>n({...t,sortBy:"name"})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Категории"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(g=>{const k=t.includeCategories.includes(g),j=t.excludeCategories.includes(g),C=k?"include":j?"exclude":"off";return a.jsx(mE,{tag:g,status:C,onClick:()=>p(g)},g)})})]})]})]})})})]}),r?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:Array.from({length:12}).map((g,k)=>a.jsx(Al,{},k))}):s.length>0?a.jsx(E.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:a.jsx(xe,{children:s.map(g=>a.jsx(E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.6,ease:[.25,.1,.25,1]},children:a.jsx(dh,{character:g,onClick:()=>e(`/characters/${g.id}`)})},g.id))})}):a.jsxs(gt,{className:"text-center py-16",style:{background:"var(--glass)",border:"1px solid var(--border)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.35)",backdropFilter:"blur(16px)"},children:[a.jsx(E.div,{...X.float,className:"w-16 h-16 mx-auto mb-6",style:{color:"var(--text-muted)"},children:a.jsx(lh,{size:40})}),a.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)"},children:"Ничего не найдено"}),a.jsx("p",{className:"mb-6 text-sm sm:text-base",style:{color:"var(--text-muted)"},children:"Попробуйте изменить критерии поиска или сбросить фильтры."}),a.jsxs(E.button,{...X.buttonTap,onClick:x,className:"inline-flex items-center gap-2 px-6 py-3.5 rounded-full font-bold text-sm",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"#ffffff",border:"none",boxShadow:"0 6px 20px rgba(255, 107, 214, 0.3)"},children:[a.jsx(og,{size:16})," Сбросить все фильтры"]})]})]})]})}function l1({characterId:e,parentReviewId:t,replyToName:n,onSubmit:r,onCancel:s,autoFocus:i=!1}){const{user:o}=me(),{addReview:l}=po(),[c,u]=h.useState(""),[d,f]=h.useState(!1),[p,y]=h.useState(null),x=h.useRef(null);h.useEffect(()=>{i&&x.current&&x.current.focus()},[i]),h.useEffect(()=>{x.current&&(x.current.style.height="auto",x.current.style.height=`${x.current.scrollHeight}px`)},[c]);const w=async b=>{if(b.preventDefault(),c.trim().length===0||!o)return;f(!0),y(null);const m=n?`@${n} ${c.trim()}`:c.trim();try{await l({characterId:e,comment:m,parentReview:t})?(u(""),r()):y("Не удалось опубликовать комментарий.")}catch{y("Произошла ошибка.")}finally{f(!1)}};return o?a.jsxs("form",{onSubmit:w,className:"flex items-start gap-3",children:[a.jsx("img",{src:o.avatar||`https://ui-avatars.com/api/?name=${o.nickname}&background=random`,alt:"Ваш аватар",className:"w-10 h-10 rounded-full border-2 border-default mt-1 shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"rounded-xl border border-default bg-item focus-within:ring-2 focus-within:ring-accent-primary transition-all overflow-hidden",children:a.jsx("textarea",{ref:x,value:c,onChange:b=>u(b.target.value),placeholder:n?`Ответ пользователю ${n}...`:"Что вы думаете?",className:"w-full bg-transparent p-3 outline-none resize-none text-sm text-text-primary placeholder:text-text-muted max-h-40",rows:1,disabled:d})}),a.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[s&&a.jsx(E.button,{type:"button",onClick:s,disabled:d,className:"px-4 py-2 text-xs font-semibold text-text-muted hover:text-text-primary rounded-lg transition-colors",whileTap:{scale:.95},children:"Отмена"}),a.jsx(E.button,{type:"submit",disabled:d||c.trim().length===0,className:"w-10 h-10 flex items-center justify-center rounded-full text-white transition-opacity disabled:opacity-50 disabled:cursor-not-allowed shadow-button",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))"},whileTap:{scale:.95},"aria-label":"Отправить",children:d?a.jsx(vo,{size:16,className:"animate-spin"}):a.jsx(Gs,{size:16})})]}),p&&a.jsx("p",{className:"text-xs text-red-400 mt-1",children:p})]})]}):null}const Yo={ThumbsUp:e=>a.jsx(n1,{size:14,...e}),ThumbsDown:e=>a.jsx(t1,{size:14,...e}),MessageSquare:e=>a.jsx(Ja,{size:14,...e}),ChevronDown:e=>a.jsx(P4,{size:14,...e})};function c1({review:e,characterId:t}){var m,v;const{user:n}=me(),{toggleReviewLike:r,toggleReviewDislike:s}=po(),[i,o]=h.useState(!1),[l,c]=h.useState(!1),u=e.author,d=(u==null?void 0:u.nickname)||e.userName,f=(u==null?void 0:u.avatar)||`https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(d)}`,p=n&&((m=e.likesBy)==null?void 0:m.includes(n.id)),y=n&&((v=e.dislikesBy)==null?void 0:v.includes(n.id)),x=(e.replyToName?e.comment.replace(`@${e.replyToName}`,""):e.comment).trim(),w=!!e.parentReview,b=()=>{var g,k;return a.jsxs("div",{className:`rounded-xl border backdrop-blur-sm overflow-hidden ${w?"bg-reply":"bg-item"}`,children:[a.jsxs("div",{className:"p-3.5",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"font-semibold text-sm text-text-primary",children:d}),e.replyToName&&a.jsxs("div",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent-primary/20 text-accent-primary border border-accent-primary/30",children:["Ответ для: ",e.replyToName]})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed text-text-secondary mt-1.5",children:x||" "})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2.5 border-t border-default",children:[a.jsxs(E.button,{...X.buttonTap,onClick:()=>r(e.id),disabled:!n,className:`flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full transition-colors ${p?"bg-green-500/20 text-green-300":"bg-white/5 text-text-muted hover:bg-white/10 hover:text-white"}`,children:[a.jsx(Yo.ThumbsUp,{})," ",a.jsx("span",{children:((g=e.likesBy)==null?void 0:g.length)||0})]}),a.jsxs(E.button,{...X.buttonTap,onClick:()=>s(e.id),disabled:!n,className:`flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full transition-colors ${y?"bg-red-500/20 text-red-300":"bg-white/5 text-text-muted hover:bg-white/10 hover:text-white"}`,children:[a.jsx(Yo.ThumbsDown,{})," ",a.jsx("span",{children:((k=e.dislikesBy)==null?void 0:k.length)||0})]}),n&&a.jsxs(E.button,{...X.buttonTap,onClick:()=>o(j=>!j),className:"ml-auto flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full bg-white/5 text-accent-primary hover:bg-white/10 hover:text-white transition-colors",children:[a.jsx(Yo.MessageSquare,{})," ",a.jsx("span",{children:i?"Отмена":"Ответить"})]})]})]})};return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("img",{src:f,alt:d,className:"w-10 h-10 rounded-full border-2 border-default flex-shrink-0 bg-item"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[b(),a.jsx(xe,{children:i&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-3 overflow-hidden",children:a.jsx(l1,{characterId:t,parentReviewId:e.id,replyToName:d,onSubmit:()=>o(!1),onCancel:()=>o(!1),autoFocus:!0})})}),e.replies&&e.replies.length>0&&a.jsxs(E.button,{...X.buttonTap,onClick:()=>c(g=>!g),className:"flex items-center gap-1.5 text-xs font-medium text-text-muted hover:text-accent-primary transition-colors mt-3",children:[a.jsx(E.div,{animate:{rotate:l?180:0},children:a.jsx(Yo.ChevronDown,{})}),l?"Скрыть ответы":`Показать ответы (${e.replies.length})`]})]})]}),a.jsx(xe,{children:l&&e.replies&&e.replies.length>0&&a.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"pt-4 space-y-4 overflow-hidden",children:e.replies.map(g=>a.jsx(c1,{review:g,characterId:t},g.id))})})]})}const ud=F.memo(({value:e=0,onChange:t,size:n=24,readOnly:r=!1})=>{const[s,i]=h.useState(!1),o=h.useCallback(l=>{r||e===l||(t==null||t(l),i(!0),setTimeout(()=>i(!1),600))},[t,r,e]);return a.jsx("div",{className:"flex items-center gap-1","aria-label":r?`Оценка: ${e} из 5`:"Выставить рейтинг",children:a.jsx(E.div,{className:"flex items-center gap-1",animate:s?X.starPulse.animate:{},transition:X.starPulse.transition,children:Array.from({length:5}).map((l,c)=>{const u=c+1,d=e>=u;return a.jsx("button",{type:"button","aria-label":`${u} ${u===1?"звезда":"звезды"}`,onClick:()=>o(u),disabled:r,className:"focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-full p-1 transition-transform active:scale-90",children:a.jsx("div",{style:{width:n,height:n,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(lE,{filled:d,color:d?"var(--star-filled)":"var(--text-muted)",size:n,style:{filter:d?"drop-shadow(0 0 12px rgba(var(--star-glow-rgb), 0.6))":"none",transition:"all 0.2s ease"}})})},u)})})})});ud.displayName="StarRating";function u1(){const e=st(),{characterId:t=""}=rk(),{user:n,toggleFavorite:r}=me(),{characters:s,loading:i}=Ve(),{reviews:o,addReview:l,updateReview:c,loading:u}=po(),[d,f]=h.useState(!0),[p,y]=h.useState(0),[x,w]=h.useState(!1),[b,m]=h.useState(!1),[v,g]=h.useState(!1),[k,j]=h.useState(15),[C,S]=h.useState(!1),{scrollY:N}=Ur(),L=wn(N,[0,500],[.35,.1]),T=wn(N,[0,300],[0,-25]),I=wn(N,[0,200],[1,1.05]),$=h.useMemo(()=>s.find(M=>M.id===t),[s,t]),{avgRating:Q,reviewsCount:re}=h.useMemo(()=>{const M=o.filter(G=>G.characterId===t&&G.rating&&G.rating>0);return M.length===0?{avgRating:0,reviewsCount:0}:{avgRating:M.reduce((G,Ie)=>G+(Ie.rating||0),0)/M.length,reviewsCount:M.length}},[o,t]);h.useEffect(()=>{if(i||u){f(!0);return}(async()=>{var K;if(n&&$){try{const G=await B.collection("reviews").getFirstListItem(`character_id = "${t}" && user_id = "${n.id}"`,{requestKey:`user-rating-${t}-${n.id}`});y(G.rating||0)}catch{y(0)}m(((K=n==null?void 0:n.favorites)==null?void 0:K.includes($.id))||!1)}f(!1)})()},[t,n,$,i,u]);const ce=async()=>{!n||!$||x||(w(!0),await r($.id),m(!b),g(!0),setTimeout(()=>g(!1),400),w(!1))},Qe=h.useCallback(async M=>{if(n)try{let K;try{K=await B.collection("reviews").getFirstListItem(`character_id = "${t}" && user_id = "${n.id}"`)}catch{}K?await c(K.id,{rating:M}):await l({characterId:t,rating:M,comment:""}),y(M)}catch(K){console.error("Failed to update rating:",K)}},[n,t,c,l]),ee=h.useCallback(()=>{},[]),R=h.useMemo(()=>o.filter(M=>M.characterId===t&&M.comment&&M.comment.trim()),[o,t]),O=h.useMemo(()=>{var Ie;const M=new Map(R.map(se=>[se.id,{...se,replies:[]}])),K=[];for(const se of M.values())if(se.parentReview&&M.has(se.parentReview)){const be=M.get(se.parentReview);se.replyToName=((Ie=be.author)==null?void 0:Ie.nickname)||be.userName,be.replies.push(se)}else K.push(se);const G=se=>{se.sort((be,Ct)=>new Date(be.createdAt).getTime()-new Date(Ct.createdAt).getTime());for(const be of se)be.replies.length>1&&G(be.replies)};for(const se of M.values())se.replies.length>1&&G(se.replies);return K.sort((se,be)=>new Date(be.createdAt).getTime()-new Date(se.createdAt).getTime())},[R]);return i||u||d||!$?a.jsx("div",{children:"Загрузка..."}):a.jsxs("div",{className:"relative min-h-screen p-3 sm:p-5 font-body text-text-primary bg-dark",children:[a.jsx(tt,{intensity:L}),a.jsx(E.button,{...X.buttonTap,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},onClick:()=>e(-1),className:"fixed top-6 left-6 z-50 w-14 h-14 rounded-full flex items-center justify-center bg-floating backdrop-blur-lg shadow-glass","aria-label":"Назад",children:a.jsx(oE,{})}),a.jsxs(E.div,{initial:"initial",animate:"animate",variants:X.fadeInUp(),className:"relative z-10 w-full max-w-4xl mx-auto space-y-8",children:[a.jsx(E.div,{style:{scale:I},className:"w-full aspect-square rounded-xl overflow-hidden relative shadow-2xl",children:a.jsx("img",{src:$.photo,alt:$.name,className:"w-full h-full object-cover",loading:"lazy"})}),a.jsxs(E.div,{variants:X.fadeInUp(.1),className:"space-y-6 text-center",children:[a.jsx(E.h1,{style:{y:T},className:"text-4xl sm:text-5xl md:text-6xl font-black leading-tight bg-gradient-to-r from-white via-accent-primary to-accent-secondary bg-clip-text text-transparent font-heading",children:$.name}),a.jsx("p",{className:"text-xl sm:text-2xl font-medium text-text-secondary",children:$.occupation}),a.jsx("p",{className:"text-base sm:text-lg leading-relaxed max-w-2xl mx-auto px-2 text-text-muted",style:{lineHeight:"1.75"},children:$.description}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-3 my-4",children:[a.jsx(io,{icon:a.jsx(uE,{}),text:$.gender==="male"?"Мужчина":"Женщина",colorClass:"bg-badge-male text-white"}),a.jsx(io,{icon:$.ageGroup==="immortal"?a.jsx(fE,{}):a.jsx(dE,{}),text:$.ageGroup==="immortal"?"Бессмертный":i1($.age),colorClass:$.ageGroup==="immortal"?"bg-badge-immortal text-dark":"bg-badge-age text-white"})]}),$.category&&$.category.length>0&&a.jsx("div",{className:"flex flex-wrap justify-center gap-2.5 my-2",children:a.jsx(xe,{children:$.category.map((M,K)=>a.jsx(E.div,{variants:X.fadeInStagger(K*.05),initial:"initial",animate:"animate",children:a.jsx(rl,{text:M,isCategory:!0})},M))})}),$.tags.length>0&&a.jsx("div",{className:"flex flex-wrap justify-center gap-2.5 my-2",children:a.jsx(xe,{children:$.tags.map((M,K)=>a.jsx(E.div,{variants:X.fadeInStagger(K*.05),initial:"initial",animate:"animate",children:a.jsx(rl,{text:M})},M))})}),n&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx(E.button,{...X.buttonTap,animate:v?X.buttonPulse.animate:{},transition:X.buttonPulse.transition,onClick:ce,disabled:x,"aria-label":b?"Удалить из избранного":"Добавить в избранное",className:`inline-flex items-center gap-2.5 px-7 py-4 rounded-full font-bold text-sm relative transition-smooth ${b?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white shadow-button":"bg-accent-primary/10 text-text-primary border-2 border-accent-primary"}`,children:x?a.jsx(o1,{}):a.jsxs(a.Fragment,{children:[" ",a.jsx(aE,{filled:b})," ",b?"В избранном":"В избранное"," "]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx(gt,{delay:.2,children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[a.jsx("h4",{className:"text-xs uppercase tracking-widest text-text-muted",children:"Общий рейтинг"}),a.jsx("div",{className:"text-4xl font-extrabold text-star-filled",children:Q>0?Q.toFixed(1):"—"}),a.jsx(ud,{value:Q,readOnly:!0,size:28}),a.jsxs("div",{className:"text-xs text-text-muted",children:["На основе ",re," ",re===1?"оценки":"оценок"]})]})}),n&&a.jsxs(gt,{delay:.3,children:[a.jsx("h2",{className:"text-lg font-bold mb-4 text-center text-text-primary",children:p>0?"💖 Ваша оценка":"Поставьте оценку!"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(ud,{value:p,onChange:Qe,size:36})})]})]}),$.fullDescription&&a.jsx(a.Fragment,{children:a.jsx(E.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},className:"w-full max-w-4xl mx-auto",children:a.jsxs("div",{className:"rounded-xl border px-4 py-3 sm:px-5 sm:py-4",style:{background:"rgba(250, 204, 21, 0.10)",borderColor:"rgba(250, 204, 21, 0.45)",boxShadow:"0 8px 24px rgba(250, 204, 21, 0.05)",color:"rgb(253, 230, 138)"},children:[a.jsxs("button",{type:"button",onClick:()=>S(M=>!M),"aria-expanded":C,className:"w-full flex items-center justify-between gap-3 text-left",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[a.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("circle",{cx:"12",cy:"17",r:"1.2",fill:"currentColor"})]}),a.jsx("span",{className:"font-bold tracking-wide text-sm sm:text-base uppercase",children:"Важно к прочтению"})]}),a.jsx("span",{className:"transition-transform duration-200 inline-flex"+(C?" rotate-180":""),"aria-hidden":"true",children:a.jsx(ug,{size:18})})]}),a.jsx(xe,{initial:!1,children:C&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"pt-3 sm:pt-4 text-[15px] leading-relaxed prose prose-sm prose-invert max-w-none",children:[a.jsx("p",{children:" - Данный сайт содержит материалы для лиц старше 18 лет."}),a.jsx("p",{children:" - Все персонажи и описываемые события являются вымышленными."}),a.jsx("p",{children:" - Любое совпадение с реальными людьми или событиями, является случайностью."}),a.jsx("p",{children:" - В наших текстах может присутствовать нецензурная лексика, жестокие персонажи и употребление различных веществ."}),a.jsx("p",{children:" - Мы предупреждаем о наличии сцен, которые могут быть травмирующими или оскорбительными для некоторых читателей."}),a.jsx("p",{children:" - Контент несет исключительно развлекательный характер и не имеет цели кого-то задеть или оскорбить."})]})},"notice-content")})]})})}),$.fullDescription&&a.jsxs(gt,{delay:.4,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"📜 Описание"}),a.jsx("div",{className:"prose prose-sm prose-invert max-w-none prose-p:my-1 prose-h2:my-2 prose-h3:my-1",dangerouslySetInnerHTML:{__html:$.fullDescription}})]}),$.links&&$.links.length>0&&a.jsxs(gt,{delay:.5,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🔗 Ссылки"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:$.links.map((M,K)=>M.url&&M.label&&a.jsx(E.a,{variants:X.fadeInStagger(K*.05),initial:"initial",animate:"animate",href:M.url,target:"_blank",rel:"noopener noreferrer",className:"flex w-full items-center justify-center gap-2 rounded-xl p-4 font-medium bg-item hover:bg-glass-hover border transition-smooth text-center",whileHover:{scale:1.03},children:a.jsx("span",{children:M.label})},K))})]}),a.jsxs(gt,{delay:.6,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"💭 Комментарии"}),n&&a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-badge-tag border",children:a.jsx(l1,{characterId:t,onSubmit:ee})}),a.jsx("div",{className:"space-y-6",children:O.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx(E.div,{...X.float,className:"w-16 h-16 mx-auto mb-6 text-text-muted",children:a.jsx(cE,{})}),a.jsx("p",{className:"text-xl font-medium mb-2 text-text-secondary",children:"Будьте первым!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(xe,{children:O.slice(0,k).map(M=>a.jsx(E.div,{variants:X.fadeInUp(0),initial:"initial",animate:"animate",exit:"initial",layout:!0,children:a.jsx(c1,{review:M,characterId:t})},M.id))}),O.length>k&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(E.button,{...X.buttonTap,onClick:()=>j(M=>M+20),className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-medium bg-glass hover:bg-glass-hover border transition-smooth",children:[a.jsx(ug,{size:16}),"Показать ещё"]})})]})})]})]})]})}F.memo(u1);const je={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},di={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}},yE=e=>e?new Date(e):new Date(0),xE=e=>{const t=new Date;if(e==="all")return new Date(0);const n=new Date(t);return e==="30d"&&n.setDate(t.getDate()-30),e==="7d"&&n.setDate(t.getDate()-7),n};function Dc({label:e,active:t,onClick:n}){return a.jsx(E.button,{...di.buttonTap,onClick:n,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300",style:t?{background:`linear-gradient(135deg, ${je.colors.accent.primary}, ${je.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:je.shadows.button}:{background:je.colors.background.glass,color:je.colors.text.primary,border:`1px solid ${je.colors.border}`,boxShadow:je.shadows.glass},children:a.jsx("span",{children:e})})}function vE(e){const t=[{gradient:"linear-gradient(135deg, #ffd700, #ffcc00)",shadow:"0 4px 16px rgba(255, 215, 0, 0.4)"},{gradient:"linear-gradient(135deg, #c0c0c0, #a9a9a9)",shadow:"0 4px 16px rgba(192, 192, 192, 0.4)"},{gradient:"linear-gradient(135deg, #cd7f32, #b87333)",shadow:"0 4px 16px rgba(205, 127, 50, 0.4)"}];if(e<3){const n=t[e];return{background:n.gradient,boxShadow:n.shadow,border:"none",color:"#0a0a12"}}return{background:je.colors.background.glass,border:`1px solid ${je.colors.border}`,boxShadow:je.shadows.glass,color:je.colors.text.primary}}function wE(){const e=st(),{characters:t,loadCharacters:n}=Ve(),{reviews:r}=po(),[s,i]=h.useState("30d"),{scrollY:o}=Ur(),l=wn(o,[0,500],[.3,.1]);h.useEffect(()=>{t!=null&&t.length||n==null||n()},[]);const c=xE(s),u=h.useMemo(()=>{const d=(r||[]).filter(x=>typeof x.rating=="number"&&x.rating>0&&yE(x.createdAt)>=c),f=d.length>0?d.reduce((x,w)=>x+(w.rating||0),0)/d.length:0,p=3,y=(t||[]).map(x=>{const w=d.filter(g=>g.characterId===x.id),b=w.length,m=b?w.reduce((g,k)=>g+(k.rating||0),0)/b:0,v=b===0?0:b/(b+p)*m+p/(b+p)*f;return{id:x.id,name:x.name||"Без названия",occupation:x.occupation||"",rating:v,avatar:x.photo||""}});return y.sort((x,w)=>w.rating-x.rating||x.name.localeCompare(w.name)),y},[t,r,c]);return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:je.fonts.body,backgroundColor:je.colors.background.dark},children:[a.jsx(tt,{intensity:l}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...di.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:je.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🏆 Рейтинг персонажей"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:je.colors.text.muted},children:"Самые популярные персонажи по версии пользователей"})]}),a.jsx(E.div,{...di.fadeInUp(.2),className:"mb-8",children:a.jsx("div",{className:"rounded-2xl border backdrop-blur-xl p-4",style:{background:je.colors.background.glass,borderColor:je.colors.border,boxShadow:je.shadows.glass},children:a.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[a.jsx(Dc,{label:"За неделю",active:s==="7d",onClick:()=>i("7d")}),a.jsx(Dc,{label:"За месяц",active:s==="30d",onClick:()=>i("30d")}),a.jsx(Dc,{label:"Всё время",active:s==="all",onClick:()=>i("all")})]})})}),a.jsx(xe,{children:a.jsx(E.ul,{className:"flex flex-col gap-4",children:u.map((d,f)=>a.jsx(E.li,{...di.fadeInUp(.3+f*.05),children:a.jsxs(E.button,{...di.buttonTap,onClick:()=>e(`/characters/${d.id}`),className:"w-full flex items-center justify-between rounded-2xl px-4 py-4 text-left transition-all duration-300",style:vE(f),children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden border",style:{borderColor:je.colors.border},children:d.avatar?a.jsx("img",{src:d.avatar,alt:d.name,className:"h-full w-full object-cover",loading:"lazy"}):a.jsx("div",{className:"h-full w-full bg-black/30 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:"👤"})})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-sm font-bold leading-tight truncate",style:{color:f<3?"#0a0a12":je.colors.text.primary},children:[f+1,". ",d.name]}),a.jsx("div",{className:"text-xs truncate",style:{color:f<3?"rgba(10, 10, 18, 0.8)":je.colors.text.muted},children:d.occupation})]})]}),a.jsx("div",{className:"font-bold text-sm tabular-nums",style:{color:f<3?"#0a0a12":je.colors.text.primary},children:d.rating>0?d.rating.toFixed(2):"—"})]})},d.id))})})]})]})}const bE="flex items-center bg-[var(--badge-tag)] text-white px-3 py-1 rounded-full text-sm font-medium",kE="px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs hover:bg-[var(--accent-primary)] hover:text-black transition-colors",dg=({value:e,onChange:t,placeholder:n,suggestions:r=[]})=>{const[s,i]=h.useState(""),o=()=>{const f=s.trim();f&&!e.includes(f)&&(t([...e,f]),i(""))},l=f=>{e.includes(f)||t([...e,f])},c=f=>{t(e.filter(p=>p!==f))},u=f=>{f.key==="Enter"&&(f.preventDefault(),o())},d=h.useMemo(()=>{const f=s.toLowerCase();return r.filter(p=>!e.includes(p)&&(f?p.toLowerCase().startsWith(f):!0))},[r,e,s]);return a.jsxs("div",{children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-3 min-h-[30px]",children:a.jsx(xe,{children:e.map(f=>a.jsxs(E.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:25},className:bE,children:[a.jsx("span",{children:f}),a.jsx("button",{type:"button",onClick:()=>c(f),className:"ml-2 text-white/70 hover:text-white transition-colors",children:a.jsx(Ht,{size:14})})]},f))})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),onKeyDown:u,placeholder:n||"Добавьте тег...",className:"flex-grow bg-transparent border-b-2 border-white/20 focus:border-[var(--accent-primary)] outline-none py-2 transition-colors"}),a.jsx("button",{type:"button",onClick:o,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:a.jsx(Os,{size:20})})]}),d.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-2 border-t border-white/10 pt-3",children:a.jsx(xe,{children:d.slice(0,25).map(f=>a.jsx(E.button,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},type:"button",onClick:()=>l(f),className:kE,children:f},f))})})]})},jE="p-2 rounded-lg border border-white/10 bg-white/5 text-sm hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed",Xo=({onClick:e,title:t,children:n})=>a.jsx("button",{type:"button",onMouseDown:e,title:t,className:jE,children:n}),CE=({value:e,onChange:t,placeholder:n})=>{const r=h.useRef(null),[s,i]=h.useState("16");h.useEffect(()=>{const f=r.current;f&&f.innerHTML!==e&&(f.innerHTML=e)},[e]);const o=h.useCallback(()=>{r.current&&t(r.current.innerHTML)},[t]),l=(f,p)=>{var y;document.execCommand(f,!1,p),(y=r.current)==null||y.focus(),o()},c=f=>{var m,v;f.preventDefault();const p=parseInt(s,10);if(isNaN(p)||p<=0)return;const y=window.getSelection();if(!y||y.rangeCount===0)return;const x=y.getRangeAt(0);if(x.collapsed)return;const w=g=>{if(g.nodeType===Node.ELEMENT_NODE){const k=g;k.style.fontSize&&(k.style.fontSize=""),k.getAttribute("style")||k.removeAttribute("style"),k.tagName==="SPAN"&&!k.attributes.length&&k.replaceWith(...k.childNodes)}};(g=>{const k=g.extractContents(),j=document.createTreeWalker(k,NodeFilter.SHOW_ELEMENT);for(;j.nextNode();)w(j.currentNode);const C=document.createElement("span");C.style.fontSize=`${p}px`,C.appendChild(k),g.insertNode(C)})(x),y.removeAllRanges(),(m=r.current)==null||m.normalize(),o(),(v=r.current)==null||v.focus()},u=h.useCallback(f=>{f.preventDefault();const p=f.clipboardData.getData("text/plain");document.execCommand("insertText",!1,p),o()},[o]),d=f=>{f.preventDefault();const p=r.current;if(p){const y=document.createRange();y.selectNodeContents(p);const x=window.getSelection();x&&(x.removeAllRanges(),x.addRange(y)),p.focus()}};return a.jsxs("div",{className:"rounded-xl border border-white/15 bg-black/[.15] focus-within:ring-2 focus-within:ring-[var(--accent)]/50",children:[a.jsxs("div",{className:"p-2 border-b border-white/15 flex flex-wrap gap-1 items-center",children:[a.jsx(Xo,{onClick:()=>l("bold"),title:"Жирный",children:a.jsx(v4,{size:16})}),a.jsx(Xo,{onClick:()=>l("italic"),title:"Курсив",children:a.jsx(nT,{size:16})}),a.jsxs("div",{className:"flex items-center border border-white/10 rounded-lg bg-white/5",children:[a.jsx("input",{type:"number",value:s,onChange:f=>i(f.target.value),className:"bg-transparent w-16 p-2 text-center outline-none",placeholder:"16"}),a.jsx("button",{onClick:c,title:"Применить размер",className:"pr-2 text-[var(--accent-primary)] hover:text-white",children:a.jsx(T4,{size:18})})]}),a.jsx(Xo,{onClick:()=>l("removeFormat"),title:"Очистить форматирование",children:a.jsx(V4,{size:16})}),a.jsx(Xo,{onClick:d,title:"Выделить всё",children:a.jsx(K4,{size:16})})]}),a.jsx("div",{ref:r,contentEditable:!0,onInput:o,onPaste:u,"data-placeholder":n,className:"prose prose-sm prose-invert max-w-none prose-p:my-1 prose-h2:my-2 prose-h3:my-1 min-h-[250px] p-4 outline-none empty:before:content-[attr(data-placeholder)] empty:before:text-slate-400 empty:before:opacity-80"})]})},In="w-full rounded-lg px-4 py-2.5 bg-white/5 border border-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]/50 transition-all",SE=In+" pr-10 appearance-none",fg="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-bold text-sm text-white transition-all duration-300",Qo="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-medium text-sm bg-white/10 border border-white/20 text-text-secondary hover:bg-white/20 transition-all",NE=()=>{const{characters:e,addCharacter:t,updateCharacter:n,deleteCharacter:r,allCategories:s,allTags:i}=Ve(),[o,l]=h.useState(null),[c,u]=h.useState({}),[d,f]=h.useState(""),[p,y]=h.useState(null),x=h.useRef(null),w=h.useMemo(()=>e.filter(T=>T.name.toLowerCase().includes(d.toLowerCase())),[e,d]);h.useEffect(()=>{o&&(o==="new"?(u({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,tags:[],links:[],category:[],rating:0,isNew:!0}),y(null),window.scrollTo({top:0,behavior:"smooth"})):(u({...o,photoFile:null}),y(o.photo||null),setTimeout(()=>{var T;(T=x.current)==null||T.scrollIntoView({behavior:"smooth",block:"center"})},150)))},[o]);const b=T=>{const{name:I,value:$,type:Q}=T.target,re=Q==="checkbox";u(ce=>({...ce,[I]:re?T.target.checked:$}))},m=(T,I)=>{u($=>({...$,[T]:I}))},v=T=>{var $;const I=($=T.target.files)==null?void 0:$[0];I&&(u(Q=>({...Q,photoFile:I})),y(URL.createObjectURL(I)))},g=()=>{u(T=>({...T,photo:void 0,photoFile:null})),y(null)},k=()=>u(T=>({...T,links:[...T.links||[],{label:"",url:""}]})),j=(T,I,$)=>{u(Q=>({...Q,links:(Q.links||[]).map((re,ce)=>ce===T?{...re,[I]:$}:re)}))},C=T=>{u(I=>({...I,links:(I.links||[]).filter(($,Q)=>Q!==T)}))},S=async T=>{if(T.preventDefault(),!c.name)return alert("Имя персонажа обязательно для заполнения.");const I=new FormData,{photoFile:$,...Q}=c;Object.entries(Q).forEach(([re,ce])=>{re!=="photo"&&(re==="links"||re==="tags"||re==="category"?I.append(re,JSON.stringify(ce||[])):typeof ce=="boolean"?I.append(re,ce?"true":"false"):ce!=null&&I.append(re,String(ce)))}),$?I.append("photo",$):c.photo===void 0&&I.append("photo",""),I.set("ageGroup",wf(Number(c.age??0))),o&&o!=="new"?(await n(o.id,I),alert("Персонаж успешно обновлен")):(await t(I),alert("Персонаж успешно создан")),l(null)},N=async T=>{window.confirm("Вы уверены, что хотите удалить этого персонажа? Это действие необратимо.")&&(await r(T),alert("Персонаж удален"),typeof o!="string"&&(o==null?void 0:o.id)===T&&l(null))},L=a.jsx(gt,{children:a.jsxs("form",{onSubmit:S,className:"space-y-5",children:[a.jsx("h3",{className:"text-xl font-bold",children:o==="new"?"Создание нового персонажа":`Редактирование: ${c.name}`}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Имя"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:b,className:In,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Профессия"}),a.jsx("input",{type:"text",name:"occupation",value:c.occupation||"",onChange:b,className:In})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Короткое описание"}),a.jsx("input",{type:"text",name:"description",value:c.description||"",onChange:b,className:In})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Полное описание"}),a.jsx(CE,{value:c.fullDescription||"",onChange:T=>u(I=>({...I,fullDescription:T}))})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Пол"}),a.jsxs("select",{name:"gender",value:c.gender||"female",onChange:b,className:SE,children:[a.jsx("option",{value:"female",children:"Женский"}),a.jsx("option",{value:"male",children:"Мужской"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Возраст"}),a.jsx("input",{type:"number",name:"age",value:c.age||0,onChange:b,className:In,min:0})]})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isNewToggle",name:"isNew",checked:!!c.isNew,onChange:b,className:"w-4 h-4 text-[var(--accent-primary)] bg-white/10 border-white/20 rounded focus:ring-[var(--accent-primary)] focus:ring-2"}),a.jsx("label",{htmlFor:"isNewToggle",className:"ml-2 text-sm font-medium",children:"Отметить как 'Новый'"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Категории"}),a.jsx(dg,{value:c.category||[],onChange:T=>m("category",T),suggestions:s})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Теги"}),a.jsx(dg,{value:c.tags||[],onChange:T=>m("tags",T),suggestions:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Ссылки"}),a.jsxs("div",{className:"space-y-3",children:[(c.links||[]).map((T,I)=>a.jsxs("div",{className:"p-3 rounded-lg border grid grid-cols-1 sm:grid-cols-[1fr,1fr,auto] gap-3 items-center",style:{borderColor:"var(--border-color)"},children:[a.jsx("input",{type:"text",placeholder:"Текст кнопки",value:T.label,onChange:$=>j(I,"label",$.target.value),className:In}),a.jsx("input",{type:"url",placeholder:"URL (https://...)",value:T.url,onChange:$=>j(I,"url",$.target.value),className:In}),a.jsx("button",{type:"button",onClick:()=>C(I),className:"text-red-400 hover:text-red-300 transition-colors p-2",children:a.jsx(Li,{size:16})})]},I)),a.jsxs("button",{type:"button",onClick:k,className:Qo,children:[a.jsx(Os,{size:16})," Добавить ссылку"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Аватар"}),a.jsxs("div",{className:"flex items-center gap-4",children:[p&&a.jsxs("div",{className:"relative w-24 h-24",children:[a.jsx("img",{src:p,alt:"Превью",className:"w-full h-full object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:g,className:"absolute -top-2 -right-2 w-7 h-7 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:a.jsx(Li,{size:14})})]}),a.jsx("input",{type:"file",onChange:v,className:`${In} p-0 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2.5 file:text-white hover:file:bg-white/20 transition-colors flex-1`})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:[a.jsx(E.button,{type:"button",...X.buttonTap,onClick:()=>l(null),className:Qo,children:"Отмена"}),a.jsx(E.button,{type:"submit",...X.buttonTap,className:`${fg} flex-1`,style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))"},children:"Сохранить"})]})]})});return a.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление персонажами"}),a.jsxs(E.button,{...X.buttonTap,onClick:()=>l("new"),className:fg,style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))"},children:[a.jsx(Os,{size:16})," Добавить"]})]}),a.jsx(xe,{children:o==="new"&&a.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:L},"new-character-form")}),a.jsx("div",{className:"space-y-4",children:w.map(T=>a.jsxs("div",{children:[a.jsx(gt,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:T.photo||"https://placehold.co/80x80?text=?",alt:T.name,className:"w-16 h-16 rounded-xl object-cover border",style:{borderColor:"var(--border-color)"}}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:T.name}),a.jsx("div",{className:"text-sm opacity-80 truncate",children:T.occupation})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(E.button,{...X.buttonTap,onClick:()=>l(T),className:Qo,children:a.jsx(bo,{size:16})}),a.jsx(E.button,{...X.buttonTap,onClick:()=>N(T.id),className:`${Qo} !text-red-400 hover:!bg-red-500/20`,children:a.jsx(Li,{size:16})})]})]})}),a.jsx(xe,{children:o&&typeof o!="string"&&o.id===T.id&&a.jsx(E.div,{ref:x,initial:{opacity:0,y:-20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-20,height:0},className:"mt-4",children:L},`edit-form-${T.id}`)})]},T.id))})]})};var TE=Object.defineProperty,EE=(e,t,n)=>t in e?TE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Oc=(e,t,n)=>(EE(e,typeof t!="symbol"?t+"":t,n),n);let PE=class{constructor(){Oc(this,"current",this.detect()),Oc(this,"handoffState","pending"),Oc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},sn=new PE;function Ml(e){var t,n;return sn.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Il(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Pn(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Il(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Pn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function fh(){let[e]=h.useState(Pn);return h.useEffect(()=>()=>e.dispose(),[e]),e}let Ye=(e,t)=>{sn.isServer?h.useEffect(e,t):h.useLayoutEffect(e,t)};function zr(e){let t=h.useRef(e);return Ye(()=>{t.current=e},[e]),t}let le=function(e){let t=zr(e);return F.useCallback((...n)=>t.current(...n),[t])},LE=h.createContext(void 0);function RE(){return h.useContext(LE)}function dd(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Tn(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Tn),r}var sl=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(sl||{}),zn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(zn||{});function It(){let e=ME();return h.useCallback(t=>AE({mergeRefs:e,...t}),[e])}function AE({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??IE;let c=d1(t,e);if(i)return Zo(c,n,r,o,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Zo(f,n,r,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return Tn(d?0:1,{0(){return null},1(){return Zo({...f,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return Zo(c,n,r,o,l)}function Zo(e,t={},n,r,s){let{as:i=n,children:o,refName:l="ref",...c}=_c(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let p=!1,y=[];for(let[x,w]of Object.entries(t))typeof w=="boolean"&&(p=!0),w===!0&&y.push(x.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(p){f["data-headlessui-state"]=y.join(" ");for(let x of y)f[`data-${x}`]=""}}if(i===h.Fragment&&(Object.keys(gr(c)).length>0||Object.keys(gr(f)).length>0))if(!h.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(gr(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(gr(c)).concat(Object.keys(gr(f))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=d.props,y=p==null?void 0:p.className,x=typeof y=="function"?(...m)=>dd(y(...m),c.className):dd(y,c.className),w=x?{className:x}:{},b=d1(d.props,gr(_c(c,["ref"])));for(let m in f)m in b&&delete f[m];return h.cloneElement(d,Object.assign({},b,f,u,{ref:s($E(d),u.ref)},w))}return h.createElement(i,Object.assign({},_c(c,["ref"]),i!==h.Fragment&&u,i!==h.Fragment&&f),d)}function ME(){let e=h.useRef([]),t=h.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function IE(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function d1(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...i){let o=n[r];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function ht(e){var t;return Object.assign(h.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function gr(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function _c(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function $E(e){return F.version.split(".")[0]>="19"?e.props.ref:e.ref}let FE="span";var il=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(il||{});function DE(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return It()({ourProps:i,theirProps:s,slot:{},defaultTag:FE,name:"Hidden"})}let fd=ht(DE);function f1(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function er(e){return f1(e)&&"tagName"in e}function Dr(e){return er(e)&&"accessKey"in e}function Wn(e){return er(e)&&"tabIndex"in e}function OE(e){return er(e)&&"style"in e}function _E(e){return Dr(e)&&e.nodeName==="IFRAME"}function VE(e){return Dr(e)&&e.nodeName==="INPUT"}let h1=Symbol();function BE(e,t=!0){return Object.assign(e,{[h1]:t})}function ln(...e){let t=h.useRef(e);h.useEffect(()=>{t.current=e},[e]);let n=le(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[h1]))?void 0:n}let hh=h.createContext(null);hh.displayName="DescriptionContext";function p1(){let e=h.useContext(hh);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,p1),t}return e}function UE(){let[e,t]=h.useState([]);return[e.length>0?e.join(" "):void 0,h.useMemo(()=>function(n){let r=le(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=h.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return F.createElement(hh.Provider,{value:s},n.children)},[t])]}let zE="p";function WE(e,t){let n=h.useId(),r=RE(),{id:s=`headlessui-description-${n}`,...i}=e,o=p1(),l=ln(t);Ye(()=>o.register(s),[s,o.register]);let c=r||!1,u=h.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),d={ref:l,...o.props,id:s};return It()({ourProps:d,theirProps:i,slot:u,defaultTag:zE,name:o.name||"Description"})}let HE=ht(WE),KE=Object.assign(HE,{});var m1=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(m1||{});let GE=h.createContext(()=>{});function qE({value:e,children:t}){return F.createElement(GE.Provider,{value:e},t)}let g1=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var YE=Object.defineProperty,XE=(e,t,n)=>t in e?YE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QE=(e,t,n)=>(XE(e,t+"",n),n),y1=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Nt=(e,t,n)=>(y1(e,t,"read from private field"),n?n.call(e):t.get(e)),Vc=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},hg=(e,t,n,r)=>(y1(e,t,"write to private field"),t.set(e,n),n),Xt,fi,hi;let ZE=class{constructor(t){Vc(this,Xt,{}),Vc(this,fi,new g1(()=>new Set)),Vc(this,hi,new Set),QE(this,"disposables",Pn()),hg(this,Xt,t),sn.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Nt(this,Xt)}subscribe(t,n){if(sn.isServer)return()=>{};let r={selector:t,callback:n,current:t(Nt(this,Xt))};return Nt(this,hi).add(r),this.disposables.add(()=>{Nt(this,hi).delete(r)})}on(t,n){return sn.isServer?()=>{}:(Nt(this,fi).get(t).add(n),this.disposables.add(()=>{Nt(this,fi).get(t).delete(n)}))}send(t){let n=this.reduce(Nt(this,Xt),t);if(n!==Nt(this,Xt)){hg(this,Xt,n);for(let r of Nt(this,hi)){let s=r.selector(Nt(this,Xt));x1(r.current,s)||(r.current=s,r.callback(s))}for(let r of Nt(this,fi).get(t.type))r(Nt(this,Xt),t)}}};Xt=new WeakMap,fi=new WeakMap,hi=new WeakMap;function x1(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Bc(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Bc(e.entries(),t.entries()):pg(e)&&pg(t)?Bc(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Bc(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function pg(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var JE=Object.defineProperty,e3=(e,t,n)=>t in e?JE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mg=(e,t,n)=>(e3(e,typeof t!="symbol"?t+"":t,n),n),t3=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(t3||{});let n3={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},r3=class v1 extends ZE{constructor(){super(...arguments),mg(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),mg(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new v1({stack:[]})}reduce(t,n){return Tn(n.type,n3,t,n)}};const w1=new g1(()=>r3.new());var b1={exports:{}},k1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko=h;function s3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i3=typeof Object.is=="function"?Object.is:s3,o3=ko.useSyncExternalStore,a3=ko.useRef,l3=ko.useEffect,c3=ko.useMemo,u3=ko.useDebugValue;k1.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=a3(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=c3(function(){function c(y){if(!u){if(u=!0,d=y,y=r(y),s!==void 0&&o.hasValue){var x=o.value;if(s(x,y))return f=x}return f=y}if(x=f,i3(d,y))return x;var w=r(y);return s!==void 0&&s(x,w)?(d=y,x):(d=y,f=w)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,s]);var l=o3(e,i[0],i[1]);return l3(function(){o.hasValue=!0,o.value=l},[l]),u3(l),l};b1.exports=k1;var d3=b1.exports;function j1(e,t,n=x1){return d3.useSyncExternalStoreWithSelector(le(r=>e.subscribe(f3,r)),le(()=>e.state),le(()=>e.state),le(t),n)}function f3(e){return e}function jo(e,t){let n=h.useId(),r=w1.get(t),[s,i]=j1(r,h.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Ye(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?s:!0:!1}let hd=new Map,Ri=new Map;function gg(e){var t;let n=(t=Ri.get(e))!=null?t:0;return Ri.set(e,n+1),n!==0?()=>yg(e):(hd.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>yg(e))}function yg(e){var t;let n=(t=Ri.get(e))!=null?t:1;if(n===1?Ri.delete(e):Ri.set(e,n-1),n!==1)return;let r=hd.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,hd.delete(e))}function h3(e,{allowed:t,disallowed:n}={}){let r=jo(e,"inert-others");Ye(()=>{var s,i;if(!r)return;let o=Pn();for(let c of(s=n==null?void 0:n())!=null?s:[])c&&o.add(gg(c));let l=(i=t==null?void 0:t())!=null?i:[];for(let c of l){if(!c)continue;let u=Ml(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let f of d.children)l.some(p=>f.contains(p))||o.add(gg(f));d=d.parentElement}}return o.dispose},[r,t,n])}function p3(e,t,n){let r=zr(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});h.useEffect(()=>{if(!e)return;let s=t===null?null:Dr(t)?t:t.current;if(!s)return;let i=Pn();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,r,e])}let ol=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),m3=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var gn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(gn||{}),pd=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(pd||{}),g3=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(g3||{});function y3(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ol)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function x3(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(m3)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var C1=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(C1||{});function v3(e,t=0){var n;return e===((n=Ml(e))==null?void 0:n.body)?!1:Tn(t,{0(){return e.matches(ol)},1(){let r=e;for(;r!==null;){if(r.matches(ol))return!0;r=r.parentElement}return!1}})}var w3=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(w3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function bn(e){e==null||e.focus({preventScroll:!0})}let b3=["textarea","input"].join(",");function k3(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,b3))!=null?n:!1}function j3(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ai(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?j3(e):e:t&64?x3(e):y3(e);s.length>0&&o.length>1&&(o=o.filter(y=>!s.some(x=>x!=null&&"current"in x?(x==null?void 0:x.current)===y:x===y))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=o.length,p;do{if(d>=f||d+f<=0)return 0;let y=c+d;if(t&16)y=(y+f)%f;else{if(y<0)return 3;if(y>=f)return 1}p=o[y],p==null||p.focus(u),d+=l}while(p!==i.activeElement);return t&6&&k3(p)&&p.select(),2}function S1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function C3(){return/Android/gi.test(window.navigator.userAgent)}function xg(){return S1()||C3()}function Jo(e,t,n,r){let s=zr(n);h.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function N1(e,t,n,r){let s=zr(n);h.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const vg=30;function S3(e,t,n){let r=zr(n),s=h.useCallback(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let f of d)if(f!==null&&(f.contains(u)||l.composed&&l.composedPath().includes(f)))return;return!v3(u,C1.Loose)&&u.tabIndex!==-1&&l.preventDefault(),r.current(l,u)},[r,t]),i=h.useRef(null);Jo(e,"pointerdown",l=>{var c,u;xg()||(i.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target)},!0),Jo(e,"pointerup",l=>{if(xg()||!i.current)return;let c=i.current;return i.current=null,s(l,()=>c)},!0);let o=h.useRef({x:0,y:0});Jo(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),Jo(e,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=vg||Math.abs(c.y-o.current.y)>=vg))return s(l,()=>Wn(l.target)?l.target:null)},!0),N1(e,"blur",l=>s(l,()=>_E(window.document.activeElement)?window.document.activeElement:null),!0)}function $l(...e){return h.useMemo(()=>Ml(...e),[...e])}function T1(e,t,n,r){let s=zr(n);h.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function N3(e){return h.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function T3(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=t[s].call(n,...i);o&&(n=o,r.forEach(l=>l()))}}}function E3(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-s);n.style(r,"paddingRight",`${i}px`)}}}function P3(){return S1()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Pn();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(Wn(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);Wn(d)&&!r(d)&&(o=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(Wn(l.target)&&OE(l.target))if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(Wn(l.target)){if(VE(l.target))return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function L3(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function R3(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Cr=T3(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Pn(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:R3(n)},s=[P3(),E3(),L3()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Cr.subscribe(()=>{let e=Cr.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Cr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Cr.dispatch("TEARDOWN",n)}});function A3(e,t,n=()=>({containers:[]})){let r=N3(Cr),s=t?r.get(t):void 0,i=s?s.count>0:!1;return Ye(()=>{if(!(!t||!e))return Cr.dispatch("PUSH",t,n),()=>Cr.dispatch("POP",t,n)},[e,t]),i}function M3(e,t,n=()=>[document.body]){let r=jo(e,"scroll-lock");A3(r,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function I3(e=0){let[t,n]=h.useState(e),r=h.useCallback(c=>n(c),[t]),s=h.useCallback(c=>n(u=>u|c),[t]),i=h.useCallback(c=>(t&c)===c,[t]),o=h.useCallback(c=>n(u=>u&~c),[n]),l=h.useCallback(c=>n(u=>u^c),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}var $3={},wg,bg;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((wg=process==null?void 0:$3)==null?void 0:wg.NODE_ENV)==="test"&&typeof((bg=Element==null?void 0:Element.prototype)==null?void 0:bg.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var F3=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(F3||{});function D3(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function O3(e,t,n,r){let[s,i]=h.useState(n),{hasFlag:o,addFlag:l,removeFlag:c}=I3(e&&s?3:0),u=h.useRef(!1),d=h.useRef(!1),f=fh();return Ye(()=>{var p;if(e){if(n&&i(!0),!t){n&&l(3);return}return(p=r==null?void 0:r.start)==null||p.call(r,n),_3(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){d.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var y;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,c(7),n||i(!1),(y=r==null?void 0:r.end)==null||y.call(r,n))}})}},[e,n,t,f]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function _3(e,{prepare:t,run:n,done:r,inFlight:s}){let i=Pn();return B3(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(V3(e,r))})}),i.dispose}function V3(e,t){var n,r;let s=Pn();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{i||t()}),s.dispose)}function B3(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function ph(e,t){let n=h.useRef([]),r=le(e);h.useEffect(()=>{let s=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let l=r(t,s);return n.current=t,l}},[r,...t])}let Fl=h.createContext(null);Fl.displayName="OpenClosedContext";var Ut=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ut||{});function Dl(){return h.useContext(Fl)}function U3({value:e,children:t}){return F.createElement(Fl.Provider,{value:e},t)}function z3({children:e}){return F.createElement(Fl.Provider,{value:null},e)}function W3(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let _n=[];W3(()=>{function e(t){if(!Wn(t.target)||t.target===document.body||_n[0]===t.target)return;let n=t.target;n=n.closest(ol),_n.unshift(n??t.target),_n=_n.filter(r=>r!=null&&r.isConnected),_n.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function E1(e){let t=le(e),n=h.useRef(!1);h.useEffect(()=>(n.current=!1,()=>{n.current=!0,Il(()=>{n.current&&t()})}),[t])}function H3(){let e=typeof document>"u";return(t=>t.useSyncExternalStore)(Og)(()=>()=>{},()=>!1,()=>!e)}function Co(){let e=H3(),[t,n]=h.useState(sn.isHandoffComplete);return t&&sn.isHandoffComplete===!1&&n(!1),h.useEffect(()=>{t!==!0&&n(!0)},[t]),h.useEffect(()=>sn.handoff(),[]),e?!1:t}let P1=h.createContext(!1);function K3(){return h.useContext(P1)}function kg(e){return F.createElement(P1.Provider,{value:e.force},e.children)}function G3(e){let t=K3(),n=h.useContext(R1),[r,s]=h.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(sn.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return h.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),h.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let L1=h.Fragment,q3=ht(function(e,t){let{ownerDocument:n=null,...r}=e,s=h.useRef(null),i=ln(BE(y=>{s.current=y}),t),o=$l(s),l=n??o,c=G3(l),[u]=h.useState(()=>{var y;return sn.isServer?null:(y=l==null?void 0:l.createElement("div"))!=null?y:null}),d=h.useContext(md),f=Co();Ye(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),Ye(()=>{if(u&&d)return d.register(u)},[d,u]),E1(()=>{var y;!c||!u||(f1(u)&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&((y=c.parentElement)==null||y.removeChild(c)))});let p=It();return f?!c||!u?null:jl.createPortal(p({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:L1,name:"Portal"}),u):null});function Y3(e,t){let n=ln(t),{enabled:r=!0,ownerDocument:s,...i}=e,o=It();return r?F.createElement(q3,{...i,ownerDocument:s,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:L1,name:"Portal"})}let X3=h.Fragment,R1=h.createContext(null);function Q3(e,t){let{target:n,...r}=e,s={ref:ln(t)},i=It();return F.createElement(R1.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:X3,name:"Popover.Group"}))}let md=h.createContext(null);function Z3(){let e=h.useContext(md),t=h.useRef([]),n=le(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=le(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=h.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,h.useMemo(()=>function({children:i}){return F.createElement(md.Provider,{value:s},i)},[s])]}let J3=ht(Y3),A1=ht(Q3),eP=Object.assign(J3,{Group:A1});function tP(e,t=typeof document<"u"?document.defaultView:null,n){let r=jo(e,"escape");T1(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===m1.Escape&&n(s))})}function nP(){var e;let[t]=h.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=h.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Ye(()=>{if(!t)return;function s(i){r(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function rP({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=$l(n),s=le(()=>{var i,o;let l=[];for(let c of e)c!==null&&(er(c)?l.push(c):"current"in c&&er(c.current)&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&er(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||l.some(u=>c.contains(u))||l.push(c));return l});return{resolveContainers:s,contains:le(i=>s().some(o=>o.contains(i)))}}let M1=h.createContext(null);function jg({children:e,node:t}){let[n,r]=h.useState(null),s=I1(t??n);return F.createElement(M1.Provider,{value:s},e,s===null&&F.createElement(fd,{features:il.Hidden,ref:i=>{var o,l;if(i){for(let c of(l=(o=Ml(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&er(c)&&c!=null&&c.contains(i)){r(c);break}}}}))}function I1(e=null){var t;return(t=h.useContext(M1))!=null?t:e}function mh(){let e=h.useRef(!1);return Ye(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var pi=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(pi||{});function sP(){let e=h.useRef(0);return N1(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function $1(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)er(n.current)&&t.add(n.current);return t}let iP="div";var xr=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(xr||{});function oP(e,t){let n=h.useRef(null),r=ln(n,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:l=15,...c}=e;Co()||(l=0);let u=$l(n);uP(l,{ownerDocument:u});let d=dP(l,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:i});fP(l,{ownerDocument:u,container:n,containers:o,previousActiveElement:d});let f=sP(),p=le(v=>{if(!Dr(n.current))return;let g=n.current;(k=>k())(()=>{Tn(f.current,{[pi.Forwards]:()=>{Ai(g,gn.First,{skipElements:[v.relatedTarget,i]})},[pi.Backwards]:()=>{Ai(g,gn.Last,{skipElements:[v.relatedTarget,i]})}})})}),y=jo(!!(l&2),"focus-trap#tab-lock"),x=fh(),w=h.useRef(!1),b={ref:r,onKeyDown(v){v.key=="Tab"&&(w.current=!0,x.requestAnimationFrame(()=>{w.current=!1}))},onBlur(v){if(!(l&4))return;let g=$1(o);Dr(n.current)&&g.add(n.current);let k=v.relatedTarget;Wn(k)&&k.dataset.headlessuiFocusGuard!=="true"&&(F1(g,k)||(w.current?Ai(n.current,Tn(f.current,{[pi.Forwards]:()=>gn.Next,[pi.Backwards]:()=>gn.Previous})|gn.WrapAround,{relativeTo:v.target}):Wn(v.target)&&bn(v.target)))}},m=It();return F.createElement(F.Fragment,null,y&&F.createElement(fd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:il.Focusable}),m({ourProps:b,theirProps:c,defaultTag:iP,name:"FocusTrap"}),y&&F.createElement(fd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:il.Focusable}))}let aP=ht(oP),lP=Object.assign(aP,{features:xr});function cP(e=!0){let t=h.useRef(_n.slice());return ph(([n],[r])=>{r===!0&&n===!1&&Il(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=_n.slice())},[e,_n,t]),le(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function uP(e,{ownerDocument:t}){let n=!!(e&8),r=cP(n);ph(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&bn(r())},[n]),E1(()=>{n&&bn(r())})}function dP(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let i=h.useRef(null),o=jo(!!(e&1),"focus-trap#initial-focus"),l=mh();return ph(()=>{if(e===0)return;if(!o){s!=null&&s.current&&bn(s.current);return}let c=n.current;c&&Il(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(c.contains(u)){i.current=u;return}if(r!=null&&r.current)bn(r.current);else{if(e&16){if(Ai(c,gn.First|gn.AutoFocus)!==pd.Error)return}else if(Ai(c,gn.First)!==pd.Error)return;if(s!=null&&s.current&&(bn(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function fP(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let i=mh(),o=!!(e&4);T1(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!i.current)return;let c=$1(r);Dr(n.current)&&c.add(n.current);let u=s.current;if(!u)return;let d=l.target;Dr(d)?F1(c,d)?(s.current=d,bn(d)):(l.preventDefault(),l.stopPropagation(),bn(u)):bn(s.current)},!0)}function F1(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function D1(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:_1)!==h.Fragment||F.Children.count(e.children)===1}let Ol=h.createContext(null);Ol.displayName="TransitionContext";var hP=(e=>(e.Visible="visible",e.Hidden="hidden",e))(hP||{});function pP(){let e=h.useContext(Ol);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function mP(){let e=h.useContext(_l);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let _l=h.createContext(null);_l.displayName="NestingContext";function Vl(e){return"children"in e?Vl(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function O1(e,t){let n=zr(e),r=h.useRef([]),s=mh(),i=fh(),o=le((y,x=zn.Hidden)=>{let w=r.current.findIndex(({el:b})=>b===y);w!==-1&&(Tn(x,{[zn.Unmount](){r.current.splice(w,1)},[zn.Hidden](){r.current[w].state="hidden"}}),i.microTask(()=>{var b;!Vl(r)&&s.current&&((b=n.current)==null||b.call(n))}))}),l=le(y=>{let x=r.current.find(({el:w})=>w===y);return x?x.state!=="visible"&&(x.state="visible"):r.current.push({el:y,state:"visible"}),()=>o(y,zn.Unmount)}),c=h.useRef([]),u=h.useRef(Promise.resolve()),d=h.useRef({enter:[],leave:[]}),f=le((y,x,w)=>{c.current.splice(0),t&&(t.chains.current[x]=t.chains.current[x].filter(([b])=>b!==y)),t==null||t.chains.current[x].push([y,new Promise(b=>{c.current.push(b)})]),t==null||t.chains.current[x].push([y,new Promise(b=>{Promise.all(d.current[x].map(([m,v])=>v)).then(()=>b())})]),x==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(x)):w(x)}),p=le((y,x,w)=>{Promise.all(d.current[x].splice(0).map(([b,m])=>m)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>w(x))});return h.useMemo(()=>({children:r,register:l,unregister:o,onStart:f,onStop:p,wait:u,chains:d}),[l,o,r,f,p,d,u])}let _1=h.Fragment,V1=sl.RenderStrategy;function gP(e,t){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:c,enter:u,enterFrom:d,enterTo:f,entered:p,leave:y,leaveFrom:x,leaveTo:w,...b}=e,[m,v]=h.useState(null),g=h.useRef(null),k=D1(e),j=ln(...k?[g,t,v]:t===null?[]:[t]),C=(n=b.unmount)==null||n?zn.Unmount:zn.Hidden,{show:S,appear:N,initial:L}=pP(),[T,I]=h.useState(S?"visible":"hidden"),$=mP(),{register:Q,unregister:re}=$;Ye(()=>Q(g),[Q,g]),Ye(()=>{if(C===zn.Hidden&&g.current){if(S&&T!=="visible"){I("visible");return}return Tn(T,{hidden:()=>re(g),visible:()=>Q(g)})}},[T,g,Q,re,S,C]);let ce=Co();Ye(()=>{if(k&&ce&&T==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,T,ce,k]);let Qe=L&&!N,ee=N&&S&&L,R=h.useRef(!1),O=O1(()=>{R.current||(I("hidden"),re(g))},$),z=le(Ct=>{R.current=!0;let Wr=Ct?"enter":"leave";O.onStart(g,Wr,cr=>{cr==="enter"?i==null||i():cr==="leave"&&(l==null||l())})}),M=le(Ct=>{let Wr=Ct?"enter":"leave";R.current=!1,O.onStop(g,Wr,cr=>{cr==="enter"?o==null||o():cr==="leave"&&(c==null||c())}),Wr==="leave"&&!Vl(O)&&(I("hidden"),re(g))});h.useEffect(()=>{k&&s||(z(S),M(S))},[S,k,s]);let K=!(!s||!k||!ce||Qe),[,G]=O3(K,m,S,{start:z,end:M}),Ie=gr({ref:j,className:((r=dd(b.className,ee&&u,ee&&d,G.enter&&u,G.enter&&G.closed&&d,G.enter&&!G.closed&&f,G.leave&&y,G.leave&&!G.closed&&x,G.leave&&G.closed&&w,!G.transition&&S&&p))==null?void 0:r.trim())||void 0,...D3(G)}),se=0;T==="visible"&&(se|=Ut.Open),T==="hidden"&&(se|=Ut.Closed),S&&T==="hidden"&&(se|=Ut.Opening),!S&&T==="visible"&&(se|=Ut.Closing);let be=It();return F.createElement(_l.Provider,{value:O},F.createElement(U3,{value:se},be({ourProps:Ie,theirProps:b,defaultTag:_1,features:V1,visible:T==="visible",name:"Transition.Child"})))}function yP(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,o=h.useRef(null),l=D1(e),c=ln(...l?[o,t]:t===null?[]:[t]);Co();let u=Dl();if(n===void 0&&u!==null&&(n=(u&Ut.Open)===Ut.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=h.useState(n?"visible":"hidden"),p=O1(()=>{n||f("hidden")}),[y,x]=h.useState(!0),w=h.useRef([n]);Ye(()=>{y!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),x(!1))},[w,n]);let b=h.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);Ye(()=>{n?f("visible"):!Vl(p)&&o.current!==null&&f("hidden")},[n,p]);let m={unmount:s},v=le(()=>{var j;y&&x(!1),(j=e.beforeEnter)==null||j.call(e)}),g=le(()=>{var j;y&&x(!1),(j=e.beforeLeave)==null||j.call(e)}),k=It();return F.createElement(_l.Provider,{value:p},F.createElement(Ol.Provider,{value:b},k({ourProps:{...m,as:h.Fragment,children:F.createElement(B1,{ref:c,...m,...i,beforeEnter:v,beforeLeave:g})},theirProps:{},defaultTag:h.Fragment,features:V1,visible:d==="visible",name:"Transition"})))}function xP(e,t){let n=h.useContext(Ol)!==null,r=Dl()!==null;return F.createElement(F.Fragment,null,!n&&r?F.createElement(gd,{ref:t,...e}):F.createElement(B1,{ref:t,...e}))}let gd=ht(yP),B1=ht(gP),gh=ht(xP),wa=Object.assign(gd,{Child:gh,Root:gd});var vP=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(vP||{}),wP=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(wP||{});let bP={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},yh=h.createContext(null);yh.displayName="DialogContext";function Bl(e){let t=h.useContext(yh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bl),n}return t}function kP(e,t){return Tn(t.type,bP,e,t)}let Cg=ht(function(e,t){let n=h.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...f}=e,p=h.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(p.current||(p.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=Dl();s===void 0&&y!==null&&(s=(y&Ut.Open)===Ut.Open);let x=h.useRef(null),w=ln(x,t),b=$l(x),m=s?0:1,[v,g]=h.useReducer(kP,{titleId:null,descriptionId:null,panelRef:h.createRef()}),k=le(()=>i(!1)),j=le(G=>g({type:0,id:G})),C=Co()?m===0:!1,[S,N]=Z3(),L={get current(){var G;return(G=v.panelRef.current)!=null?G:x.current}},T=I1(),{resolveContainers:I}=rP({mainTreeNode:T,portals:S,defaultContainers:[L]}),$=y!==null?(y&Ut.Closing)===Ut.Closing:!1;h3(u||$?!1:C,{allowed:le(()=>{var G,Ie;return[(Ie=(G=x.current)==null?void 0:G.closest("[data-headlessui-portal]"))!=null?Ie:null]}),disallowed:le(()=>{var G;return[(G=T==null?void 0:T.closest("body > *:not(#headlessui-portal-root)"))!=null?G:null]})});let Q=w1.get(null);Ye(()=>{if(C)return Q.actions.push(r),()=>Q.actions.pop(r)},[Q,r,C]);let re=j1(Q,h.useCallback(G=>Q.selectors.isTop(G,r),[Q,r]));S3(re,I,G=>{G.preventDefault(),k()}),tP(re,b==null?void 0:b.defaultView,G=>{G.preventDefault(),G.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),k()}),M3(u||$?!1:C,b,I),p3(C,x,k);let[ce,Qe]=UE(),ee=h.useMemo(()=>[{dialogState:m,close:k,setTitleId:j,unmount:d},v],[m,v,k,j,d]),R=h.useMemo(()=>({open:m===0}),[m]),O={ref:w,id:r,role:l,tabIndex:-1,"aria-modal":u?void 0:m===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":ce,unmount:d},z=!nP(),M=xr.None;C&&!u&&(M|=xr.RestoreFocus,M|=xr.TabLock,c&&(M|=xr.AutoFocus),z&&(M|=xr.InitialFocus));let K=It();return F.createElement(z3,null,F.createElement(kg,{force:!0},F.createElement(eP,null,F.createElement(yh.Provider,{value:ee},F.createElement(A1,{target:x},F.createElement(kg,{force:!1},F.createElement(Qe,{slot:R},F.createElement(N,null,F.createElement(lP,{initialFocus:o,initialFocusFallback:x,containers:I,features:M},F.createElement(qE,{value:k},K({ourProps:O,theirProps:f,slot:R,defaultTag:jP,features:CP,visible:m===0,name:"Dialog"})))))))))))}),jP="div",CP=sl.RenderStrategy|sl.Static;function SP(e,t){let{transition:n=!1,open:r,...s}=e,i=Dl(),o=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?F.createElement(jg,null,F.createElement(wa,{show:r,transition:n,unmount:s.unmount},F.createElement(Cg,{ref:t,...s}))):F.createElement(jg,null,F.createElement(Cg,{ref:t,open:r,...s}))}let NP="div";function TP(e,t){let n=h.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:l},c]=Bl("Dialog.Panel"),u=ln(t,c.panelRef),d=h.useMemo(()=>({open:o===0}),[o]),f=le(b=>{b.stopPropagation()}),p={ref:u,id:r,onClick:f},y=s?gh:h.Fragment,x=s?{unmount:l}:{},w=It();return F.createElement(y,{...x},w({ourProps:p,theirProps:i,slot:d,defaultTag:NP,name:"Dialog.Panel"}))}let EP="div";function PP(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:i}]=Bl("Dialog.Backdrop"),o=h.useMemo(()=>({open:s===0}),[s]),l={ref:t,"aria-hidden":!0},c=n?gh:h.Fragment,u=n?{unmount:i}:{},d=It();return F.createElement(c,{...u},d({ourProps:l,theirProps:r,slot:o,defaultTag:EP,name:"Dialog.Backdrop"}))}let LP="h2";function RP(e,t){let n=h.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:o}]=Bl("Dialog.Title"),l=ln(t);h.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=h.useMemo(()=>({open:i===0}),[i]),u={ref:l,id:r};return It()({ourProps:u,theirProps:s,slot:c,defaultTag:LP,name:"Dialog.Title"})}let AP=ht(SP),MP=ht(TP);ht(PP);let IP=ht(RP),Uc=Object.assign(AP,{Panel:MP,Title:IP,Description:KE});const $P="#f7cfe1",yr="rgba(255,255,255,0.10)";function zc({elevated:e=!1}={}){return{background:`
      radial-gradient(600px 260px at 0% 0%, rgba(247, 207, 225,0.10), transparent 60%),
      radial-gradient(600px 260px at 100% 100%, rgba(120,140,255,0.09), transparent 60%),
      rgba(255,255,255,${e?.09:.07})
    `,border:`1px solid ${yr}`,boxShadow:"none",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}const Jr="w-full rounded-xl px-4 py-2.5 bg-black/[.15] border border-white/15 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50",FP=Jr+" pr-10 appearance-none",DP="block w-full text-sm text-white/90 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2 file:text-white hover:file:bg-white/20";function OP(){const{users:e,loadUsers:t,updateUser:n}=Ve(),[r,s]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState({}),[u,d]=h.useState(null),[f,p]=h.useState("");h.useEffect(()=>{e.length||t()},[e.length,t]);const y=m=>{o(m),c({nickname:m.nickname,username:m.username,email:m.email,role:m.role}),d(null),p(""),s(!0)},x=()=>{s(!1),o(null)},w=async()=>{var k;if(!i)return;if(p(""),l.newPassword&&l.newPassword!==l.newPasswordConfirm){p("Пароли не совпадают!");return}if(l.newPassword&&(((k=l.newPassword)==null?void 0:k.length)||0)<8){p("Новый пароль должен содержать не менее 8 символов.");return}const m=new FormData;l.nickname&&l.nickname!==i.nickname&&m.append("nickname",String(l.nickname)),l.username&&l.username!==i.username&&m.append("username",String(l.username)),l.email&&l.email!==i.email&&m.append("email",String(l.email)),l.role&&l.role!==i.role&&m.append("role",String(l.role)),l.newPassword&&m.append("password",String(l.newPassword)),u&&m.append("avatar",u);let v=!1;for(const j of m.entries()){v=!0;break}if(!v){p("Нет изменений для сохранения.");return}await n(i.id,m)?(await t(),x()):p("Не удалось сохранить изменения.")},b=async m=>{await n(m.id,{is_blocked:!m.isBlocked}),await t()};return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление пользователями"}),a.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-slate-300",children:[a.jsx(tl,{className:"h-5 w-5"}),a.jsxs("span",{children:["Всего: ",e.length]})]})]}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(m=>a.jsxs("div",{className:"rounded-2xl p-4 sm:p-5",style:zc(),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:m.avatar||"https://placehold.co/64x64?text=U",alt:m.nickname||m.username,className:"w-14 h-14 rounded-2xl object-cover border",style:{borderColor:yr}}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:m.nickname||"Без имени"}),a.jsxs("div",{className:"text-sm opacity-80 truncate",children:["@",m.username]}),a.jsx("div",{className:"text-sm opacity-70 truncate",children:m.email}),a.jsxs("div",{className:"mt-1 text-xs inline-flex items-center gap-2",children:[a.jsxs("span",{className:"px-2 py-0.5 rounded-lg border",style:{borderColor:yr},children:["Роль: ",a.jsx("b",{children:m.role})]}),m.isBlocked&&a.jsx("span",{className:"px-2 py-0.5 rounded-lg border",style:{borderColor:yr,color:"#fca5a5"},children:"Заблокирован"})]})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 sm:flex sm:gap-3",children:[a.jsxs("button",{onClick:()=>y(m),className:"w-full rounded-xl px-4 py-2 border font-medium flex items-center justify-center gap-2",style:{borderColor:yr,background:"rgba(255,255,255,0.03)"},children:[a.jsx(bo,{size:16}),"Редактировать"]}),a.jsxs("button",{onClick:()=>b(m),className:"w-full rounded-xl px-4 py-2 border font-medium flex items-center justify-center gap-2",style:{borderColor:yr,background:"rgba(255,255,255,0.03)"},children:[m.isBlocked?a.jsx(aT,{size:16}):a.jsx(Es,{size:16}),m.isBlocked?"Разблокировать":"Заблокировать"]})]})]},m.id))}),a.jsx(wa,{appear:!0,show:r,as:h.Fragment,children:a.jsxs(Uc,{as:"div",className:"relative z-50",onClose:x,children:[a.jsx(wa.Child,{as:h.Fragment,enter:"ease-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-end sm:items-center justify-center p-2 sm:p-4 text-center",children:a.jsx(wa.Child,{as:h.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-6 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-6 sm:translate-y-0 sm:scale-95",children:a.jsxs(Uc.Panel,{className:"w-full sm:max-w-lg sm:rounded-2xl text-left align-middle transition-all",style:zc({elevated:!0}),children:[a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs(Uc.Title,{className:"text-lg font-bold leading-6 mb-4",children:["Редактировать: ",i==null?void 0:i.nickname]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Никнейм"}),a.jsx("input",{type:"text",value:l.nickname||"",onChange:m=>c({...l,nickname:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Логин"}),a.jsx("input",{type:"text",value:l.username||"",onChange:m=>c({...l,username:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Email"}),a.jsx("input",{type:"email",value:l.email||"",onChange:m=>c({...l,email:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Роль"}),a.jsxs("select",{value:l.role,onChange:m=>c({...l,role:m.target.value}),className:FP,children:[a.jsx("option",{value:"user",children:"Пользователь"}),a.jsx("option",{value:"admin",children:"Администратор"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Новый пароль"}),a.jsx("input",{type:"password",placeholder:"Новый пароль (оставьте пустым)",value:l.newPassword||"",onChange:m=>c({...l,newPassword:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Подтвердите пароль"}),a.jsx("input",{type:"password",placeholder:"Подтвердите пароль",value:l.newPasswordConfirm||"",onChange:m=>c({...l,newPasswordConfirm:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Новый аватар"}),a.jsx("input",{type:"file",onChange:m=>{var v;return d(((v=m.target.files)==null?void 0:v[0])||null)},className:DP})]})]}),f&&a.jsx("p",{className:"text-sm text-red-400 mt-3",children:f})]}),a.jsxs("div",{className:"sticky bottom-0 w-full flex gap-2 p-3 sm:p-4",style:{...zc(),borderTopLeftRadius:0,borderTopRightRadius:0},children:[a.jsx("button",{onClick:x,className:"w-1/2 rounded-xl px-4 py-2 border font-medium",style:{borderColor:yr,background:"rgba(255,255,255,0.03)"},children:"Отмена"}),a.jsx("button",{onClick:w,className:"w-1/2 rounded-xl px-4 py-2 font-semibold text-black",style:{background:$P},children:"Сохранить"})]})]})})})})]})})]})}const fr="w-full rounded-lg px-4 py-2.5 bg-white/5 border border-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50 transition-all",Sg="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-bold text-sm text-white transition-all duration-300 bg-gradient-to-r from-accent-primary to-accent-secondary",ea="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-medium text-sm bg-white/10 border border-white/20 text-text-secondary hover:bg-white/20 transition-all";function _P(){const{shopItems:e,addShopItem:t,updateShopItem:n,deleteShopItem:r}=Ve(),[s,i]=h.useState(null),[o,l]=h.useState(!1),[c,u]=h.useState(null),[d,f]=h.useState({name:"",description:"",price:0,category:"",isActive:!0,actionButtons:[]}),p=()=>{f({name:"",description:"",price:0,category:"",isActive:!0,actionButtons:[]}),u(null),i(null),l(!1)},y=g=>{i(g),f({...g,actionButtons:Array.isArray(g.actionButtons)?g.actionButtons:[]}),l(!0),window.scrollTo({top:0,behavior:"smooth"})},x=async g=>{g.preventDefault();const k=new FormData;Object.entries(d).forEach(([j,C])=>{j!=="image"&&(j==="actionButtons"?k.append(j,JSON.stringify(C||[])):C!=null&&k.append(j,String(C)))}),c&&k.append("image",c),s?await n(s.id,k):await t(k),p()},w=async g=>{window.confirm("Вы уверены, что хотите удалить этот товар?")&&await r(g)},b=()=>{f(g=>({...g,actionButtons:[...g.actionButtons||[],{label:"Купить",url:""}]}))},m=(g,k,j)=>{f(C=>({...C,actionButtons:(C.actionButtons||[]).map((S,N)=>N===g?{...S,[k]:j}:S)}))},v=g=>{f(k=>({...k,actionButtons:(k.actionButtons||[]).filter((j,C)=>C!==g)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление магазином"}),a.jsxs(E.button,{...X.buttonTap,onClick:()=>{p(),l(!0)},className:Sg,children:[a.jsx(Os,{size:16})," Добавить товар"]})]}),o&&a.jsx(gt,{delay:.1,children:a.jsxs("form",{onSubmit:x,className:"space-y-5",children:[a.jsx("h3",{className:"text-lg font-bold",children:s?`Редактирование: ${s.name}`:"Новый товар"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Название"}),a.jsx("input",{type:"text",value:d.name,onChange:g=>f({...d,name:g.target.value}),className:fr,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Цена (в рублях)"}),a.jsx("input",{type:"number",value:d.price,onChange:g=>f({...d,price:Number(g.target.value)}),className:fr,required:!0})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Категория"}),a.jsx("input",{type:"text",value:d.category,onChange:g=>f({...d,category:g.target.value}),className:fr})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Описание"}),a.jsx("textarea",{value:d.description,onChange:g=>f({...d,description:g.target.value}),className:fr,rows:3})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Изображение"}),a.jsx("input",{type:"file",onChange:g=>{var k;return u(((k=g.target.files)==null?void 0:k[0])||null)},className:`${fr} p-0 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2.5 file:text-white hover:file:bg-white/20 transition-colors`})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Кнопки действий"}),a.jsxs("div",{className:"space-y-3",children:[(d.actionButtons||[]).map((g,k)=>a.jsxs("div",{className:"p-3 rounded-lg border border-white/10 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Текст кнопки",value:g.label,onChange:j=>m(k,"label",j.target.value),className:fr}),a.jsx("input",{type:"url",placeholder:"URL (https://...)",value:g.url,onChange:j=>m(k,"url",j.target.value),className:fr}),a.jsx("button",{type:"button",onClick:()=>v(k),className:"sm:col-span-2 text-xs text-red-400 hover:text-red-300 transition-colors text-left",children:"Удалить кнопку"})]},k)),a.jsx("button",{type:"button",onClick:b,className:ea,children:"+ Добавить кнопку"})]})]}),a.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d.isActive,onChange:g=>f({...d,isActive:g.target.checked}),id:"isActiveCheckbox",className:"w-4 h-4"}),a.jsx("label",{htmlFor:"isActiveCheckbox",className:"text-sm",children:"Активный товар"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:[a.jsx(E.button,{type:"button",...X.buttonTap,onClick:p,className:ea,children:"Отмена"}),a.jsx(E.button,{type:"submit",...X.buttonTap,className:`${Sg} flex-1`,children:"Сохранить товар"})]})]})}),a.jsx("div",{className:"space-y-4",children:e.map(g=>a.jsx(gt,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:g.image,alt:g.name,className:"w-16 h-16 rounded-xl object-cover border border-white/10"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:g.name}),a.jsxs("div",{className:"text-sm opacity-80 truncate",children:[g.price," ₽"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(E.button,{...X.buttonTap,onClick:()=>y(g),className:ea,children:a.jsx(bo,{size:16})}),a.jsx(E.button,{...X.buttonTap,onClick:()=>w(g.id),className:`${ea} !text-red-400 hover:!bg-red-500/20`,children:a.jsx(Li,{size:16})})]})]})},g.id))})]})}const yd="#f7cfe1",xd="rgba(255,255,255,0.10)";function qr({elevated:e=!1,active:t=!1}={}){const n=e?.09:.07,r=e?"0 14px 36px rgba(0,0,0,0.40)":"0 8px 22px rgba(0,0,0,0.30)";return{background:`
      radial-gradient(600px 260px at 0% 0%, rgba(247, 207, 225,0.10), transparent 60%),
      radial-gradient(600px 260px at 100% 100%, rgba(120,140,255,0.09), transparent 60%),
      rgba(255,255,255,${n})
    `,border:`1px solid ${t?yd:xd}`,boxShadow:t?`${r}, inset 0 0 0 1px ${yd}`:r,backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}function VP(){const{users:e,characters:t,loadUsers:n,loadCharacters:r}=Ve(),[s,i]=h.useState("users"),[o,l]=h.useState("");h.useEffect(()=>{e!=null&&e.length||n==null||n(),t!=null&&t.length||r==null||r()},[]);const c=h.useMemo(()=>{const d=[];return(e||[]).forEach(f=>{var y;const p=f==null?void 0:f.avatar;p&&typeof p=="string"&&p.includes("/api/files/")&&d.push({id:`${f.id}-avatar`,collectionName:"users",recordId:f.id,fileName:((y=p.split("/").pop())==null?void 0:y.split("?")[0])||"avatar",fileUrl:p,contextName:f.nickname||f.username||"Пользователь"})}),(t||[]).forEach(f=>{var y;const p=f==null?void 0:f.photo;p&&typeof p=="string"&&p.includes("/api/files/")&&d.push({id:`${f.id}-photo`,collectionName:"characters",recordId:f.id,fileName:((y=p.split("/").pop())==null?void 0:y.split("?")[0])||"photo",fileUrl:p,contextName:f.name||"Персонаж"})}),d},[e,t]),u=h.useMemo(()=>{const d=o.toLowerCase();return c.filter(f=>f.collectionName===s).filter(f=>f.fileName.toLowerCase().includes(d)||f.contextName.toLowerCase().includes(d))},[c,s,o]);return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-3 gap-2.5",children:[a.jsxs("div",{className:"rounded-2xl p-1 flex",style:qr(),children:[a.jsxs("button",{onClick:()=>i("users"),className:"w-1/2 px-3 py-2 rounded-xl text-sm font-medium flex items-center justify-center gap-2",style:qr({active:s==="users"}),children:[a.jsx($r,{size:16})," Пользователи"]}),a.jsxs("button",{onClick:()=>i("characters"),className:"w-1/2 px-3 py-2 rounded-xl text-sm font-medium flex items-center justify-center gap-2",style:qr({active:s==="characters"}),children:[a.jsx(Fr,{size:16})," Персонажи"]})]}),a.jsxs("div",{className:"sm:col-span-2 rounded-2xl p-2 flex items-center gap-2",style:qr(),children:[a.jsx(ah,{size:16}),a.jsx("input",{value:o,onChange:d=>l(d.target.value),placeholder:"Поиск по имени файла или объекту…",className:"w-full bg-transparent outline-none text-sm placeholder-white/70"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2.5",children:u.map(d=>a.jsxs("div",{className:"rounded-2xl p-3 sm:p-4",style:qr(),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:d.fileUrl,alt:d.fileName,className:"w-16 h-16 rounded-xl object-cover border",style:{borderColor:xd}}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:d.fileName}),a.jsxs("div",{className:"text-xs opacity-80 truncate",children:[d.collectionName," • ",d.contextName]})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>{var f;return(f=navigator.clipboard)==null?void 0:f.writeText(d.fileUrl)},className:"rounded-xl px-3 py-2 border text-sm font-medium flex items-center justify-center gap-2",style:{borderColor:xd,background:"rgba(255,255,255,0.03)"},children:[a.jsx(F4,{size:16})," Копировать URL"]}),a.jsxs("a",{href:d.fileUrl,target:"_blank",rel:"noreferrer",className:"rounded-xl px-3 py-2 text-sm font-semibold text-black flex items-center justify-center gap-2",style:{background:yd},children:[a.jsx(U4,{size:16})," Открыть"]})]})]},d.id))}),u.length===0&&a.jsx("div",{className:"mt-4 rounded-2xl p-5 text-center opacity-70",style:qr(),children:"Ничего не найдено."})]})}const BP="#f7cfe1",Ng="rgba(255,255,255,0.10)",U1="w-full rounded-xl px-4 py-2.5 bg-black/[.15] border border-white/15 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50",UP=U1+" min-h-[120px] resize-y";function zP(){const{newsletters:e,loadNewsletters:t,addNewsletter:n,updateNewsletter:r,deleteNewsletter:s}=Ve(),{user:i}=me(),[o,l]=h.useState({title:"",content:"",imageFile:null}),[c,u]=h.useState(null),[d,f]=h.useState(!1),[p,y]=h.useState("");h.useEffect(()=>{t()},[t]);const x=v=>{u(v),l({title:v.title,content:v.content,imageFile:null})},w=()=>{u(null),l({title:"",content:"",imageFile:null})},b=async v=>{confirm("Вы уверены, что хотите удалить это объявление?")&&await s(v)},m=async v=>{if(v.preventDefault(),!o.title||!o.content||!i)return;f(!0),y("");const g=new FormData;g.append("title",o.title),g.append("content",o.content),g.append("sentBy",i.id),g.append("status","sent"),o.imageFile&&g.append("image",o.imageFile);try{(c?await r(c.id,g):await n(g))?(y(c?"Объявление успешно обновлено!":"Объявление успешно создано!"),w(),v.target.reset()):y("Ошибка при сохранении объявления.")}catch{y("Произошла ошибка.")}finally{f(!1),setTimeout(()=>y(""),5e3)}};return a.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:[c?"Редактировать":"Новое"," объявление"]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Заголовок"}),a.jsx("input",{type:"text",value:o.title,onChange:v=>l(g=>({...g,title:v.target.value})),className:U1,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Сообщение (HTML)"}),a.jsx("textarea",{value:o.content,onChange:v=>l(g=>({...g,content:v.target.value})),rows:10,className:UP,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Изображение"}),a.jsx("input",{type:"file",onChange:v=>l(g=>({...g,imageFile:v.target.files?v.target.files[0]:null})),accept:"image/*",className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-white/10 file:text-white hover:file:bg-white/20"})]}),a.jsxs("div",{className:"flex space-x-2 pt-2",children:[a.jsxs("button",{type:"submit",disabled:d,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-xl hover:opacity-90 transition-opacity disabled:opacity-50 font-bold text-black",style:{background:BP},children:[a.jsx(e1,{size:18}),a.jsx("span",{children:d?"Сохранение...":c?"Сохранить":"Опубликовать"})]}),c&&a.jsx("button",{type:"button",onClick:w,className:"px-5 py-3 rounded-xl border",style:{borderColor:Ng,background:"rgba(255,255,255,0.05)"},children:a.jsx(Ht,{size:18})})]}),p&&a.jsx("p",{className:"text-center text-green-400 mt-2",children:p})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"История объявлений"}),a.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:e.length>0?e.map(v=>a.jsxs("div",{className:"p-4 rounded-xl border",style:{borderColor:Ng,background:"rgba(255,255,255,0.04)"},children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-white",children:v.title}),a.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Опубликовано: ",new Date(v.createdAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>x(v),className:"p-2 hover:bg-white/10 rounded-md text-blue-400",children:a.jsx(bo,{size:16})}),a.jsx("button",{onClick:()=>b(v.id),className:"p-2 hover:bg-white/10 rounded-md text-red-400",children:a.jsx(Li,{size:16})})]})]}),a.jsx("div",{className:"text-sm text-slate-300 line-clamp-2 prose prose-sm prose-invert",dangerouslySetInnerHTML:{__html:v.content}})]},v.id)):a.jsx("p",{className:"text-slate-400 text-center py-8",children:"Еще не было ни одного объявления."})})]})]})}const te={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Rn={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function WP(){const e=st(),t=jt(),{user:n}=me(),{users:r,characters:s}=Ve(),i=new URLSearchParams(t.search).get("tab")||"characters",[o,l]=h.useState(i),{scrollY:c}=Ur(),u=wn(c,[0,500],[.3,.1]);h.useEffect(()=>{const y=new URLSearchParams(t.search);y.set("tab",o),e({search:y.toString()},{replace:!0}),window.scrollTo({top:0,behavior:"smooth"})},[o,t.search,e]);const d=h.useMemo(()=>[{id:"characters",label:"Персонажи",icon:$r},{id:"users",label:"Пользователи",icon:Fr},{id:"shop",label:"Магазин",icon:wo},{id:"broadcast",label:"Объявления",icon:so},{id:"files",label:"Файлы",icon:ah}],[]),f=h.useMemo(()=>[{label:"Пользователи",value:r.length,icon:Fr},{label:"Персонажи",value:s.length,icon:$r}],[r.length,s.length]),p=()=>{switch(o){case"characters":return a.jsx(NE,{});case"users":return a.jsx(OP,{});case"shop":return a.jsx(_P,{});case"messages":return a.jsx(AdminSupport,{});case"broadcast":return a.jsx(zP,{});case"files":return a.jsx(VP,{});default:return null}};return n&&n.role!=="admin"?a.jsxs("div",{className:"min-h-screen w-full relative p-4",style:{fontFamily:te.fonts.body,backgroundColor:te.colors.background.dark},children:[a.jsx(tt,{intensity:u}),a.jsx("div",{className:"max-w-screen-md mx-auto",children:a.jsxs(E.div,{...Rn.fadeInUp(.2),className:"rounded-3xl p-8 text-center",style:{background:te.colors.background.glass,border:`1px solid ${te.colors.border}`,boxShadow:te.shadows.glass,color:te.colors.text.primary},children:[a.jsx(tl,{className:"w-16 h-16 mx-auto mb-6",style:{color:"#f87171"}}),a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Доступ запрещён"}),a.jsx("p",{className:"text-lg",style:{color:te.colors.text.muted},children:"Эта страница доступна только администраторам."})]})})]}):a.jsxs("div",{className:"min-h-screen w-full relative p-2 sm:p-4 pt-4 sm:pt-6",style:{fontFamily:te.fonts.body,backgroundColor:te.colors.background.dark},children:[a.jsx(tt,{intensity:u}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none",children:[a.jsx("header",{className:"mb-8",children:a.jsxs(E.div,{...Rn.fadeInUp(.1),className:"flex items-center gap-4",children:[a.jsx(E.div,{...Rn.float,className:"rounded-2xl w-12 h-12 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${te.colors.accent.primary}, ${te.colors.accent.secondary})`,boxShadow:te.shadows.button},children:a.jsx(tl,{className:"w-6 h-6",style:{color:"#ffffff"}})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:te.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"Панель администратора"}),a.jsx("p",{className:"text-base sm:text-lg mt-2",style:{color:te.colors.text.muted},children:"Управляйте контентом, пользователями и сервисом"})]})]})}),a.jsx(E.div,{...Rn.fadeInUp(.2),className:"mb-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.map((y,x)=>a.jsx(E.div,{...Rn.fadeInUp(.3+x*.1),className:"rounded-2xl p-5",style:{background:te.colors.background.glass,border:`1px solid ${te.colors.border}`,boxShadow:te.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"rounded-xl p-3 flex items-center justify-center",style:{background:te.colors.background.glass,border:`1px solid ${te.colors.border}`,boxShadow:te.shadows.glass},children:a.jsx(y.icon,{className:"w-6 h-6",style:{color:te.colors.text.primary}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",style:{color:te.colors.text.primary},children:y.value}),a.jsx("p",{className:"text-sm",style:{color:te.colors.text.muted},children:y.label})]})]})},y.label))}),a.jsx("nav",{className:"mb-8",children:a.jsx(E.div,{...Rn.fadeInUp(.4),className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:d.map(({id:y,label:x,icon:w})=>{const b=o===y;return a.jsx(E.button,{...Rn.buttonTap,onClick:()=>l(y),className:"w-full",children:a.jsxs("div",{className:"w-full rounded-2xl px-4 py-4 flex items-center gap-3 transition-all duration-300",style:{background:b?`linear-gradient(135deg, ${te.colors.accent.primary}, ${te.colors.accent.secondary})`:te.colors.background.glass,color:b?"#ffffff":te.colors.text.primary,boxShadow:b?te.shadows.button:te.shadows.glass,border:"none"},children:[a.jsx("div",{className:"rounded-xl p-3 flex items-center justify-center",style:{background:b?"rgba(255, 255, 255, 0.2)":te.colors.background.glass,boxShadow:b?"none":te.shadows.glass},children:a.jsx(w,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-bold text-lg truncate",children:x})]})},y)})})}),a.jsx(E.section,{...Rn.fadeInUp(.5),className:"rounded-3xl overflow-hidden",style:{background:te.colors.background.glass,border:`1px solid ${te.colors.border}`,boxShadow:te.shadows.glass},children:p()})]})]})}function HP({src:e,size:t=512,quality:n=.9,onCropped:r,className:s=""}){const i=h.useRef(null);return F.useEffect(()=>{if(!e){r(null);return}const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{const l=i.current;if(!l)return;l.width=t,l.height=t;const c=l.getContext("2d");if(!c)return;const u=o.naturalWidth,d=o.naturalHeight,f=Math.max(t/u,t/d),p=u*f,y=d*f,x=(t-p)/2,w=(t-y)/2;c.clearRect(0,0,t,t),c.drawImage(o,x,w,p,y),l.toBlob(b=>{if(!b){r(null);return}const m=new File([b],"avatar.webp",{type:"image/webp"});r(m)},"image/webp",n)},o.onerror=()=>r(null),o.src=e},[e,t,n,r]),a.jsxs("div",{className:["rounded-full overflow-hidden border border-white/10",s].join(" "),children:[e?a.jsx("img",{src:e,alt:"preview",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-white/5"}),a.jsx("canvas",{ref:i,className:"hidden"})]})}const Te={colors:{text:{primary:"#ffffff",muted:"#b0b0b0",error:"#ff6b6b"},background:{glass:"rgba(40, 40, 50, 0.65)",item:"rgba(255,255,255,0.04)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(215, 174, 251, 0.3)"},fonts:{body:'"Geist", "Inter", system-ui, sans-serif'}},vs={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},Wc=({title:e,children:t,delay:n=.2})=>a.jsxs(E.div,{...vs.fadeInUp(n),className:"rounded-2xl p-5",style:{background:Te.colors.background.glass,border:`1px solid ${Te.colors.border}`,boxShadow:Te.shadows.glass},children:[a.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:Te.colors.text.primary},children:e}),a.jsx("div",{className:"space-y-4",children:t})]}),Yr=({icon:e,error:t,...n})=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 rounded-2xl px-4 py-3",style:{background:Te.colors.background.item,border:`1px solid ${Te.colors.border}`},children:[a.jsx(e,{className:"w-5 h-5",style:{color:Te.colors.text.muted}}),a.jsx("input",{...n,className:"bg-transparent outline-none w-full text-sm placeholder-text-muted",style:{color:Te.colors.text.primary,fontFamily:Te.fonts.body}})]}),t&&a.jsx("p",{className:"text-xs mt-1.5",style:{color:Te.colors.text.error},children:t})]}),Xr=({children:e,variant:t="primary",...n})=>{const r={primary:{background:`linear-gradient(135deg, ${Te.colors.accent.primary}, ${Te.colors.accent.secondary})`,color:"#ffffff",boxShadow:Te.shadows.button},secondary:{background:Te.colors.background.glass,color:Te.colors.text.primary,border:`1px solid ${Te.colors.border}`},danger:{background:"rgba(255, 107, 107, 0.1)",color:"#ff6b6b",border:"1px solid rgba(255, 107, 107, 0.3)"}};return a.jsx(E.button,{...vs.buttonTap,...n,className:"w-full h-12 rounded-full font-bold text-sm transition-all duration-300 flex items-center justify-center gap-2",style:r[t],children:e})};function KP(){const{user:e,updateProfile:t,logout:n}=me(),[r,s]=h.useState(!1),[i,o]=h.useState(null),[l,c]=h.useState({nickname:(e==null?void 0:e.nickname)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[u,d]=h.useState({}),[f,p]=h.useState(null),[y,x]=h.useState((e==null?void 0:e.avatar)||""),[w,b]=h.useState(!1),m=h.useRef(null);h.useEffect(()=>{e&&(c(S=>({...S,nickname:e.nickname,email:e.email})),x(e.avatar||""),b(!1))},[e]);const v=(S=3e3)=>setTimeout(()=>o(null),S),g=()=>{const S={};return l.nickname.trim()||(S.nickname="Никнейм не может быть пустым"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(S.email="Некорректный email"),l.newPassword&&l.newPassword.length<8&&(S.newPassword="Пароль должен быть не менее 8 символов"),l.newPassword&&l.newPassword!==l.confirmPassword&&(S.confirmPassword="Пароли не совпадают"),d(S),Object.keys(S).length===0},k=S=>{var L;const N=(L=S.target.files)==null?void 0:L[0];N&&(b(!1),x(URL.createObjectURL(N)))},j=()=>{s(!1),d({}),p(null),b(!1),e&&(c({...l,nickname:e.nickname,email:e.email,currentPassword:"",newPassword:"",confirmPassword:""}),x(e.avatar||""))},C=async()=>{if(!g()){o({type:"error",text:"Исправьте ошибки в форме"}),v();return}const S={};if(l.nickname!==(e==null?void 0:e.nickname)&&(S.nickname=l.nickname),l.email!==(e==null?void 0:e.email)&&(S.email=l.email),f&&(S.avatarFile=f),w&&(S.avatarFile=null),l.newPassword&&l.currentPassword&&(S.oldPassword=l.currentPassword,S.password=l.newPassword),Object.keys(S).length>0){const N=await t(S);o({type:N.success?"success":"error",text:N.message}),N.success&&(s(!1),c(L=>({...L,currentPassword:"",newPassword:"",confirmPassword:""}))),v()}else s(!1)};return e?a.jsxs("div",{className:"relative min-h-screen p-2 sm:p-4",style:{fontFamily:Te.fonts.body},children:[a.jsx(tt,{intensity:.9,animated:!0}),a.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto w-full space-y-8",children:[a.jsx(E.div,{...vs.fadeInUp(.1),className:"text-center",children:a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black",style:{background:`linear-gradient(120deg, ${Te.colors.text.primary} 0%, ${Te.colors.accent.primary} 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Профиль"})}),i&&a.jsx(E.div,{...vs.fadeInUp(.2),className:"p-4 rounded-2xl",style:{background:i.type==="success"?"rgba(74, 222, 128, 0.1)":"rgba(255, 107, 107, 0.1)",border:`1px solid ${i.type==="success"?"rgba(74, 222, 128, 0.3)":"rgba(255, 107, 107, 0.3)"}`},children:a.jsx("p",{style:{color:i.type==="success"?"#4ade80":Te.colors.text.error},children:i.text})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsx(Wc,{title:"Аватар",delay:.2,children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y&&!w?a.jsx(HP,{src:y,onCropped:p,className:"w-24 h-24"}):a.jsx("div",{className:"w-24 h-24 rounded-full border border-white/10 inline-flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Te.colors.accent.primary}, ${Te.colors.accent.secondary})`},children:a.jsx(Ne,{icon:rh,size:"avatar",style:{color:"#ffffff"}})}),r&&a.jsxs("div",{className:"w-full space-y-2",children:[a.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:k,className:"hidden"}),a.jsxs(Xr,{onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},variant:"secondary",children:[a.jsx(DT,{size:16})," Выбрать"]}),a.jsxs(Xr,{onClick:()=>{x(""),p(null),b(!0)},variant:"danger",children:[a.jsx(Ht,{size:16})," Удалить"]})]})]})})}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs(Wc,{title:"Данные аккаунта",delay:.3,children:[a.jsx(Yr,{icon:tl,label:"Логин",value:e.username,readOnly:!0,disabled:!0}),a.jsx(Yr,{icon:$r,label:"Никнейм",value:l.nickname,onChange:S=>c({...l,nickname:S.target.value}),disabled:!r,error:u.nickname}),a.jsx(Yr,{icon:g4,label:"Email",type:"email",value:l.email,onChange:S=>c({...l,email:S.target.value}),disabled:!r,error:u.email})]})}),r&&a.jsx("div",{className:"md:col-span-3",children:a.jsxs(Wc,{title:"Смена пароля",delay:.4,children:[a.jsx(Yr,{icon:Es,type:"password",placeholder:"Текущий пароль",value:l.currentPassword,onChange:S=>c({...l,currentPassword:S.target.value}),error:u.currentPassword}),a.jsx(Yr,{icon:Es,type:"password",placeholder:"Новый пароль",value:l.newPassword,onChange:S=>c({...l,newPassword:S.target.value}),error:u.newPassword}),a.jsx(Yr,{icon:Es,type:"password",placeholder:"Подтвердите новый пароль",value:l.confirmPassword,onChange:S=>c({...l,confirmPassword:S.target.value}),error:u.confirmPassword})]})})]}),a.jsx(E.div,{...vs.fadeInUp(.5),className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?a.jsxs(a.Fragment,{children:[a.jsxs(Xr,{onClick:C,children:[a.jsx(e1,{size:16})," Сохранить"]}),a.jsxs(Xr,{onClick:j,variant:"secondary",children:[a.jsx(Ht,{size:16})," Отмена"]})]}):a.jsxs(Xr,{onClick:()=>s(!0),children:[a.jsx(bo,{size:16})," Редактировать"]})}),a.jsx(E.div,{...vs.fadeInUp(.6),className:"pt-4",children:a.jsxs(Xr,{onClick:()=>n(),variant:"danger",children:[a.jsx(dT,{size:16})," Выйти из аккаунта"]})})]})]}):null}function GP({item:e}){const t=Array.isArray(e.actionButtons)?e.actionButtons:[];return a.jsxs("div",{className:"relative w-full h-full flex flex-col rounded-2xl overflow-hidden shadow-lg border border-white/10",style:{background:"var(--bg-glass)",fontFamily:"var(--font-family-body)"},children:[a.jsx("div",{className:"relative w-full h-0",style:{paddingTop:"100%"},children:a.jsx("img",{src:e.image,alt:e.name,className:"absolute top-0 left-0 w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[e.category&&a.jsx("div",{className:"self-start mb-3 px-3 py-1 rounded-full text-xs font-semibold",style:{background:"var(--badge-tag)",color:"var(--text-secondary)",border:"1px solid var(--border-color)"},children:e.category}),a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:e.name}),a.jsx("p",{className:"text-text-secondary text-sm mb-4 flex-grow",children:e.description}),a.jsx("div",{className:"mt-auto pt-4 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.price," ₽"]}),a.jsx("div",{className:"flex items-center gap-2",children:t.length>0&&t.map(n=>a.jsxs(E.a,{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 px-4 py-2 rounded-full font-semibold text-sm",style:{background:"var(--accent-primary)",color:"var(--bg-dark)"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(ET,{className:"h-4 w-4"}),a.jsx("span",{children:n.label})]},n.label))})]})})]})]})}function qP(){const{shopItems:e,loadShopItems:t,shopItemsLoading:n}=Ve(),{scrollY:r}=Ur(),s=wn(r,[0,500],[.3,.1]);h.useEffect(()=>{e.length===0&&t()},[t,e.length]);const i=e.filter(o=>o.isActive);return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:"var(--font-family-body)",backgroundColor:"var(--bg-dark)",color:"var(--text-primary)"},children:[a.jsx(tt,{intensity:s}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...X.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🛒 Магазин"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:"var(--text-muted)"},children:"Товары и услуги"})]}),n?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:Array.from({length:4}).map((o,l)=>a.jsx(Al,{},l))}):i.length>0?a.jsx(E.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:i.map(o=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:a.jsx(GP,{item:o})},o.id))}):a.jsxs(gt,{className:"text-center py-16",children:[a.jsx(E.div,{...X.float,className:"w-16 h-16 mx-auto mb-6 text-text-muted",children:a.jsx(wo,{size:40})}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Магазин временно пуст"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:"Скоро здесь появятся удивительные товары и услуги."})]})]})]})}const Re={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},ta={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function YP(){const{user:e}=me(),{characters:t,loadCharacters:n,charactersLoading:r}=Ve(),s=st(),{scrollY:i}=Ur(),o=wn(i,[0,500],[.3,.1]);h.useEffect(()=>{e&&t.length===0&&n()},[n,e,t.length]);const l=u=>{s(`/characters/${u.id}`)};if(!e)return a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{fontFamily:Re.fonts.body,backgroundColor:Re.colors.background.dark},children:[a.jsx(tt,{intensity:o}),a.jsxs("div",{className:"rounded-3xl p-8 border text-center max-w-md",style:{background:Re.colors.background.glass,borderColor:Re.colors.border,boxShadow:Re.shadows.glass,color:Re.colors.text.primary},children:[a.jsx(Ir,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Доступ запрещен"}),a.jsx("p",{className:"text-sm",style:{color:Re.colors.text.muted},children:"Войдите в систему для просмотра избранного"})]})]});const c=t.filter(u=>{var d;return(d=e.favorites)==null?void 0:d.includes(u.id)});return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:Re.fonts.body,backgroundColor:Re.colors.background.dark},children:[a.jsx(tt,{intensity:o}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...ta.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:Re.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"❤️ Мои избранные"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:Re.colors.text.muted},children:"Персонажи, которые покорили ваше сердце"})]}),r?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5 lg:gap-6",children:Array.from({length:8}).map((u,d)=>a.jsx(Al,{},d))}):c.length>0?a.jsx(xe,{children:a.jsx(E.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5 lg:gap-6",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:c.map((u,d)=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},transition:{duration:.6,ease:[.25,.1,.25,1],delay:d*.07},children:a.jsx(dh,{character:u,onClick:l})},u.id))})}):a.jsxs(E.div,{...ta.fadeInUp(.2),className:"text-center py-16 lg:py-24 rounded-3xl",style:{background:Re.colors.background.glass,borderColor:Re.colors.border,boxShadow:Re.shadows.glass,color:Re.colors.text.primary},children:[a.jsx(E.div,{...ta.float,className:"w-16 h-16 mx-auto mb-6 opacity-50",style:{color:Re.colors.text.muted},children:a.jsx(lh,{})}),a.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-3",children:"В избранном пока пусто"}),a.jsx("p",{className:"text-sm sm:text-base mb-6 max-w-md mx-auto",style:{color:Re.colors.text.muted},children:"Нажмите на сердечко на карточке персонажа, чтобы добавить его сюда."}),a.jsx(E.button,{...ta.buttonTap,onClick:()=>s("/characters"),className:"inline-block px-6 sm:px-8 py-3 sm:py-4 rounded-full font-bold text-sm sm:text-base transition-all duration-300",style:{background:`linear-gradient(135deg, ${Re.colors.accent.primary}, ${Re.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:Re.shadows.button},children:"Перейти к персонажам"})]})]})]})}const it={border:"rgba(255,255,255,0.12)",itemBg:"rgba(255,255,255,0.04)",accent:"#f7cfe1"},XP=({file:e,onRemove:t})=>a.jsxs("div",{className:"relative group bg-slate-700/50 p-2 rounded-lg flex items-center space-x-2 border",style:{borderColor:it.border},children:[e.type.startsWith("image/")?a.jsx(J4,{className:"h-5 w-5 text-slate-400"}):a.jsx(ah,{className:"h-5 w-5 text-slate-400"}),a.jsx("span",{className:"text-xs text-slate-300 truncate",children:e.name}),a.jsx("button",{onClick:t,className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Ht,{size:12})})]}),QP=({msg:e,isOwn:t})=>a.jsx("div",{className:`flex w-full ${t?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-md p-3 rounded-2xl ${t?"bg-indigo-600 text-white rounded-br-none":"bg-slate-700/80 text-slate-200 rounded-bl-none"}`,children:[a.jsx("p",{className:"text-sm font-semibold",children:t?"Вы":e.userName}),a.jsx("p",{className:"text-sm mt-1 whitespace-pre-wrap break-words",children:e.content}),e.files&&e.files.length>0&&a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:e.files.map(n=>{var r;return a.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-xs underline text-cyan-300 break-all",children:(r=n.split("/").pop())==null?void 0:r.split("?")[0]},n)})}),a.jsx("p",{className:`text-xs mt-2 ${t?"text-indigo-200":"text-slate-400"} text-right`,children:new Date(e.createdAt).toLocaleTimeString()})]})});function ZP({ticket:e,onBack:t}){const{user:n}=me(),{messages:r,addMessage:s,updateMessage:i}=Ve(),[o,l]=h.useState(""),[c,u]=h.useState([]),d=h.useRef(null),f=h.useMemo(()=>[e,...r.filter(y=>y.parent===e.id)].sort((y,x)=>new Date(y.createdAt).getTime()-new Date(x.createdAt).getTime()),[r,e]);h.useEffect(()=>{var y;(y=d.current)==null||y.scrollIntoView({behavior:"smooth"}),f.forEach(x=>{!x.isReadByUser&&x.userId!==(n==null?void 0:n.id)&&i(x.id,{isReadByUser:!0})})},[f,i,n==null?void 0:n.id]);const p=async()=>{if(!o.trim()&&c.length===0)return;const y=new FormData;y.append("content",o),y.append("parent",e.id),y.append("isTicket","false"),c.forEach(w=>y.append("files",w)),await s(y)&&(l(""),u([]))};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full",children:a.jsx(Hv,{})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h2",{className:"text-lg font-bold text-white truncate",children:e.subject}),a.jsxs("p",{className:"text-xs text-slate-300",children:["Тикет #",e.id.slice(-6)]})]})]}),a.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto custom-scrollbar",children:[f.map(y=>a.jsx(QP,{msg:y,isOwn:y.userId===(n==null?void 0:n.id)},y.id)),a.jsx("div",{ref:d})]}),a.jsxs("div",{className:"p-4 border-t border-white/10 bg-slate-800/50",children:[c.length>0&&a.jsx("div",{className:"mb-2 grid grid-cols-2 sm:grid-cols-3 gap-2",children:c.map((y,x)=>a.jsx(XP,{file:y,onRemove:()=>u(w=>w.filter((b,m)=>m!==x))},x))}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"file",multiple:!0,id:"file-input",className:"hidden",onChange:y=>u(x=>[...x,...Array.from(y.target.files||[])])}),a.jsx("label",{htmlFor:"file-input",className:"p-3 bg-slate-700/50 rounded-full cursor-pointer hover:bg-slate-600/50 border",style:{borderColor:it.border},children:a.jsx(Jv,{})}),a.jsx("input",{type:"text",value:o,onChange:y=>l(y.target.value),placeholder:"Напишите ответ...",className:"w-full px-4 py-3 rounded-full text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50 border bg-black/20",style:{borderColor:it.border}}),a.jsx("button",{onClick:p,className:"p-3 rounded-full text-black",style:{background:it.accent},children:a.jsx(Gs,{})})]})]})]})}function JP({onBack:e}){const{addMessage:t}=Ve(),[n,r]=h.useState(""),[s,i]=h.useState(""),[o,l]=h.useState([]),c=async()=>{if(!n.trim()||!s.trim())return;const u=new FormData;u.append("subject",n),u.append("content",s),u.append("isTicket","true"),o.forEach(f=>u.append("files",f)),await t(u)&&e()};return a.jsxs("div",{className:"p-6",children:[a.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-slate-300 hover:text-white mb-4",children:[a.jsx(Hv,{size:18}),a.jsx("span",{children:"Назад"})]}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Новый тикет"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Тема обращения",className:"w-full px-4 py-3 rounded-xl border bg-black/20 focus:ring-2 focus:ring-[var(--accent)]/50 outline-none",style:{borderColor:it.border}}),a.jsx("textarea",{value:s,onChange:u=>i(u.target.value),rows:8,placeholder:"Опишите вашу проблему...",className:"w-full px-4 py-3 rounded-xl resize-none border bg-black/20 focus:ring-2 focus:ring-[var(--accent)]/50 outline-none",style:{borderColor:it.border}}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{htmlFor:"new-file-input",className:"flex items-center space-x-2 cursor-pointer text-cyan-400 hover:text-cyan-300",children:[a.jsx(Jv,{size:18}),a.jsxs("span",{children:["Прикрепить файлы (",o.length,")"]})]}),a.jsx("input",{type:"file",multiple:!0,id:"new-file-input",className:"hidden",onChange:u=>l(d=>[...d,...Array.from(u.target.files||[])])}),a.jsx("button",{onClick:c,className:"px-5 py-2.5 rounded-xl font-semibold text-black",style:{background:it.accent},children:"Отправить"})]})]})]})}function e6(){const{user:e}=me(),{messages:t,loadMessages:n}=Ve(),[r,s]=h.useState(null),[i,o]=h.useState(!1),l=jt();h.useEffect(()=>{n()},[n]),h.useEffect(()=>{var f;const d=(f=l.state)==null?void 0:f.ticketId;if(d&&t.length>0){const p=t.find(y=>y.id===d&&y.isTicket);p&&s(p)}},[l.state,t]);const c=h.useMemo(()=>{if(!e)return[];const d=t.filter(p=>p.isTicket&&p.userId===e.id),f=t.filter(p=>!p.isTicket);return d.map(p=>{const x=[p,...f.filter(w=>w.parent===p.id)].sort((w,b)=>new Date(b.createdAt).getTime()-new Date(w.createdAt).getTime())[0];return{...p,lastActivity:x?new Date(x.createdAt):new Date(p.createdAt)}}).sort((p,y)=>y.lastActivity.getTime()-p.lastActivity.getTime())},[t,e]),u=d=>t.some(f=>f.parent===d.id&&!f.isReadByUser&&f.userId!==(e==null?void 0:e.id));return r?a.jsx("div",{className:"max-w-4xl mx-auto rounded-3xl border overflow-hidden h-[85vh]",style:{borderColor:it.border,background:"rgba(255,255,255,0.04)"},children:a.jsx(ZP,{ticket:r,onBack:()=>s(null)})}):i?a.jsx("div",{className:"max-w-4xl mx-auto rounded-3xl border",style:{borderColor:it.border,background:"rgba(255,255,255,0.04)"},children:a.jsx(JP,{onBack:()=>o(!1)})}):a.jsx("div",{className:"min-h-screen p-2 sm:p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"relative glass rounded-3xl p-6 border border-cyan-400/20",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative p-4 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl border border-white/20 shadow-lg",children:a.jsx(sT,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:"Поддержка"}),a.jsx("p",{className:"text-slate-400",children:"Мои обращения"})]})]})})}),a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-center space-x-2 px-5 py-3 rounded-xl font-semibold text-black",style:{background:it.accent},children:[a.jsx(qv,{size:18}),a.jsx("span",{children:"Создать новый тикет"})]})}),a.jsx("div",{className:"rounded-2xl border p-3 space-y-3",style:{borderColor:it.border,background:"rgba(255,255,255,0.03)"},children:c.length>0?c.map(d=>{const f=u(d);return a.jsxs("div",{onClick:()=>s(d),className:"p-4 rounded-xl cursor-pointer hover:bg-white/5 flex justify-between items-center border",style:{borderColor:f?it.accent:it.border,background:it.itemBg},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-semibold text-white truncate max-w-xs sm:max-w-md",children:d.subject}),a.jsxs("p",{className:"text-xs text-white",children:["Тикет #",d.id.slice(-6)," • Активность: ",new Date(d.lastActivity).toLocaleString()]})]}),f&&a.jsx("div",{className:"w-2.5 h-2.5 bg-pink-400 rounded-full animate-pulse flex-shrink-0 ml-4"})]},d.id)}):a.jsx("div",{className:"text-center text-slate-400 py-8",children:a.jsx("p",{children:"У вас еще нет обращений."})})})]})})}function t6(){const{pathname:e}=jt(),t=h.useRef(null);return h.useEffect(()=>{e!==t.current&&(window.scrollTo(0,0),t.current=e)},[e]),h.useEffect(()=>{const n=()=>{sessionStorage.setItem("scrollPosition",window.scrollY.toString())};window.addEventListener("scroll",n,{passive:!0});const r=sessionStorage.getItem("scrollPosition");return r&&window.scrollTo(0,parseInt(r)),()=>{window.removeEventListener("scroll",n)}},[]),null}function n6(e,t){const[n,r]=h.useState(e);return h.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n}const Yt=({label:e,icon:t,isActive:n,onClick:r,activeColorClass:s})=>a.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all duration-300 border
      ${n?`${s} text-white border-transparent shadow-lg`:"text-slate-300 bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[t,a.jsx("span",{children:e})]});function r6(){const{filteredUserCharacters:e,filters:t,setFilters:n,loading:r,loadUserCharacters:s}=ix(),{user:i}=me(),o=st(),[l,c]=h.useState(t.search),u=n6(l,500);h.useEffect(()=>{n({...t,search:u})},[u,n]),h.useEffect(()=>{!r&&e.length===0&&s()},[r,e.length,s]);const d=(b,m)=>{b!=="search"&&n({...t,[b]:m})},f=()=>{c(""),n({search:"",gender:"all",ageGroup:"all",sortBy:"newest"})},[p,y]=h.useState(!1),x=b=>{o(`/characters/${b.id}`)},w=()=>{o("/submit-character")};return a.jsx("div",{className:"min-h-screen relative p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-screen-xl mx-auto relative z-10",children:[a.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"glass rounded-3xl p-4 sm:p-6 mb-8 border border-white/10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 w-full sm:w-auto",children:[a.jsx(kT,{className:"absolute left-5 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 z-10"}),a.jsx("input",{type:"text",placeholder:"Найти персонажа...",value:l,onChange:b=>c(b.target.value),className:"w-full pl-14 pr-4 py-3 bg-slate-800/50 border border-transparent rounded-full text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 transition-all"})]}),a.jsx("button",{onClick:()=>y(!p),className:"p-3 bg-slate-800/50 rounded-full text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors flex-shrink-0",children:a.jsx(LT,{className:"h-5 w-5"})}),i&&a.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-5 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-full font-semibold hover:from-green-600 hover:to-emerald-600 transition-all flex-shrink-0",children:[a.jsx(qv,{className:"h-5 w-5"}),a.jsx("span",{children:"Предложить своего"})]})]}),a.jsx(xe,{children:p&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"border-t border-white/10 pt-4 mt-4 space-y-5",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Пол"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Yt,{label:"Все",icon:a.jsx(Fr,{size:16}),isActive:t.gender==="all",onClick:()=>d("gender","all"),activeColorClass:"bg-slate-600"}),a.jsx(Yt,{label:"Мужчины",icon:a.jsx(Zv,{size:16}),isActive:t.gender==="male",onClick:()=>d("gender","male"),activeColorClass:"bg-blue-600"}),a.jsx(Yt,{label:"Девушки",icon:a.jsx(r1,{size:16}),isActive:t.gender==="female",onClick:()=>d("gender","female"),activeColorClass:"bg-pink-600"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Возраст"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Yt,{label:"Все",icon:a.jsx(Fr,{size:16}),isActive:t.ageGroup==="all",onClick:()=>d("ageGroup","all"),activeColorClass:"bg-slate-600"}),a.jsx(Yt,{label:"18+",icon:a.jsx(ig,{size:16}),isActive:t.ageGroup==="18+",onClick:()=>d("ageGroup","18+"),activeColorClass:"bg-green-600"}),a.jsx(Yt,{label:"45+",icon:a.jsx(ig,{size:16}),isActive:t.ageGroup==="45+",onClick:()=>d("ageGroup","45+"),activeColorClass:"bg-teal-600"}),a.jsx(Yt,{label:"Бессмертные",icon:a.jsx(ch,{size:16}),isActive:t.ageGroup==="immortal",onClick:()=>d("ageGroup","immortal"),activeColorClass:"bg-indigo-600"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Сортировка"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Yt,{label:"Стандартно",icon:a.jsx(cd,{size:16}),isActive:t.sortBy==="newest",onClick:()=>d("sortBy","newest"),activeColorClass:"bg-slate-600"}),a.jsx(Yt,{label:"По рейтингу",icon:a.jsx(uh,{size:16}),isActive:t.sortBy==="rating",onClick:()=>d("sortBy","rating"),activeColorClass:"bg-yellow-600"}),a.jsx(Yt,{label:"По имени",icon:a.jsx(Wv,{size:16}),isActive:t.sortBy==="name",onClick:()=>d("sortBy","name"),activeColorClass:"bg-sky-600"})]})]})]})})})]}),r?a.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((b,m)=>a.jsx(Al,{},m))}):e.length>0?a.jsx(E.div,{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:e.map(b=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:a.jsx(dh,{character:b,onClick:x})},b.id))}):a.jsxs("div",{className:"text-center py-20 glass rounded-3xl border border-white/10",children:[a.jsx(lh,{className:"h-24 w-24 text-slate-500 mx-auto mb-6"}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:"Персонажи не найдены"}),a.jsx("p",{className:"text-slate-400 mb-8 text-lg",children:"Попробуйте изменить критерии поиска."}),a.jsx("button",{onClick:f,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-cyan-500 text-white rounded-2xl font-semibold hover:opacity-90 transition-opacity",children:"Сбросить фильтры"})]})]})})}function s6(){var g,k;const{user:e}=me(),{addUserCharacter:t}=ix(),n=st(),[r,s]=h.useState(null),[i,o]=h.useState({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,ageGroup:"18+",tags:[],links:[]}),[l,c]=h.useState(!1),[u,d]=h.useState(null);if(!e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass rounded-3xl p-8 border border-red-500/20 text-center",children:[a.jsx(Os,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Доступ запрещен"}),a.jsx("p",{className:"text-slate-400",children:"Войдите в систему, чтобы предложить персонажа"})]})});const f=j=>{const{name:C,value:S}=j.target;o({...i,[C]:S})},p=j=>{const C=parseInt(j.target.value,10),S=isNaN(C)?0:Math.max(0,C);o({...i,age:S,ageGroup:wf(S)})},y=()=>{const j=prompt("Введите новый тег:");j&&o(C=>({...C,tags:[...C.tags||[],j.trim()]}))},x=j=>{o(C=>({...C,tags:(C.tags||[]).filter((S,N)=>N!==j)}))},w=()=>{o(j=>({...j,links:[...j.links||[],{label:"",url:""}]}))},b=(j,C,S)=>{o(N=>({...N,links:(N.links||[]).map((L,T)=>T===j?{...L,[C]:S}:L)}))},m=j=>{o(C=>({...C,links:(C.links||[]).filter((S,N)=>N!==j)}))},v=async j=>{var S,N;if(j.preventDefault(),!((S=i.name)!=null&&S.trim())||!((N=i.occupation)!=null&&N.trim())||!r){d({type:"error",text:"Пожалуйста, заполните обязательные поля: Имя, Профессия и Фото."});return}c(!0),d(null);const C=new FormData;Object.entries(i).forEach(([L,T])=>{L==="tags"||L==="links"?C.append(L,JSON.stringify(T)):T!=null&&C.append(L,String(T))}),r&&C.append("photo",r),C.append("createdBy",e.id);try{await t(C)?(d({type:"success",text:"Ваш персонаж успешно отправлен на рассмотрение!"}),o({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,ageGroup:"18+",tags:[],links:[]}),s(null),j.target.reset(),setTimeout(()=>n("/user-characters"),3e3)):d({type:"error",text:"Ошибка при отправке персонажа. Попробуйте еще раз."})}catch(L){console.error("Ошибка при отправке персонажа:",L),d({type:"error",text:"Произошла ошибка при отправке."})}finally{c(!1)}};return a.jsxs("div",{className:"min-h-screen p-4 lg:p-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"relative glass rounded-3xl p-6 lg:p-8 border border-green-400/20 shadow-2xl",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative p-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl border border-white/20 shadow-2xl",children:a.jsx(Os,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-black bg-gradient-to-r from-white via-green-200 to-emerald-200 bg-clip-text text-transparent mb-2",children:"Предложить персонажа"}),a.jsx("p",{className:"text-slate-400",children:"Добавьте своего уникального AI-персонажа в каталог"})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto glass rounded-3xl border border-white/10 overflow-hidden",children:a.jsxs("form",{onSubmit:v,className:"p-6 lg:p-8 space-y-6",children:[u&&a.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:`mb-4 p-4 rounded-2xl border text-sm ${u.type==="success"?"bg-green-500/20 border-green-500/30 text-green-300":"bg-red-500/20 border-red-500/30 text-red-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[u.type==="success"?a.jsx(Check,{className:"h-4 w-4"}):a.jsx(Ht,{className:"h-4 w-4"}),a.jsx("span",{children:u.text})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Имя ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:i.name||"",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50",placeholder:"Введите имя персонажа",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Профессия ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",name:"occupation",value:i.occupation||"",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50",placeholder:"Введите профессию",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Краткое описание"}),a.jsx("textarea",{name:"description",value:i.description||"",onChange:f,rows:3,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50 resize-none",placeholder:"Краткое описание персонажа"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Полное описание"}),a.jsx("textarea",{name:"fullDescription",value:i.fullDescription||"",onChange:f,rows:4,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50 resize-none",placeholder:"Подробное описание персонажа"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Фотография ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"file",required:!0,onChange:j=>s(j.target.files?j.target.files[0]:null),accept:"image/*",className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-500/10 file:text-green-300 hover:file:bg-green-500/20"}),r&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:URL.createObjectURL(r),alt:"Превью",className:"w-24 h-24 rounded-xl object-cover"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Пол"}),a.jsxs("select",{name:"gender",value:i.gender||"female",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500/50",children:[a.jsx("option",{value:"female",children:"Женский"}),a.jsx("option",{value:"male",children:"Мужской"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Возраст"}),a.jsx("input",{type:"number",name:"age",value:i.age||0,onChange:p,className:"w-full px-4 py-3 glass rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500/50",min:"0"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Введите 0, если персонаж бессмертный."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Теги"}),a.jsx("button",{type:"button",onClick:y,className:"text-sm text-green-400 hover:text-white transition-colors",children:"+ Добавить тег"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(g=i.tags)==null?void 0:g.map((j,C)=>a.jsxs("span",{className:"flex items-center space-x-1 px-3 py-1 bg-green-500/20 text-green-300 rounded-lg text-sm",children:[a.jsx("span",{children:j}),a.jsx("button",{type:"button",onClick:()=>x(C),className:"text-green-400 hover:text-red-400 transition-colors",children:a.jsx(Ht,{className:"h-3 w-3"})})]},C))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Ссылки"}),a.jsx("button",{type:"button",onClick:w,className:"text-sm text-cyan-400 hover:text-white transition-colors",children:"+ Добавить ссылку"})]}),a.jsx("div",{className:"space-y-2",children:(k=i.links)==null?void 0:k.map((j,C)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",placeholder:"Название ссылки",value:j.label,onChange:S=>b(C,"label",S.target.value),className:"flex-1 px-3 py-2 glass rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 text-sm"}),a.jsx("input",{type:"url",placeholder:"https://example.com",value:j.url,onChange:S=>b(C,"url",S.target.value),className:"flex-1 px-3 py-2 glass rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 text-sm"}),a.jsx("button",{type:"button",onClick:()=>m(C),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Ht,{className:"h-4 w-4"})})]},C))})]})]})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center space-x-2 px-6 py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all disabled:opacity-50 font-bold text-lg",children:l?a.jsx(vo,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Gs,{className:"h-5 w-5"}),a.jsx("span",{children:"Отправить персонажа"})]})})]})})]})}const W={colors:{text:{primary:"#ffffff",secondary:"#e0e0e0",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",glassHover:"rgba(50, 50, 65, 0.8)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb"},notification:{reply:"#4ade80",status:"#a78bfa",admin:"#fbbf24",order:"#4ade80",message:"#fbbf24",userChar:"#2dd4bf",like:"#4ade80",dislike:"#f87171",support:"#a78bfa",default:"#6b7280"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",accent:"0 4px 16px rgba(215, 174, 251, 0.4)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Qr={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}},i6=({type:e,isUnread:t})=>{const n=()=>{switch(e){case"reply":return a.jsx(Ja,{className:"w-5 h-5"});case"status_change":return a.jsx(_T,{className:"w-5 h-5"});case"admin_reply":return a.jsx(so,{className:"w-5 h-5"});case"new_order":return a.jsx(b4,{className:"w-5 h-5"});case"new_message":return a.jsx(Ja,{className:"w-5 h-5"});case"new_user_character":return a.jsx(BT,{className:"w-5 h-5"});case"like":return a.jsx(n1,{className:"w-5 h-5"});case"dislike":return a.jsx(t1,{className:"w-5 h-5"});case"support_reply":return a.jsx(so,{className:"w-5 h-5"});default:return a.jsx(Rl,{className:"w-5 h-5"})}},r=()=>{switch(e){case"reply":return W.colors.notification.reply;case"status_change":return W.colors.notification.status;case"admin_reply":return W.colors.notification.admin;case"new_order":return W.colors.notification.order;case"new_message":return W.colors.notification.message;case"new_user_character":return W.colors.notification.userChar;case"like":return W.colors.notification.like;case"dislike":return W.colors.notification.dislike;case"support_reply":return W.colors.notification.support;default:return W.colors.notification.default}};return a.jsx("div",{className:"p-3 rounded-full flex items-center justify-center transition-all duration-300",style:{background:t?r():W.colors.background.glass,color:t?"#0a0a12":W.colors.text.primary,boxShadow:t?`0 4px 16px ${r()}40`:W.shadows.glass,border:`1px solid ${t?r():W.colors.border}`},children:n()})};function o6(){const{user:e,isAdmin:t}=me(),{notifications:n,newsletters:r,markNotificationAsRead:s,loadNotifications:i,loadNewsletters:o}=Ve(),l=st(),[c,u]=h.useState(null),{scrollY:d}=Ur(),f=wn(d,[0,500],[.3,.1]);h.useEffect(()=>{e&&(i(),o())},[e,i,o]);const p=w=>{if(w.itemType==="notification"){if(w.isRead||s(w.id),t)switch(w.type){case"new_order":l("/admin",{state:{initialTab:"orders"}});return;case"new_message":l("/admin",{state:{initialTab:"messages"}});return;case"new_user_character":l("/admin",{state:{initialTab:"user-characters"}});return}(w.type==="reply"||w.type==="status_change"||w.type==="like"||w.type==="dislike")&&l(`/characters/${w.entityId}`),w.type==="support_reply"&&l("/support",{state:{ticketId:w.entityId}})}else u(w)},y=h.useMemo(()=>[...n.map(w=>({...w,itemType:"notification"})),...r.map(w=>({...w,itemType:"newsletter"}))].sort((w,b)=>new Date(b.createdAt).getTime()-new Date(w.createdAt).getTime()),[n,r]),x=h.useMemo(()=>n.filter(w=>!w.isRead).length,[n]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"min-h-screen w-full relative p-2 sm:p-4 pt-4 sm:pt-6",style:{fontFamily:W.fonts.body,backgroundColor:W.colors.background.dark},children:[a.jsx(tt,{intensity:f}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none",children:[a.jsxs(E.div,{...Qr.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:W.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🔔 Уведомления"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:W.colors.text.muted},children:x>0?`У вас ${x} новых уведомлений`:"Нет новых уведомлений"})]}),a.jsx("div",{className:"max-w-2xl mx-auto space-y-4",children:y.length>0?a.jsx(xe,{children:y.map((w,b)=>{const m=w.itemType==="notification"&&!w.isRead;return a.jsx(E.div,{...Qr.fadeInUp(.2+b*.05),onClick:()=>p(w),className:"relative overflow-hidden rounded-2xl p-5 border transition-all duration-300 cursor-pointer",style:{background:m?W.colors.background.glassHover:W.colors.background.glass,borderColor:m?W.colors.accent.primary:W.colors.border,boxShadow:m?W.shadows.accent:W.shadows.glass},children:a.jsxs("div",{className:"flex items-start gap-4",children:[w.itemType==="notification"?a.jsx(i6,{type:w.type,isUnread:m}):a.jsx("div",{className:"p-3 rounded-full flex items-center justify-center transition-all duration-300",style:{background:W.colors.background.glass,color:W.colors.text.primary,boxShadow:W.shadows.glass,border:`1px solid ${W.colors.border}`},children:a.jsx(Gs,{className:"w-5 h-5",style:{color:"#fbbf24"}})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-display font-semibold leading-tight",style:{color:m?W.colors.text.primary:W.colors.text.secondary},children:w.itemType==="notification"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold",style:{color:W.colors.text.primary},children:w.senderName})," ",w.message]}):a.jsx("span",{className:"font-bold",style:{color:W.colors.text.primary},children:w.title})}),a.jsx("p",{className:"text-xs mt-2",style:{color:W.colors.text.muted},children:new Date(w.createdAt).toLocaleString()})]}),m&&a.jsx(E.div,{...Qr.float,className:"absolute top-2 right-2 w-3 h-3 rounded-full",style:{background:W.colors.accent.primary,boxShadow:W.shadows.accent}})]})},`${w.itemType}-${w.id}`)})}):a.jsxs(E.div,{...Qr.fadeInUp(.2),className:"text-center py-16 lg:py-24 rounded-3xl",style:{background:W.colors.background.glass,borderColor:W.colors.border,boxShadow:W.shadows.glass,color:W.colors.text.primary},children:[a.jsx(E.div,{...Qr.float,className:"w-16 h-16 mx-auto mb-6 opacity-50",style:{color:W.colors.text.muted},children:a.jsx(Rl,{})}),a.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-3",children:"Здесь пока пусто"}),a.jsx("p",{className:"mb-6 max-w-md mx-auto",style:{color:W.colors.text.muted},children:"Новые уведомления будут появляться тут."})]})})]})]}),a.jsx(xe,{children:c&&a.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)"},onClick:()=>u(null),children:a.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:w=>w.stopPropagation(),className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl border",style:{background:W.colors.background.glass,borderColor:W.colors.border,boxShadow:W.shadows.glass},children:[c.image&&a.jsx("img",{src:c.image,alt:c.title,className:"w-full h-64 object-cover border-b",style:{borderColor:W.colors.border}}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black mb-2",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:W.fonts.heading},children:c.title}),a.jsxs("p",{className:"text-xs",style:{color:W.colors.text.muted},children:["От Администрации • ",new Date(c.createdAt).toLocaleString()]})]}),a.jsx(E.button,{...Qr.buttonTap,onClick:()=>u(null),className:"p-2 rounded-full",style:{background:W.colors.background.glass,color:W.colors.text.muted,border:`1px solid ${W.colors.border}`},"aria-label":"Закрыть",children:a.jsx(I4,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"prose prose-invert max-w-none",style:{color:W.colors.text.secondary,fontFamily:W.fonts.body},dangerouslySetInnerHTML:{__html:c.content||""}})]})]})})})]})}const a6=({isLoading:e,minShowMs:t=800,fadeOutMs:n=500,enterDelayMs:r=0})=>{const[s,i]=h.useState(e),o=h.useRef(null),l=h.useRef(null),c=h.useRef(null);return h.useEffect(()=>()=>{l.current&&clearTimeout(l.current),c.current&&clearTimeout(c.current)},[]),h.useEffect(()=>{if(e){l.current&&clearTimeout(l.current),c.current&&clearTimeout(c.current);const u=()=>{o.current=Date.now(),i(!0)};r>0?l.current=setTimeout(u,r):u()}else{const u=o.current??Date.now(),d=Date.now()-u,f=Math.max(t-d,0);c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{i(!1)},f)}},[e,t,r]),a.jsx(xe,{children:s&&a.jsxs(E.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:n/1e3},className:"fixed inset-0 z-[1000] flex flex-col items-center justify-center",children:[a.jsx(tt,{intensity:1,animated:!0}),a.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center",children:[a.jsx("img",{src:"/icons/icon-192x192.png",alt:"CAS Каталог",className:"w-24 h-24 mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-black",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:'"Geist", "Inter", system-ui, sans-serif'},children:"CAS Каталог"}),a.jsx("p",{className:"text-slate-400 mt-2",children:"Загрузка данных..."})]}),a.jsx(E.div,{className:"w-full max-w-xs h-1 bg-white/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:a.jsx(E.div,{className:"h-full rounded-full",style:{background:"linear-gradient(90deg, #d7aefb, #ff6bd6)"},initial:{x:"-100%"},animate:{x:"0%"},transition:{duration:1.5,ease:"easeInOut",repeat:1/0,repeatType:"loop"}})})]})})},z1=h.createContext(void 0);function Tg(e,t){const n=Object.getOwnPropertyDescriptor(e,"value"),r=Object.getPrototypeOf(e),s=Object.getOwnPropertyDescriptor(r,"value");n&&n.set?n.set.call(e,t):s&&s.set?s.set.call(e,t):e.value=t,e.dispatchEvent(new Event("input",{bubbles:!0}))}function l6({children:e}){const[t,n]=h.useState(!1),[r,s]=h.useState("alpha"),[i,o]=h.useState("ru"),[l,c]=h.useState(!1),[u,d]=h.useState(null),f=h.useCallback(()=>{u&&(u.readOnly=!1),n(!1),d(null),c(!1)},[u]),p=h.useCallback(({target:g,layout:k="alpha",locale:j="ru"})=>{if(g){d(g),g.readOnly=!0,s(k),o(j),n(!0),c(!1);try{g.focus()}catch{}}},[]),y=h.useCallback(g=>{if(!u)return;const k=u,j=k.selectionStart??k.value.length,C=k.selectionEnd??k.value.length,S=k.value.slice(0,j)+g+k.value.slice(C);Tg(k,S);const N=j+g.length;try{k.setSelectionRange(N,N)}catch{}try{k.focus()}catch{}},[u]),x=h.useCallback(()=>{if(!u)return;const g=u,k=g.selectionStart??g.value.length,j=g.selectionEnd??g.value.length;if(k===j&&k===0)return;const C=k===j?Math.max(0,k-1):k,S=g.value.slice(0,C)+g.value.slice(j);Tg(g,S);const N=C;try{g.setSelectionRange(N,N)}catch{}try{g.focus()}catch{}},[u]),w=h.useCallback(()=>{u&&(u.dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",bubbles:!0})),f())},[u,f]),b=h.useCallback(()=>o(g=>g==="ru"?"en":"ru"),[]),m=h.useCallback(()=>c(g=>!g),[]),v=h.useMemo(()=>({visible:t,layout:r,locale:i,shift:l,target:u,open:p,close:f,insert:y,backspace:x,enter:w,toggleLocale:b,toggleShift:m}),[t,r,i,l,u,p,f,y,x,w,b,m]);return a.jsx(z1.Provider,{value:v,children:e})}function c6(){const e=h.useContext(z1);if(!e)throw new Error("useVirtualKeyboardContext must be used inside VirtualKeyboardProvider");return e}function u6(){const e=c6();if(typeof window>"u")return null;const t=e.layout==="alpha",n=e.locale==="ru",o=t?n?[["й","ц","у","к","е","н","г","ш","щ","з"],["ф","ы","в","а","п","р","о","л","д"],["⇧","я","ч","с","м","и","т","ь","⌫"],["123","🌐","space","enter"]]:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["⇧","z","x","c","v","b","n","m","⌫"],["123","🌐","space","enter"]]:[["1","2","3"],["4","5","6"],["7","8","9"],["⌫","0","enter"]],l=u=>{if(u==="⌫")return e.backspace();if(u==="enter")return e.enter();if(u==="⇧")return e.toggleShift();if(u==="🌐")return e.toggleLocale();if(u==="123")return e.layout==="alpha"?e.layout="numeric":e.layout="alpha";if(u==="space")return e.insert(" ");const d=e.shift?u.toUpperCase():u;e.insert(d)},c=a.jsx(xe,{children:e.visible&&a.jsx(E.div,{initial:{y:36,opacity:0},animate:{y:0,opacity:1},exit:{y:36,opacity:0},transition:{duration:.28},className:"fixed left-0 right-0 z-[1005]",style:{top:"calc(100dvh - var(--softkbd-h, 280px))"},children:a.jsx("div",{className:"mx-auto max-w-[820px] px-3 pb-3",children:a.jsx("div",{className:"w-full rounded-2xl border backdrop-blur-xl",style:{background:"rgba(8, 10, 18, 0.6)",borderColor:"rgba(255,255,255,0.08)",boxShadow:"0 20px 60px rgba(0,0,0,0.45)"},children:a.jsx("div",{className:"p-2 select-none",children:o.map((u,d)=>a.jsx("div",{className:"flex gap-2 mb-2 last:mb-0 justify-center",children:u.map(f=>a.jsx("button",{onClick:()=>l(f),className:"px-3 py-3 rounded-xl border text-base font-medium active:scale-[0.98] transition-transform",style:{background:"rgba(255,255,255,0.06)",borderColor:"rgba(255,255,255,0.12)"},children:f==="space"?"Пробел":f},f))},d))})})})})});return jl.createPortal(c,document.body)}function d6({children:e}){return a.jsxs(l6,{children:[e,a.jsx(u6,{})]})}const hn=()=>{const e=window.visualViewport,t=((e==null?void 0:e.height)??window.innerHeight)*.01;document.documentElement.style.setProperty("--vh",`${t}px`);let n=0;if(e){const r=window.innerHeight;n=Math.max(0,r-e.height-e.offsetTop)}document.documentElement.style.setProperty("--app-vvb",`${n}px`)},f6=()=>{h.useEffect(()=>{hn(),window.addEventListener("resize",hn),window.addEventListener("orientationchange",hn);const e=window.visualViewport;return e&&(e.addEventListener("resize",hn),e.addEventListener("scroll",hn)),()=>{window.removeEventListener("resize",hn),window.removeEventListener("orientationchange",hn),e&&(e.removeEventListener("resize",hn),e.removeEventListener("scroll",hn))}},[])};function h6({children:e}){const{user:t,loading:n}=me();return n?null:(t==null?void 0:t.role)==="admin"?a.jsx(a.Fragment,{children:e}):a.jsx(Ka,{to:"/"})}function si({children:e}){const{user:t,loading:n}=me();return n?null:t?a.jsx(a.Fragment,{children:e}):a.jsx(Ka,{to:"/login"})}function p6(){const{loading:e}=Ve(),{loading:t}=me();f6();const n=e||t;return a.jsxs(a.Fragment,{children:[a.jsx(a6,{isLoading:n}),a.jsx(xe,{children:!n&&a.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsx(t6,{}),a.jsxs(wk,{children:[a.jsx(Be,{path:"/login",element:a.jsx(rE,{})}),a.jsx(Be,{path:"/register",element:a.jsx(sE,{})}),a.jsxs(Be,{path:"/",element:a.jsx(nE,{}),children:[a.jsx(Be,{index:!0,element:a.jsx(Ka,{to:"/characters",replace:!0})}),a.jsx(Be,{path:"characters",element:a.jsx(gE,{})}),a.jsx(Be,{path:"characters/:characterId",element:a.jsx(u1,{})}),a.jsx(Be,{path:"rating",element:a.jsx(wE,{})}),a.jsx(Be,{path:"shop",element:a.jsx(qP,{})}),a.jsx(Be,{path:"profile",element:a.jsx(si,{children:a.jsx(KP,{})})}),a.jsx(Be,{path:"favorites",element:a.jsx(si,{children:a.jsx(YP,{})})}),a.jsx(Be,{path:"support",element:a.jsx(si,{children:a.jsx(e6,{})})}),a.jsx(Be,{path:"notifications",element:a.jsx(si,{children:a.jsx(o6,{})})}),a.jsx(Be,{path:"user-characters",element:a.jsx(r6,{})}),a.jsx(Be,{path:"submit-character",element:a.jsx(si,{children:a.jsx(s6,{})})}),a.jsx(Be,{path:"admin",element:a.jsx(h6,{children:a.jsx(WP,{})})})]}),a.jsx(Be,{path:"*",element:a.jsx(Ka,{to:"/",replace:!0})})]})]})})]})}function m6(){return a.jsx(Tk,{children:a.jsx(d6,{children:a.jsx(Qk,{children:a.jsx(Jk,{children:a.jsx(ej,{children:a.jsx(nj,{children:a.jsx(p6,{})})})})})})})}Hc.createRoot(document.getElementById("root")).render(a.jsx(F.StrictMode,{children:a.jsx(m6,{})}));
