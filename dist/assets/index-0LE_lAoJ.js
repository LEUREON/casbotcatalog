function G1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function K1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ng={exports:{}},ol={},Tg={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=Symbol.for("react.element"),q1=Symbol.for("react.portal"),Y1=Symbol.for("react.fragment"),X1=Symbol.for("react.strict_mode"),Q1=Symbol.for("react.profiler"),Z1=Symbol.for("react.provider"),J1=Symbol.for("react.context"),ew=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),nw=Symbol.for("react.memo"),rw=Symbol.for("react.lazy"),gh=Symbol.iterator;function sw(e){return e===null||typeof e!="object"?null:(e=gh&&e[gh]||e["@@iterator"],typeof e=="function"?e:null)}var Eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pg=Object.assign,Lg={};function Os(e,t,n){this.props=e,this.context=t,this.refs=Lg,this.updater=n||Eg}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ag(){}Ag.prototype=Os.prototype;function yd(e,t,n){this.props=e,this.context=t,this.refs=Lg,this.updater=n||Eg}var xd=yd.prototype=new Ag;xd.constructor=yd;Pg(xd,Os.prototype);xd.isPureReactComponent=!0;var yh=Array.isArray,Mg=Object.prototype.hasOwnProperty,vd={current:null},Rg={key:!0,ref:!0,__self:!0,__source:!0};function Ig(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Mg.call(t,r)&&!Rg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:so,type:e,key:i,ref:o,props:s,_owner:vd.current}}function iw(e,t){return{$$typeof:so,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wd(e){return typeof e=="object"&&e!==null&&e.$$typeof===so}function ow(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xh=/\/+/g;function Bl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ow(""+e.key):t.toString(36)}function Jo(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case so:case q1:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Bl(o,0):r,yh(s)?(n="",e!=null&&(n=e.replace(xh,"$&/")+"/"),Jo(s,t,n,"",function(u){return u})):s!=null&&(wd(s)&&(s=iw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",yh(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Bl(i,l);o+=Jo(i,t,n,c,s)}else if(c=sw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Bl(i,l++),o+=Jo(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jo(e,t,n){if(e==null)return e;var r=[],s=0;return Jo(e,r,"","",function(i){return t.call(n,i,s++)}),r}function aw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},ea={transition:null},lw={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:ea,ReactCurrentOwner:vd};function $g(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:jo,forEach:function(e,t,n){jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return jo(e,function(){t++}),t},toArray:function(e){return jo(e,function(t){return t})||[]},only:function(e){if(!wd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Os;X.Fragment=Y1;X.Profiler=Q1;X.PureComponent=yd;X.StrictMode=X1;X.Suspense=tw;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw;X.act=$g;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Mg.call(t,c)&&!Rg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:so,type:e.type,key:s,ref:i,props:r,_owner:o}};X.createContext=function(e){return e={$$typeof:J1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z1,_context:e},e.Consumer=e};X.createElement=Ig;X.createFactory=function(e){var t=Ig.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:ew,render:e}};X.isValidElement=wd;X.lazy=function(e){return{$$typeof:rw,_payload:{_status:-1,_result:e},_init:aw}};X.memo=function(e,t){return{$$typeof:nw,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=ea.transition;ea.transition={};try{e()}finally{ea.transition=t}};X.unstable_act=$g;X.useCallback=function(e,t){return Je.current.useCallback(e,t)};X.useContext=function(e){return Je.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};X.useEffect=function(e,t){return Je.current.useEffect(e,t)};X.useId=function(){return Je.current.useId()};X.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Je.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};X.useRef=function(e){return Je.current.useRef(e)};X.useState=function(e){return Je.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Je.current.useTransition()};X.version="18.3.1";Tg.exports=X;var p=Tg.exports;const I=K1(p),Fg=G1({__proto__:null,default:I},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=p,uw=Symbol.for("react.element"),dw=Symbol.for("react.fragment"),fw=Object.prototype.hasOwnProperty,hw=cw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pw={key:!0,ref:!0,__self:!0,__source:!0};function Dg(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fw.call(t,r)&&!pw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:uw,type:e,key:i,ref:o,props:s,_owner:hw.current}}ol.Fragment=dw;ol.jsx=Dg;ol.jsxs=Dg;Ng.exports=ol;var a=Ng.exports,Wc={},Og={exports:{}},vt={},_g={exports:{}},Vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,P){var $=A.length;A.push(P);e:for(;0<$;){var K=$-1>>>1,ne=A[K];if(0<s(ne,P))A[K]=P,A[$]=ne,$=K;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var P=A[0],$=A.pop();if($!==P){A[0]=$;e:for(var K=0,ne=A.length,U=ne>>>1;K<U;){var le=2*(K+1)-1,dt=A[le],Rt=le+1,Kt=A[Rt];if(0>s(dt,$))Rt<ne&&0>s(Kt,dt)?(A[K]=Kt,A[Rt]=$,K=Rt):(A[K]=dt,A[le]=$,K=le);else if(Rt<ne&&0>s(Kt,$))A[K]=Kt,A[Rt]=$,K=Rt;else break e}}return P}function s(A,P){var $=A.sortIndex-P.sortIndex;return $!==0?$:A.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=A)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function j(A){if(w=!1,x(A),!v)if(n(c)!==null)v=!0,Fe(k);else{var P=n(u);P!==null&&Q(j,P.startTime-A)}}function k(A,P){v=!1,w&&(w=!1,m(T),T=-1),g=!0;var $=h;try{for(x(P),f=n(c);f!==null&&(!(f.expirationTime>P)||A&&!D());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var ne=K(f.expirationTime<=P);P=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),x(P)}else r(c);f=n(c)}if(f!==null)var U=!0;else{var le=n(u);le!==null&&Q(j,le.startTime-P),U=!1}return U}finally{f=null,h=$,g=!1}}var S=!1,C=null,T=-1,M=5,N=-1;function D(){return!(e.unstable_now()-N<M)}function V(){if(C!==null){var A=e.unstable_now();N=A;var P=!0;try{P=C(!0,A)}finally{P?F():(S=!1,C=null)}}else S=!1}var F;if(typeof y=="function")F=function(){y(V)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,fe=te.port2;te.port1.onmessage=V,F=function(){fe.postMessage(null)}}else F=function(){b(V,0)};function Fe(A){C=A,S||(S=!0,F())}function Q(A,P){T=b(function(){A(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,Fe(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var $=h;h=P;try{return A()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,P){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=h;h=A;try{return P()}finally{h=$}},e.unstable_scheduleCallback=function(A,P,$){var K=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,A={id:d++,callback:P,priorityLevel:A,startTime:$,expirationTime:ne,sortIndex:-1},$>K?(A.sortIndex=$,t(u,A),n(c)===null&&A===n(u)&&(w?(m(T),T=-1):w=!0,Q(j,$-K))):(A.sortIndex=ne,t(c,A),v||g||(v=!0,Fe(k))),A},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(A){var P=h;return function(){var $=h;h=P;try{return A.apply(this,arguments)}finally{h=$}}}})(Vg);_g.exports=Vg;var mw=_g.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw=p,xt=mw;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bg=new Set,Li={};function _r(e,t){Es(e,t),Es(e+"Capture",t)}function Es(e,t){for(Li[e]=t,e=0;e<t.length;e++)Bg.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=Object.prototype.hasOwnProperty,yw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},wh={};function xw(e){return Hc.call(wh,e)?!0:Hc.call(vh,e)?!1:yw.test(e)?wh[e]=!0:(vh[e]=!0,!1)}function vw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ww(e,t,n,r){if(t===null||typeof t>"u"||vw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var bd=/[\-:]([a-z])/g;function kd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bd,kd);Ue[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bd,kd);Ue[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bd,kd);Ue[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function jd(e,t,n,r){var s=Ue.hasOwnProperty(t)?Ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ww(t,n,s,r)&&(n=null),r||s===null?xw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),Cd=Symbol.for("react.strict_mode"),Gc=Symbol.for("react.profiler"),Ug=Symbol.for("react.provider"),zg=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),Kc=Symbol.for("react.suspense"),qc=Symbol.for("react.suspense_list"),Nd=Symbol.for("react.memo"),In=Symbol.for("react.lazy"),Wg=Symbol.for("react.offscreen"),bh=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=bh&&e[bh]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Ul;function ri(e){if(Ul===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ul=t&&t[1]||""}return`
`+Ul+e}var zl=!1;function Wl(e,t){if(!e||zl)return"";zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{zl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ri(e):""}function bw(e){switch(e.tag){case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return e=Wl(e.type,!1),e;case 11:return e=Wl(e.type.render,!1),e;case 1:return e=Wl(e.type,!0),e;default:return""}}function Yc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ts:return"Fragment";case es:return"Portal";case Gc:return"Profiler";case Cd:return"StrictMode";case Kc:return"Suspense";case qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zg:return(e.displayName||"Context")+".Consumer";case Ug:return(e._context.displayName||"Context")+".Provider";case Sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nd:return t=e.displayName||null,t!==null?t:Yc(e.type)||"Memo";case In:t=e._payload,e=e._init;try{return Yc(e(t))}catch{}}return null}function kw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yc(t);case 8:return t===Cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jw(e){var t=Hg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function So(e){e._valueTracker||(e._valueTracker=jw(e))}function Gg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xc(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Kg(e,t){t=t.checked,t!=null&&jd(e,"checked",t,!1)}function Qc(e,t){Kg(e,t);var n=er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zc(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zc(e,t,n){(t!=="number"||va(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var si=Array.isArray;function vs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+er(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ch(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(si(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:er(n)}}function qg(e,t){var n=er(t.value),r=er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var No,Xg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(No=No||document.createElement("div"),No.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=No.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cw=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(e){Cw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hi[t]=hi[e]})});function Qg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hi.hasOwnProperty(e)&&hi[e]?(""+t).trim():t+"px"}function Zg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Qg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Sw=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tu(e,t){if(t){if(Sw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function nu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=null;function Td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var su=null,ws=null,bs=null;function Nh(e){if(e=ao(e)){if(typeof su!="function")throw Error(L(280));var t=e.stateNode;t&&(t=dl(t),su(e.stateNode,e.type,t))}}function Jg(e){ws?bs?bs.push(e):bs=[e]:ws=e}function e0(){if(ws){var e=ws,t=bs;if(bs=ws=null,Nh(e),t)for(e=0;e<t.length;e++)Nh(t[e])}}function t0(e,t){return e(t)}function n0(){}var Hl=!1;function r0(e,t,n){if(Hl)return e(t,n);Hl=!0;try{return t0(e,t,n)}finally{Hl=!1,(ws!==null||bs!==null)&&(n0(),e0())}}function Mi(e,t){var n=e.stateNode;if(n===null)return null;var r=dl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var iu=!1;if(kn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{iu=!1}function Nw(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var pi=!1,wa=null,ba=!1,ou=null,Tw={onError:function(e){pi=!0,wa=e}};function Ew(e,t,n,r,s,i,o,l,c){pi=!1,wa=null,Nw.apply(Tw,arguments)}function Pw(e,t,n,r,s,i,o,l,c){if(Ew.apply(this,arguments),pi){if(pi){var u=wa;pi=!1,wa=null}else throw Error(L(198));ba||(ba=!0,ou=u)}}function Vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Th(e){if(Vr(e)!==e)throw Error(L(188))}function Lw(e){var t=e.alternate;if(!t){if(t=Vr(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Th(s),e;if(i===r)return Th(s),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function i0(e){return e=Lw(e),e!==null?o0(e):null}function o0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o0(e);if(t!==null)return t;e=e.sibling}return null}var a0=xt.unstable_scheduleCallback,Eh=xt.unstable_cancelCallback,Aw=xt.unstable_shouldYield,Mw=xt.unstable_requestPaint,je=xt.unstable_now,Rw=xt.unstable_getCurrentPriorityLevel,Ed=xt.unstable_ImmediatePriority,l0=xt.unstable_UserBlockingPriority,ka=xt.unstable_NormalPriority,Iw=xt.unstable_LowPriority,c0=xt.unstable_IdlePriority,al=null,Jt=null;function $w(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(al,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Ow,Fw=Math.log,Dw=Math.LN2;function Ow(e){return e>>>=0,e===0?32:31-(Fw(e)/Dw|0)|0}var To=64,Eo=4194304;function ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ja(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ii(l):(i&=o,i!==0&&(r=ii(i)))}else o=n&~s,o!==0?r=ii(o):i!==0&&(r=ii(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),s=1<<n,r|=e[n],t&=~s;return r}function _w(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ut(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=_w(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function au(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function u0(){var e=To;return To<<=1,!(To&4194240)&&(To=64),e}function Gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function io(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function Bw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ut(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Pd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var se=0;function d0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f0,Ld,h0,p0,m0,lu=!1,Po=[],Wn=null,Hn=null,Gn=null,Ri=new Map,Ii=new Map,Fn=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ph(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(t.pointerId)}}function qs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ao(t),t!==null&&Ld(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zw(e,t,n,r,s){switch(t){case"focusin":return Wn=qs(Wn,e,t,n,r,s),!0;case"dragenter":return Hn=qs(Hn,e,t,n,r,s),!0;case"mouseover":return Gn=qs(Gn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ri.set(i,qs(Ri.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ii.set(i,qs(Ii.get(i)||null,e,t,n,r,s)),!0}return!1}function g0(e){var t=br(e.target);if(t!==null){var n=Vr(t);if(n!==null){if(t=n.tag,t===13){if(t=s0(n),t!==null){e.blockedOn=t,m0(e.priority,function(){h0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ta(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ru=r,n.target.dispatchEvent(r),ru=null}else return t=ao(n),t!==null&&Ld(t),e.blockedOn=n,!1;t.shift()}return!0}function Lh(e,t,n){ta(e)&&n.delete(t)}function Ww(){lu=!1,Wn!==null&&ta(Wn)&&(Wn=null),Hn!==null&&ta(Hn)&&(Hn=null),Gn!==null&&ta(Gn)&&(Gn=null),Ri.forEach(Lh),Ii.forEach(Lh)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,Ww)))}function $i(e){function t(s){return Ys(s,e)}if(0<Po.length){Ys(Po[0],e);for(var n=1;n<Po.length;n++){var r=Po[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wn!==null&&Ys(Wn,e),Hn!==null&&Ys(Hn,e),Gn!==null&&Ys(Gn,e),Ri.forEach(t),Ii.forEach(t),n=0;n<Fn.length;n++)r=Fn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fn.length&&(n=Fn[0],n.blockedOn===null);)g0(n),n.blockedOn===null&&Fn.shift()}var ks=En.ReactCurrentBatchConfig,Ca=!0;function Hw(e,t,n,r){var s=se,i=ks.transition;ks.transition=null;try{se=1,Ad(e,t,n,r)}finally{se=s,ks.transition=i}}function Gw(e,t,n,r){var s=se,i=ks.transition;ks.transition=null;try{se=4,Ad(e,t,n,r)}finally{se=s,ks.transition=i}}function Ad(e,t,n,r){if(Ca){var s=cu(e,t,n,r);if(s===null)nc(e,t,r,Sa,n),Ph(e,r);else if(zw(s,e,t,n,r))r.stopPropagation();else if(Ph(e,r),t&4&&-1<Uw.indexOf(e)){for(;s!==null;){var i=ao(s);if(i!==null&&f0(i),i=cu(e,t,n,r),i===null&&nc(e,t,r,Sa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nc(e,t,r,null,n)}}var Sa=null;function cu(e,t,n,r){if(Sa=null,e=Td(r),e=br(e),e!==null)if(t=Vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=s0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sa=e,null}function y0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rw()){case Ed:return 1;case l0:return 4;case ka:case Iw:return 16;case c0:return 536870912;default:return 16}default:return 16}}var _n=null,Md=null,na=null;function x0(){if(na)return na;var e,t=Md,n=t.length,r,s="value"in _n?_n.value:_n.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return na=s.slice(e,1<r?1-r:void 0)}function ra(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lo(){return!0}function Ah(){return!1}function wt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lo:Ah,this.isPropagationStopped=Ah,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),t}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rd=wt(_s),oo=ye({},_s,{view:0,detail:0}),Kw=wt(oo),Kl,ql,Xs,ll=ye({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Id,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(Kl=e.screenX-Xs.screenX,ql=e.screenY-Xs.screenY):ql=Kl=0,Xs=e),Kl)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),Mh=wt(ll),qw=ye({},ll,{dataTransfer:0}),Yw=wt(qw),Xw=ye({},oo,{relatedTarget:0}),Yl=wt(Xw),Qw=ye({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=wt(Qw),Jw=ye({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eb=wt(Jw),tb=ye({},_s,{data:0}),Rh=wt(tb),nb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ib(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sb[e])?!!t[e]:!1}function Id(){return ib}var ob=ye({},oo,{key:function(e){if(e.key){var t=nb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Id,charCode:function(e){return e.type==="keypress"?ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ab=wt(ob),lb=ye({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=wt(lb),cb=ye({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Id}),ub=wt(cb),db=ye({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),fb=wt(db),hb=ye({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pb=wt(hb),mb=[9,13,27,32],$d=kn&&"CompositionEvent"in window,mi=null;kn&&"documentMode"in document&&(mi=document.documentMode);var gb=kn&&"TextEvent"in window&&!mi,v0=kn&&(!$d||mi&&8<mi&&11>=mi),$h=" ",Fh=!1;function w0(e,t){switch(e){case"keyup":return mb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function yb(e,t){switch(e){case"compositionend":return b0(t);case"keypress":return t.which!==32?null:(Fh=!0,$h);case"textInput":return e=t.data,e===$h&&Fh?null:e;default:return null}}function xb(e,t){if(ns)return e==="compositionend"||!$d&&w0(e,t)?(e=x0(),na=Md=_n=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v0&&t.locale!=="ko"?null:t.data;default:return null}}var vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vb[e.type]:t==="textarea"}function k0(e,t,n,r){Jg(r),t=Na(t,"onChange"),0<t.length&&(n=new Rd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gi=null,Fi=null;function wb(e){R0(e,0)}function cl(e){var t=is(e);if(Gg(t))return e}function bb(e,t){if(e==="change")return t}var j0=!1;if(kn){var Xl;if(kn){var Ql="oninput"in document;if(!Ql){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),Ql=typeof Oh.oninput=="function"}Xl=Ql}else Xl=!1;j0=Xl&&(!document.documentMode||9<document.documentMode)}function _h(){gi&&(gi.detachEvent("onpropertychange",C0),Fi=gi=null)}function C0(e){if(e.propertyName==="value"&&cl(Fi)){var t=[];k0(t,Fi,e,Td(e)),r0(wb,t)}}function kb(e,t,n){e==="focusin"?(_h(),gi=t,Fi=n,gi.attachEvent("onpropertychange",C0)):e==="focusout"&&_h()}function jb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Fi)}function Cb(e,t){if(e==="click")return cl(t)}function Sb(e,t){if(e==="input"||e==="change")return cl(t)}function Nb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Nb;function Di(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hc.call(t,s)||!Ht(e[s],t[s]))return!1}return!0}function Vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bh(e,t){var n=Vh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vh(n)}}function S0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N0(){for(var e=window,t=va();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=va(e.document)}return t}function Fd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tb(e){var t=N0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&S0(n.ownerDocument.documentElement,n)){if(r!==null&&Fd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Bh(n,i);var o=Bh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Eb=kn&&"documentMode"in document&&11>=document.documentMode,rs=null,uu=null,yi=null,du=!1;function Uh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;du||rs==null||rs!==va(r)||(r=rs,"selectionStart"in r&&Fd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yi&&Di(yi,r)||(yi=r,r=Na(uu,"onSelect"),0<r.length&&(t=new Rd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rs)))}function Ao(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ss={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionend:Ao("Transition","TransitionEnd")},Zl={},T0={};kn&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function ul(e){if(Zl[e])return Zl[e];if(!ss[e])return e;var t=ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in T0)return Zl[e]=t[n];return e}var E0=ul("animationend"),P0=ul("animationiteration"),L0=ul("animationstart"),A0=ul("transitionend"),M0=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){M0.set(e,t),_r(t,[e])}for(var Jl=0;Jl<zh.length;Jl++){var ec=zh[Jl],Pb=ec.toLowerCase(),Lb=ec[0].toUpperCase()+ec.slice(1);rr(Pb,"on"+Lb)}rr(E0,"onAnimationEnd");rr(P0,"onAnimationIteration");rr(L0,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(A0,"onTransitionEnd");Es("onMouseEnter",["mouseout","mouseover"]);Es("onMouseLeave",["mouseout","mouseover"]);Es("onPointerEnter",["pointerout","pointerover"]);Es("onPointerLeave",["pointerout","pointerover"]);_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_r("onBeforeInput",["compositionend","keypress","textInput","paste"]);_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ab=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function Wh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Pw(r,t,void 0,e),e.currentTarget=null}function R0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Wh(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Wh(s,l,u),i=c}}}if(ba)throw e=ou,ba=!1,ou=null,e}function ce(e,t){var n=t[gu];n===void 0&&(n=t[gu]=new Set);var r=e+"__bubble";n.has(r)||(I0(t,e,2,!1),n.add(r))}function tc(e,t,n){var r=0;t&&(r|=4),I0(n,e,r,t)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function Oi(e){if(!e[Mo]){e[Mo]=!0,Bg.forEach(function(n){n!=="selectionchange"&&(Ab.has(n)||tc(n,!1,e),tc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mo]||(t[Mo]=!0,tc("selectionchange",!1,t))}}function I0(e,t,n,r){switch(y0(t)){case 1:var s=Hw;break;case 4:s=Gw;break;default:s=Ad}n=s.bind(null,t,n,e),s=void 0,!iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function nc(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=br(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}r0(function(){var u=i,d=Td(n),f=[];e:{var h=M0.get(e);if(h!==void 0){var g=Rd,v=e;switch(e){case"keypress":if(ra(n)===0)break e;case"keydown":case"keyup":g=ab;break;case"focusin":v="focus",g=Yl;break;case"focusout":v="blur",g=Yl;break;case"beforeblur":case"afterblur":g=Yl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ub;break;case E0:case P0:case L0:g=Zw;break;case A0:g=fb;break;case"scroll":g=Kw;break;case"wheel":g=pb;break;case"copy":case"cut":case"paste":g=eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ih}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var y=u,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,m!==null&&(j=Mi(y,m),j!=null&&w.push(_i(y,j,x)))),b)break;y=y.return}0<w.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==ru&&(v=n.relatedTarget||n.fromElement)&&(br(v)||v[jn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?br(v):null,v!==null&&(b=Vr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(w=Mh,j="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ih,j="onPointerLeave",m="onPointerEnter",y="pointer"),b=g==null?h:is(g),x=v==null?h:is(v),h=new w(j,y+"leave",g,n,d),h.target=b,h.relatedTarget=x,j=null,br(d)===u&&(w=new w(m,y+"enter",v,n,d),w.target=x,w.relatedTarget=b,j=w),b=j,g&&v)t:{for(w=g,m=v,y=0,x=w;x;x=Hr(x))y++;for(x=0,j=m;j;j=Hr(j))x++;for(;0<y-x;)w=Hr(w),y--;for(;0<x-y;)m=Hr(m),x--;for(;y--;){if(w===m||m!==null&&w===m.alternate)break t;w=Hr(w),m=Hr(m)}w=null}else w=null;g!==null&&Hh(f,h,g,w,!1),v!==null&&b!==null&&Hh(f,b,v,w,!0)}}e:{if(h=u?is(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=bb;else if(Dh(h))if(j0)k=Sb;else{k=jb;var S=kb}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Cb);if(k&&(k=k(e,u))){k0(f,k,n,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Zc(h,"number",h.value)}switch(S=u?is(u):window,e){case"focusin":(Dh(S)||S.contentEditable==="true")&&(rs=S,uu=u,yi=null);break;case"focusout":yi=uu=rs=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,Uh(f,n,d);break;case"selectionchange":if(Eb)break;case"keydown":case"keyup":Uh(f,n,d)}var C;if($d)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ns?w0(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(v0&&n.locale!=="ko"&&(ns||T!=="onCompositionStart"?T==="onCompositionEnd"&&ns&&(C=x0()):(_n=d,Md="value"in _n?_n.value:_n.textContent,ns=!0)),S=Na(u,T),0<S.length&&(T=new Rh(T,e,null,n,d),f.push({event:T,listeners:S}),C?T.data=C:(C=b0(n),C!==null&&(T.data=C)))),(C=gb?yb(e,n):xb(e,n))&&(u=Na(u,"onBeforeInput"),0<u.length&&(d=new Rh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}R0(f,t)})}function _i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Na(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mi(e,n),i!=null&&r.unshift(_i(e,i,s)),i=Mi(e,t),i!=null&&r.push(_i(e,i,s))),e=e.return}return r}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Mi(n,i),c!=null&&o.unshift(_i(n,c,l))):s||(c=Mi(n,i),c!=null&&o.push(_i(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Mb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function Gh(e){return(typeof e=="string"?e:""+e).replace(Mb,`
`).replace(Rb,"")}function Ro(e,t,n){if(t=Gh(t),Gh(e)!==t&&n)throw Error(L(425))}function Ta(){}var fu=null,hu=null;function pu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mu=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,$b=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(Fb)}:mu;function Fb(e){setTimeout(function(){throw e})}function rc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),$i(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$i(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Vs,Vi="__reactProps$"+Vs,jn="__reactContainer$"+Vs,gu="__reactEvents$"+Vs,Db="__reactListeners$"+Vs,Ob="__reactHandles$"+Vs;function br(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qh(e);e!==null;){if(n=e[Zt])return n;e=qh(e)}return t}e=n,n=e.parentNode}return null}function ao(e){return e=e[Zt]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function dl(e){return e[Vi]||null}var yu=[],os=-1;function sr(e){return{current:e}}function ue(e){0>os||(e.current=yu[os],yu[os]=null,os--)}function ae(e,t){os++,yu[os]=e.current,e.current=t}var tr={},qe=sr(tr),ot=sr(!1),Ar=tr;function Ps(e,t){var n=e.type.contextTypes;if(!n)return tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function at(e){return e=e.childContextTypes,e!=null}function Ea(){ue(ot),ue(qe)}function Yh(e,t,n){if(qe.current!==tr)throw Error(L(168));ae(qe,t),ae(ot,n)}function $0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,kw(e)||"Unknown",s));return ye({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,Ar=qe.current,ae(qe,e),ae(ot,ot.current),!0}function Xh(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=$0(e,t,Ar),r.__reactInternalMemoizedMergedChildContext=e,ue(ot),ue(qe),ae(qe,e)):ue(ot),ae(ot,n)}var mn=null,fl=!1,sc=!1;function F0(e){mn===null?mn=[e]:mn.push(e)}function _b(e){fl=!0,F0(e)}function ir(){if(!sc&&mn!==null){sc=!0;var e=0,t=se;try{var n=mn;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mn=null,fl=!1}catch(s){throw mn!==null&&(mn=mn.slice(e+1)),a0(Ed,ir),s}finally{se=t,sc=!1}}return null}var as=[],ls=0,La=null,Aa=0,Nt=[],Tt=0,Mr=null,xn=1,vn="";function pr(e,t){as[ls++]=Aa,as[ls++]=La,La=e,Aa=t}function D0(e,t,n){Nt[Tt++]=xn,Nt[Tt++]=vn,Nt[Tt++]=Mr,Mr=e;var r=xn;e=vn;var s=32-Ut(r)-1;r&=~(1<<s),n+=1;var i=32-Ut(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xn=1<<32-Ut(t)+s|n<<s|r,vn=i+e}else xn=1<<i|n<<s|r,vn=e}function Dd(e){e.return!==null&&(pr(e,1),D0(e,1,0))}function Od(e){for(;e===La;)La=as[--ls],as[ls]=null,Aa=as[--ls],as[ls]=null;for(;e===Mr;)Mr=Nt[--Tt],Nt[Tt]=null,vn=Nt[--Tt],Nt[Tt]=null,xn=Nt[--Tt],Nt[Tt]=null}var gt=null,mt=null,he=!1,_t=null;function O0(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,mt=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,mt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mr!==null?{id:xn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gt=e,mt=null,!0):!1;default:return!1}}function xu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(he){var t=mt;if(t){var n=t;if(!Qh(e,t)){if(xu(e))throw Error(L(418));t=Kn(n.nextSibling);var r=gt;t&&Qh(e,t)?O0(r,n):(e.flags=e.flags&-4097|2,he=!1,gt=e)}}else{if(xu(e))throw Error(L(418));e.flags=e.flags&-4097|2,he=!1,gt=e}}}function Zh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Io(e){if(e!==gt)return!1;if(!he)return Zh(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pu(e.type,e.memoizedProps)),t&&(t=mt)){if(xu(e))throw _0(),Error(L(418));for(;t;)O0(e,t),t=Kn(t.nextSibling)}if(Zh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mt=Kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mt=null}}else mt=gt?Kn(e.stateNode.nextSibling):null;return!0}function _0(){for(var e=mt;e;)e=Kn(e.nextSibling)}function Ls(){mt=gt=null,he=!1}function _d(e){_t===null?_t=[e]:_t.push(e)}var Vb=En.ReactCurrentBatchConfig;function Qs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jh(e){var t=e._init;return t(e._payload)}function V0(e){function t(m,y){if(e){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=Qn(m,y),m.index=0,m.sibling=null,m}function i(m,y,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,x,j){return y===null||y.tag!==6?(y=dc(x,m.mode,j),y.return=m,y):(y=s(y,x),y.return=m,y)}function c(m,y,x,j){var k=x.type;return k===ts?d(m,y,x.props.children,j,x.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===In&&Jh(k)===y.type)?(j=s(y,x.props),j.ref=Qs(m,y,x),j.return=m,j):(j=ua(x.type,x.key,x.props,null,m.mode,j),j.ref=Qs(m,y,x),j.return=m,j)}function u(m,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=fc(x,m.mode,j),y.return=m,y):(y=s(y,x.children||[]),y.return=m,y)}function d(m,y,x,j,k){return y===null||y.tag!==7?(y=Er(x,m.mode,j,k),y.return=m,y):(y=s(y,x),y.return=m,y)}function f(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dc(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Co:return x=ua(y.type,y.key,y.props,null,m.mode,x),x.ref=Qs(m,null,y),x.return=m,x;case es:return y=fc(y,m.mode,x),y.return=m,y;case In:var j=y._init;return f(m,j(y._payload),x)}if(si(y)||Gs(y))return y=Er(y,m.mode,x,null),y.return=m,y;$o(m,y)}return null}function h(m,y,x,j){var k=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(m,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:return x.key===k?c(m,y,x,j):null;case es:return x.key===k?u(m,y,x,j):null;case In:return k=x._init,h(m,y,k(x._payload),j)}if(si(x)||Gs(x))return k!==null?null:d(m,y,x,j,null);$o(m,x)}return null}function g(m,y,x,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(x)||null,l(y,m,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Co:return m=m.get(j.key===null?x:j.key)||null,c(y,m,j,k);case es:return m=m.get(j.key===null?x:j.key)||null,u(y,m,j,k);case In:var S=j._init;return g(m,y,x,S(j._payload),k)}if(si(j)||Gs(j))return m=m.get(x)||null,d(y,m,j,k,null);$o(y,j)}return null}function v(m,y,x,j){for(var k=null,S=null,C=y,T=y=0,M=null;C!==null&&T<x.length;T++){C.index>T?(M=C,C=null):M=C.sibling;var N=h(m,C,x[T],j);if(N===null){C===null&&(C=M);break}e&&C&&N.alternate===null&&t(m,C),y=i(N,y,T),S===null?k=N:S.sibling=N,S=N,C=M}if(T===x.length)return n(m,C),he&&pr(m,T),k;if(C===null){for(;T<x.length;T++)C=f(m,x[T],j),C!==null&&(y=i(C,y,T),S===null?k=C:S.sibling=C,S=C);return he&&pr(m,T),k}for(C=r(m,C);T<x.length;T++)M=g(C,m,T,x[T],j),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?T:M.key),y=i(M,y,T),S===null?k=M:S.sibling=M,S=M);return e&&C.forEach(function(D){return t(m,D)}),he&&pr(m,T),k}function w(m,y,x,j){var k=Gs(x);if(typeof k!="function")throw Error(L(150));if(x=k.call(x),x==null)throw Error(L(151));for(var S=k=null,C=y,T=y=0,M=null,N=x.next();C!==null&&!N.done;T++,N=x.next()){C.index>T?(M=C,C=null):M=C.sibling;var D=h(m,C,N.value,j);if(D===null){C===null&&(C=M);break}e&&C&&D.alternate===null&&t(m,C),y=i(D,y,T),S===null?k=D:S.sibling=D,S=D,C=M}if(N.done)return n(m,C),he&&pr(m,T),k;if(C===null){for(;!N.done;T++,N=x.next())N=f(m,N.value,j),N!==null&&(y=i(N,y,T),S===null?k=N:S.sibling=N,S=N);return he&&pr(m,T),k}for(C=r(m,C);!N.done;T++,N=x.next())N=g(C,m,T,N.value,j),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?T:N.key),y=i(N,y,T),S===null?k=N:S.sibling=N,S=N);return e&&C.forEach(function(V){return t(m,V)}),he&&pr(m,T),k}function b(m,y,x,j){if(typeof x=="object"&&x!==null&&x.type===ts&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:e:{for(var k=x.key,S=y;S!==null;){if(S.key===k){if(k=x.type,k===ts){if(S.tag===7){n(m,S.sibling),y=s(S,x.props.children),y.return=m,m=y;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===In&&Jh(k)===S.type){n(m,S.sibling),y=s(S,x.props),y.ref=Qs(m,S,x),y.return=m,m=y;break e}n(m,S);break}else t(m,S);S=S.sibling}x.type===ts?(y=Er(x.props.children,m.mode,j,x.key),y.return=m,m=y):(j=ua(x.type,x.key,x.props,null,m.mode,j),j.ref=Qs(m,y,x),j.return=m,m=j)}return o(m);case es:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(m,y.sibling),y=s(y,x.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=fc(x,m.mode,j),y.return=m,m=y}return o(m);case In:return S=x._init,b(m,y,S(x._payload),j)}if(si(x))return v(m,y,x,j);if(Gs(x))return w(m,y,x,j);$o(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,x),y.return=m,m=y):(n(m,y),y=dc(x,m.mode,j),y.return=m,m=y),o(m)):n(m,y)}return b}var As=V0(!0),B0=V0(!1),Ma=sr(null),Ra=null,cs=null,Vd=null;function Bd(){Vd=cs=Ra=null}function Ud(e){var t=Ma.current;ue(Ma),e._currentValue=t}function wu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Ra=e,Vd=cs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Vd!==e)if(e={context:e,memoizedValue:t,next:null},cs===null){if(Ra===null)throw Error(L(308));cs=e,Ra.dependencies={lanes:0,firstContext:e}}else cs=cs.next=e;return t}var kr=null;function zd(e){kr===null?kr=[e]:kr.push(e)}function U0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,zd(t)):(n.next=s.next,s.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function Wd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Cn(e,n)}return s=r.interleaved,s===null?(t.next=t,zd(r)):(t.next=s.next,s.next=t),r.interleaved=t,Cn(e,n)}function sa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pd(e,n)}}function ep(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ia(e,t,n,r){var s=e.updateQueue;$n=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,g=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,w=l;switch(h=t,g=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=ye({},f,h);break e;case 2:$n=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ir|=o,e.lanes=o,e.memoizedState=f}}function tp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var lo={},en=sr(lo),Bi=sr(lo),Ui=sr(lo);function jr(e){if(e===lo)throw Error(L(174));return e}function Hd(e,t){switch(ae(Ui,t),ae(Bi,e),ae(en,lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eu(t,e)}ue(en),ae(en,t)}function Ms(){ue(en),ue(Bi),ue(Ui)}function W0(e){jr(Ui.current);var t=jr(en.current),n=eu(t,e.type);t!==n&&(ae(Bi,e),ae(en,n))}function Gd(e){Bi.current===e&&(ue(en),ue(Bi))}var pe=sr(0);function $a(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ic=[];function Kd(){for(var e=0;e<ic.length;e++)ic[e]._workInProgressVersionPrimary=null;ic.length=0}var ia=En.ReactCurrentDispatcher,oc=En.ReactCurrentBatchConfig,Rr=0,ge=null,Ee=null,Me=null,Fa=!1,xi=!1,zi=0,Bb=0;function ze(){throw Error(L(321))}function qd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function Yd(e,t,n,r,s,i){if(Rr=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=e===null||e.memoizedState===null?Hb:Gb,e=n(r,s),xi){i=0;do{if(xi=!1,zi=0,25<=i)throw Error(L(301));i+=1,Me=Ee=null,t.updateQueue=null,ia.current=Kb,e=n(r,s)}while(xi)}if(ia.current=Da,t=Ee!==null&&Ee.next!==null,Rr=0,Me=Ee=ge=null,Fa=!1,t)throw Error(L(300));return e}function Xd(){var e=zi!==0;return zi=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ge.memoizedState=Me=e:Me=Me.next=e,Me}function At(){if(Ee===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Me===null?ge.memoizedState:Me.next;if(t!==null)Me=t,Ee=e;else{if(e===null)throw Error(L(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Me===null?ge.memoizedState=Me=e:Me=Me.next=e}return Me}function Wi(e,t){return typeof t=="function"?t(e):t}function ac(e){var t=At(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Ee,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Rr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ge.lanes|=d,Ir|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Ht(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ge.lanes|=i,Ir|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lc(e){var t=At(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ht(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function H0(){}function G0(e,t){var n=ge,r=At(),s=t(),i=!Ht(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,Qd(Y0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Hi(9,q0.bind(null,n,r,s,t),void 0,null),Ie===null)throw Error(L(349));Rr&30||K0(n,t,s)}return s}function K0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function q0(e,t,n,r){t.value=n,t.getSnapshot=r,X0(t)&&Q0(e)}function Y0(e,t,n){return n(function(){X0(t)&&Q0(e)})}function X0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function Q0(e){var t=Cn(e,1);t!==null&&zt(t,e,1,-1)}function np(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=Wb.bind(null,ge,e),[t.memoizedState,e]}function Hi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Z0(){return At().memoizedState}function oa(e,t,n,r){var s=Qt();ge.flags|=e,s.memoizedState=Hi(1|t,n,void 0,r===void 0?null:r)}function hl(e,t,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,r!==null&&qd(r,o.deps)){s.memoizedState=Hi(t,n,i,r);return}}ge.flags|=e,s.memoizedState=Hi(1|t,n,i,r)}function rp(e,t){return oa(8390656,8,e,t)}function Qd(e,t){return hl(2048,8,e,t)}function J0(e,t){return hl(4,2,e,t)}function ey(e,t){return hl(4,4,e,t)}function ty(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ny(e,t,n){return n=n!=null?n.concat([e]):null,hl(4,4,ty.bind(null,t,e),n)}function Zd(){}function ry(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sy(e,t){var n=At();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function iy(e,t,n){return Rr&21?(Ht(n,t)||(n=u0(),ge.lanes|=n,Ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function Ub(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=oc.transition;oc.transition={};try{e(!1),t()}finally{se=n,oc.transition=r}}function oy(){return At().memoizedState}function zb(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ay(e))ly(t,n);else if(n=U0(e,t,n,r),n!==null){var s=Ze();zt(n,e,r,s),cy(n,t,r)}}function Wb(e,t,n){var r=Xn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ay(e))ly(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ht(l,o)){var c=t.interleaved;c===null?(s.next=s,zd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=U0(e,t,s,r),n!==null&&(s=Ze(),zt(n,e,r,s),cy(n,t,r))}}function ay(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function ly(e,t){xi=Fa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pd(e,n)}}var Da={readContext:Lt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Hb={readContext:Lt,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:rp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oa(4194308,4,ty.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return oa(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zb.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:np,useDebugValue:Zd,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=np(!1),t=e[0];return e=Ub.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=Qt();if(he){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ie===null)throw Error(L(349));Rr&30||K0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,rp(Y0.bind(null,r,i,e),[e]),r.flags|=2048,Hi(9,q0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Qt(),t=Ie.identifierPrefix;if(he){var n=vn,r=xn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gb={readContext:Lt,useCallback:ry,useContext:Lt,useEffect:Qd,useImperativeHandle:ny,useInsertionEffect:J0,useLayoutEffect:ey,useMemo:sy,useReducer:ac,useRef:Z0,useState:function(){return ac(Wi)},useDebugValue:Zd,useDeferredValue:function(e){var t=At();return iy(t,Ee.memoizedState,e)},useTransition:function(){var e=ac(Wi)[0],t=At().memoizedState;return[e,t]},useMutableSource:H0,useSyncExternalStore:G0,useId:oy,unstable_isNewReconciler:!1},Kb={readContext:Lt,useCallback:ry,useContext:Lt,useEffect:Qd,useImperativeHandle:ny,useInsertionEffect:J0,useLayoutEffect:ey,useMemo:sy,useReducer:lc,useRef:Z0,useState:function(){return lc(Wi)},useDebugValue:Zd,useDeferredValue:function(e){var t=At();return Ee===null?t.memoizedState=e:iy(t,Ee.memoizedState,e)},useTransition:function(){var e=lc(Wi)[0],t=At().memoizedState;return[e,t]},useMutableSource:H0,useSyncExternalStore:G0,useId:oy,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pl={isMounted:function(e){return(e=e._reactInternals)?Vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Xn(e),i=wn(r,s);i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(zt(t,e,s,r),sa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ze(),s=Xn(e),i=wn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qn(e,i,s),t!==null&&(zt(t,e,s,r),sa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ze(),r=Xn(e),s=wn(n,r);s.tag=2,t!=null&&(s.callback=t),t=qn(e,s,r),t!==null&&(zt(t,e,r,n),sa(t,e,r))}};function sp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Di(n,r)||!Di(s,i):!0}function uy(e,t,n){var r=!1,s=tr,i=t.contextType;return typeof i=="object"&&i!==null?i=Lt(i):(s=at(t)?Ar:qe.current,r=t.contextTypes,i=(r=r!=null)?Ps(e,s):tr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ip(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function ku(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Lt(i):(i=at(t)?Ar:qe.current,s.context=Ps(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pl.enqueueReplaceState(s,s.state,null),Ia(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Rs(e,t){try{var n="",r=t;do n+=bw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function cc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ju(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qb=typeof WeakMap=="function"?WeakMap:Map;function dy(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_a||(_a=!0,Ru=r),ju(e,t)},n}function fy(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ju(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ju(e,t),typeof r!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function op(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=l2.bind(null,e,t,n),t.then(e,e))}function ap(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,qn(n,t,1))),n.lanes|=1),e)}var Yb=En.ReactCurrentOwner,st=!1;function Xe(e,t,n,r){t.child=e===null?B0(t,null,n,r):As(t,e.child,n,r)}function cp(e,t,n,r,s){n=n.render;var i=t.ref;return js(t,s),r=Yd(e,t,n,r,i,s),n=Xd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(he&&n&&Dd(t),t.flags|=1,Xe(e,t,r,s),t.child)}function up(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!af(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,hy(e,t,i,r,s)):(e=ua(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Di,n(o,r)&&e.ref===t.ref)return Sn(e,t,s)}return t.flags|=1,e=Qn(i,r),e.ref=t.ref,e.return=t,t.child=e}function hy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Di(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,Sn(e,t,s)}return Cu(e,t,n,r,s)}function py(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(ds,ht),ht|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ae(ds,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(ds,ht),ht|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ae(ds,ht),ht|=r;return Xe(e,t,s,n),t.child}function my(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,s){var i=at(n)?Ar:qe.current;return i=Ps(t,i),js(t,s),n=Yd(e,t,n,r,i,s),r=Xd(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(he&&r&&Dd(t),t.flags|=1,Xe(e,t,n,s),t.child)}function dp(e,t,n,r,s){if(at(n)){var i=!0;Pa(t)}else i=!1;if(js(t,s),t.stateNode===null)aa(e,t),uy(t,n,r),ku(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=at(n)?Ar:qe.current,u=Ps(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ip(t,o,r,u),$n=!1;var h=t.memoizedState;o.state=h,Ia(t,r,o,s),c=t.memoizedState,l!==r||h!==c||ot.current||$n?(typeof d=="function"&&(bu(t,n,d,r),c=t.memoizedState),(l=$n||sp(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,z0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Dt(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Lt(c):(c=at(n)?Ar:qe.current,c=Ps(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ip(t,o,r,c),$n=!1,h=t.memoizedState,o.state=h,Ia(t,r,o,s);var v=t.memoizedState;l!==f||h!==v||ot.current||$n?(typeof g=="function"&&(bu(t,n,g,r),v=t.memoizedState),(u=$n||sp(t,n,u,r,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Su(e,t,n,r,i,s)}function Su(e,t,n,r,s,i){my(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Xh(t,n,!1),Sn(e,t,i);r=t.stateNode,Yb.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=As(t,e.child,null,i),t.child=As(t,null,l,i)):Xe(e,t,l,i),t.memoizedState=r.state,s&&Xh(t,n,!0),t.child}function gy(e){var t=e.stateNode;t.pendingContext?Yh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yh(e,t.context,!1),Hd(e,t.containerInfo)}function fp(e,t,n,r,s){return Ls(),_d(s),t.flags|=256,Xe(e,t,n,r),t.child}var Nu={dehydrated:null,treeContext:null,retryLane:0};function Tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function yy(e,t,n){var r=t.pendingProps,s=pe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ae(pe,s&1),e===null)return vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=yl(o,r,0,null),e=Er(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Tu(n),t.memoizedState=Nu,e):Jd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Xb(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Qn(l,i):(i=Er(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Tu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Nu,r}return i=e.child,e=i.sibling,r=Qn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jd(e,t){return t=yl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fo(e,t,n,r){return r!==null&&_d(r),As(t,e.child,null,n),e=Jd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=cc(Error(L(422))),Fo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=yl({mode:"visible",children:r.children},s,0,null),i=Er(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&As(t,e.child,null,o),t.child.memoizedState=Tu(o),t.memoizedState=Nu,i);if(!(t.mode&1))return Fo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(L(419)),r=cc(i,r,void 0),Fo(e,t,o,r)}if(l=(o&e.childLanes)!==0,st||l){if(r=Ie,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Cn(e,s),zt(r,e,s,-1))}return of(),r=cc(Error(L(421))),Fo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=c2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,mt=Kn(s.nextSibling),gt=t,he=!0,_t=null,e!==null&&(Nt[Tt++]=xn,Nt[Tt++]=vn,Nt[Tt++]=Mr,xn=e.id,vn=e.overflow,Mr=t),t=Jd(t,r.children),t.flags|=4096,t)}function hp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wu(e.return,t,n)}function uc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Xe(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,n,t);else if(e.tag===19)hp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ae(pe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$a(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),uc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$a(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}uc(t,!0,n,null,i);break;case"together":uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qb(e,t,n){switch(t.tag){case 3:gy(t),Ls();break;case 5:W0(t);break;case 1:at(t.type)&&Pa(t);break;case 4:Hd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ae(Ma,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ae(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?yy(e,t,n):(ae(pe,pe.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);ae(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,py(e,t,n)}return Sn(e,t,n)}var vy,Eu,wy,by;vy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eu=function(){};wy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,jr(en.current);var i=null;switch(n){case"input":s=Xc(e,s),r=Xc(e,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=Jc(e,s),r=Jc(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ta)}tu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Li.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Li.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};by=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zs(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zb(e,t,n){var r=t.pendingProps;switch(Od(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return at(t.type)&&Ea(),We(t),null;case 3:return r=t.stateNode,Ms(),ue(ot),ue(qe),Kd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(Fu(_t),_t=null))),Eu(e,t),We(t),null;case 5:Gd(t);var s=jr(Ui.current);if(n=t.type,e!==null&&t.stateNode!=null)wy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return We(t),null}if(e=jr(en.current),Io(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Zt]=t,r[Vi]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(s=0;s<oi.length;s++)ce(oi[s],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":kh(r,i),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ce("invalid",r);break;case"textarea":Ch(r,i),ce("invalid",r)}tu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,l,e),s=["children",""+l]):Li.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":So(r),jh(r,i,!0);break;case"textarea":So(r),Sh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ta)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Zt]=t,e[Vi]=r,vy(e,t,!1,!1),t.stateNode=e;e:{switch(o=nu(n,r),n){case"dialog":ce("cancel",e),ce("close",e),s=r;break;case"iframe":case"object":case"embed":ce("load",e),s=r;break;case"video":case"audio":for(s=0;s<oi.length;s++)ce(oi[s],e);s=r;break;case"source":ce("error",e),s=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=r;break;case"details":ce("toggle",e),s=r;break;case"input":kh(e,r),s=Xc(e,r),ce("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),ce("invalid",e);break;case"textarea":Ch(e,r),s=Jc(e,r),ce("invalid",e);break;default:s=r}tu(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Zg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xg(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ai(e,c):typeof c=="number"&&Ai(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Li.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ce("scroll",e):c!=null&&jd(e,i,c,o))}switch(n){case"input":So(e),jh(e,r,!1);break;case"textarea":So(e),Sh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+er(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?vs(e,!!r.multiple,i,!1):r.defaultValue!=null&&vs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ta)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)by(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=jr(Ui.current),jr(en.current),Io(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(i=r.nodeValue!==n)&&(e=gt,e!==null))switch(e.tag){case 3:Ro(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ro(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return We(t),null;case 13:if(ue(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&mt!==null&&t.mode&1&&!(t.flags&128))_0(),Ls(),t.flags|=98560,i=!1;else if(i=Io(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Zt]=t}else Ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),i=!1}else _t!==null&&(Fu(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Pe===0&&(Pe=3):of())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ms(),Eu(e,t),e===null&&Oi(t.stateNode.containerInfo),We(t),null;case 10:return Ud(t.type._context),We(t),null;case 17:return at(t.type)&&Ea(),We(t),null;case 19:if(ue(pe),i=t.memoizedState,i===null)return We(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Zs(i,!1);else{if(Pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$a(e),o!==null){for(t.flags|=128,Zs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ae(pe,pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&je()>Is&&(t.flags|=128,r=!0,Zs(i,!1),t.lanes=4194304)}else{if(!r)if(e=$a(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!he)return We(t),null}else 2*je()-i.renderingStartTime>Is&&n!==1073741824&&(t.flags|=128,r=!0,Zs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=je(),t.sibling=null,n=pe.current,ae(pe,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return sf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Jb(e,t){switch(Od(t),t.tag){case 1:return at(t.type)&&Ea(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),ue(ot),ue(qe),Kd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gd(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return Ms(),null;case 10:return Ud(t.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var Do=!1,He=!1,e2=typeof WeakSet=="function"?WeakSet:Set,O=null;function us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Pu(e,t,n){try{n()}catch(r){we(e,t,r)}}var pp=!1;function t2(e,t){if(fu=Ca,e=N0(),Fd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hu={focusedElem:e,selectionRange:n},Ca=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Dt(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(j){we(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=pp,pp=!1,v}function vi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pu(t,n,i)}s=s.next}while(s!==r)}}function ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ky(e){var t=e.alternate;t!==null&&(e.alternate=null,ky(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Vi],delete t[gu],delete t[Db],delete t[Ob])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jy(e){return e.tag===5||e.tag===3||e.tag===4}function mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Au(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ta));else if(r!==4&&(e=e.child,e!==null))for(Au(e,t,n),e=e.sibling;e!==null;)Au(e,t,n),e=e.sibling}function Mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}var Ve=null,Ot=!1;function Ln(e,t,n){for(n=n.child;n!==null;)Cy(e,t,n),n=n.sibling}function Cy(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 5:He||us(n,t);case 6:var r=Ve,s=Ot;Ve=null,Ln(e,t,n),Ve=r,Ot=s,Ve!==null&&(Ot?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Ot?(e=Ve,n=n.stateNode,e.nodeType===8?rc(e.parentNode,n):e.nodeType===1&&rc(e,n),$i(e)):rc(Ve,n.stateNode));break;case 4:r=Ve,s=Ot,Ve=n.stateNode.containerInfo,Ot=!0,Ln(e,t,n),Ve=r,Ot=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pu(n,t,o),s=s.next}while(s!==r)}Ln(e,t,n);break;case 1:if(!He&&(us(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){we(n,t,l)}Ln(e,t,n);break;case 21:Ln(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,Ln(e,t,n),He=r):Ln(e,t,n);break;default:Ln(e,t,n)}}function gp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new e2),t.forEach(function(r){var s=u2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function It(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ve=l.stateNode,Ot=!1;break e;case 3:Ve=l.stateNode.containerInfo,Ot=!0;break e;case 4:Ve=l.stateNode.containerInfo,Ot=!0;break e}l=l.return}if(Ve===null)throw Error(L(160));Cy(i,o,s),Ve=null,Ot=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){we(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sy(t,e),t=t.sibling}function Sy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),qt(e),r&4){try{vi(3,e,e.return),ml(3,e)}catch(w){we(e,e.return,w)}try{vi(5,e,e.return)}catch(w){we(e,e.return,w)}}break;case 1:It(t,e),qt(e),r&512&&n!==null&&us(n,n.return);break;case 5:if(It(t,e),qt(e),r&512&&n!==null&&us(n,n.return),e.flags&32){var s=e.stateNode;try{Ai(s,"")}catch(w){we(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Kg(s,i),nu(l,o);var u=nu(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Zg(s,f):d==="dangerouslySetInnerHTML"?Xg(s,f):d==="children"?Ai(s,f):jd(s,d,f,u)}switch(l){case"input":Qc(s,i);break;case"textarea":qg(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?vs(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?vs(s,!!i.multiple,i.defaultValue,!0):vs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vi]=i}catch(w){we(e,e.return,w)}}break;case 6:if(It(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){we(e,e.return,w)}}break;case 3:if(It(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(w){we(e,e.return,w)}break;case 4:It(t,e),qt(e);break;case 13:It(t,e),qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nf=je())),r&4&&gp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||d,It(t,e),He=u):It(t,e),qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(f=O=d;O!==null;){switch(h=O,g=h.child,h.tag){case 0:case 11:case 14:case 15:vi(4,h,h.return);break;case 1:us(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){we(r,n,w)}}break;case 5:us(h,h.return);break;case 22:if(h.memoizedState!==null){xp(f);continue}}g!==null?(g.return=h,O=g):xp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Qg("display",o))}catch(w){we(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){we(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:It(t,e),qt(e),r&4&&gp(e);break;case 21:break;default:It(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jy(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ai(s,""),r.flags&=-33);var i=mp(e);Mu(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=mp(e);Au(e,l,o);break;default:throw Error(L(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n2(e,t,n){O=e,Ny(e)}function Ny(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Do;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||He;l=Do;var u=He;if(Do=o,(He=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?vp(s):c!==null?(c.return=o,O=c):vp(s);for(;i!==null;)O=i,Ny(i),i=i.sibling;O=s,Do=l,He=u}yp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):yp(e)}}function yp(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||ml(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$i(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}He||t.flags&512&&Lu(t)}catch(h){we(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function xp(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function vp(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ml(4,t)}catch(c){we(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){we(t,s,c)}}var i=t.return;try{Lu(t)}catch(c){we(t,i,c)}break;case 5:var o=t.return;try{Lu(t)}catch(c){we(t,o,c)}}}catch(c){we(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var r2=Math.ceil,Oa=En.ReactCurrentDispatcher,ef=En.ReactCurrentOwner,Pt=En.ReactCurrentBatchConfig,ee=0,Ie=null,Te=null,Be=0,ht=0,ds=sr(0),Pe=0,Gi=null,Ir=0,gl=0,tf=0,wi=null,rt=null,nf=0,Is=1/0,pn=null,_a=!1,Ru=null,Yn=null,Oo=!1,Vn=null,Va=0,bi=0,Iu=null,la=-1,ca=0;function Ze(){return ee&6?je():la!==-1?la:la=je()}function Xn(e){return e.mode&1?ee&2&&Be!==0?Be&-Be:Vb.transition!==null?(ca===0&&(ca=u0()),ca):(e=se,e!==0||(e=window.event,e=e===void 0?16:y0(e.type)),e):1}function zt(e,t,n,r){if(50<bi)throw bi=0,Iu=null,Error(L(185));io(e,n,r),(!(ee&2)||e!==Ie)&&(e===Ie&&(!(ee&2)&&(gl|=n),Pe===4&&Dn(e,Be)),lt(e,r),n===1&&ee===0&&!(t.mode&1)&&(Is=je()+500,fl&&ir()))}function lt(e,t){var n=e.callbackNode;Vw(e,t);var r=ja(e,e===Ie?Be:0);if(r===0)n!==null&&Eh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eh(n),t===1)e.tag===0?_b(wp.bind(null,e)):F0(wp.bind(null,e)),$b(function(){!(ee&6)&&ir()}),n=null;else{switch(d0(r)){case 1:n=Ed;break;case 4:n=l0;break;case 16:n=ka;break;case 536870912:n=c0;break;default:n=ka}n=Iy(n,Ty.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ty(e,t){if(la=-1,ca=0,ee&6)throw Error(L(327));var n=e.callbackNode;if(Cs()&&e.callbackNode!==n)return null;var r=ja(e,e===Ie?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ba(e,r);else{t=r;var s=ee;ee|=2;var i=Py();(Ie!==e||Be!==t)&&(pn=null,Is=je()+500,Tr(e,t));do try{o2();break}catch(l){Ey(e,l)}while(!0);Bd(),Oa.current=i,ee=s,Te!==null?t=0:(Ie=null,Be=0,t=Pe)}if(t!==0){if(t===2&&(s=au(e),s!==0&&(r=s,t=$u(e,s))),t===1)throw n=Gi,Tr(e,0),Dn(e,r),lt(e,je()),n;if(t===6)Dn(e,r);else{if(s=e.current.alternate,!(r&30)&&!s2(s)&&(t=Ba(e,r),t===2&&(i=au(e),i!==0&&(r=i,t=$u(e,i))),t===1))throw n=Gi,Tr(e,0),Dn(e,r),lt(e,je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:mr(e,rt,pn);break;case 3:if(Dn(e,r),(r&130023424)===r&&(t=nf+500-je(),10<t)){if(ja(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ze(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mu(mr.bind(null,e,rt,pn),t);break}mr(e,rt,pn);break;case 4:if(Dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ut(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*r2(r/1960))-r,10<r){e.timeoutHandle=mu(mr.bind(null,e,rt,pn),r);break}mr(e,rt,pn);break;case 5:mr(e,rt,pn);break;default:throw Error(L(329))}}}return lt(e,je()),e.callbackNode===n?Ty.bind(null,e):null}function $u(e,t){var n=wi;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=Ba(e,t),e!==2&&(t=rt,rt=n,t!==null&&Fu(t)),e}function Fu(e){rt===null?rt=e:rt.push.apply(rt,e)}function s2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ht(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~tf,t&=~gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function wp(e){if(ee&6)throw Error(L(327));Cs();var t=ja(e,0);if(!(t&1))return lt(e,je()),null;var n=Ba(e,t);if(e.tag!==0&&n===2){var r=au(e);r!==0&&(t=r,n=$u(e,r))}if(n===1)throw n=Gi,Tr(e,0),Dn(e,t),lt(e,je()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mr(e,rt,pn),lt(e,je()),null}function rf(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(Is=je()+500,fl&&ir())}}function $r(e){Vn!==null&&Vn.tag===0&&!(ee&6)&&Cs();var t=ee;ee|=1;var n=Pt.transition,r=se;try{if(Pt.transition=null,se=1,e)return e()}finally{se=r,Pt.transition=n,ee=t,!(ee&6)&&ir()}}function sf(){ht=ds.current,ue(ds)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ib(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Od(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ea();break;case 3:Ms(),ue(ot),ue(qe),Kd();break;case 5:Gd(r);break;case 4:Ms();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Ud(r.type._context);break;case 22:case 23:sf()}n=n.return}if(Ie=e,Te=e=Qn(e.current,null),Be=ht=t,Pe=0,Gi=null,tf=gl=Ir=0,rt=wi=null,kr!==null){for(t=0;t<kr.length;t++)if(n=kr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}kr=null}return e}function Ey(e,t){do{var n=Te;try{if(Bd(),ia.current=Da,Fa){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fa=!1}if(Rr=0,Me=Ee=ge=null,xi=!1,zi=0,ef.current=null,n===null||n.return===null){Pe=1,Gi=t,Te=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Be,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ap(o);if(g!==null){g.flags&=-257,lp(g,o,l,i,t),g.mode&1&&op(i,u,t),t=g,c=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(c),t.updateQueue=w}else v.add(c);break e}else{if(!(t&1)){op(i,u,t),of();break e}c=Error(L(426))}}else if(he&&l.mode&1){var b=ap(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),lp(b,o,l,i,t),_d(Rs(c,l));break e}}i=c=Rs(c,l),Pe!==4&&(Pe=2),wi===null?wi=[i]:wi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=dy(i,c,t);ep(i,m);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Yn===null||!Yn.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=fy(i,l,t);ep(i,j);break e}}i=i.return}while(i!==null)}Ay(n)}catch(k){t=k,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function Py(){var e=Oa.current;return Oa.current=Da,e===null?Da:e}function of(){(Pe===0||Pe===3||Pe===2)&&(Pe=4),Ie===null||!(Ir&268435455)&&!(gl&268435455)||Dn(Ie,Be)}function Ba(e,t){var n=ee;ee|=2;var r=Py();(Ie!==e||Be!==t)&&(pn=null,Tr(e,t));do try{i2();break}catch(s){Ey(e,s)}while(!0);if(Bd(),ee=n,Oa.current=r,Te!==null)throw Error(L(261));return Ie=null,Be=0,Pe}function i2(){for(;Te!==null;)Ly(Te)}function o2(){for(;Te!==null&&!Aw();)Ly(Te)}function Ly(e){var t=Ry(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Ay(e):Te=t,ef.current=null}function Ay(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Jb(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pe=6,Te=null;return}}else if(n=Zb(n,t,ht),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Pe===0&&(Pe=5)}function mr(e,t,n){var r=se,s=Pt.transition;try{Pt.transition=null,se=1,a2(e,t,n,r)}finally{Pt.transition=s,se=r}return null}function a2(e,t,n,r){do Cs();while(Vn!==null);if(ee&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bw(e,i),e===Ie&&(Te=Ie=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oo||(Oo=!0,Iy(ka,function(){return Cs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Pt.transition,Pt.transition=null;var o=se;se=1;var l=ee;ee|=4,ef.current=null,t2(e,n),Sy(n,e),Tb(hu),Ca=!!fu,hu=fu=null,e.current=n,n2(n),Mw(),ee=l,se=o,Pt.transition=i}else e.current=n;if(Oo&&(Oo=!1,Vn=e,Va=s),i=e.pendingLanes,i===0&&(Yn=null),$w(n.stateNode),lt(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_a)throw _a=!1,e=Ru,Ru=null,e;return Va&1&&e.tag!==0&&Cs(),i=e.pendingLanes,i&1?e===Iu?bi++:(bi=0,Iu=e):bi=0,ir(),null}function Cs(){if(Vn!==null){var e=d0(Va),t=Pt.transition,n=se;try{if(Pt.transition=null,se=16>e?16:e,Vn===null)var r=!1;else{if(e=Vn,Vn=null,Va=0,ee&6)throw Error(L(331));var s=ee;for(ee|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:vi(8,d,i)}var f=d.child;if(f!==null)f.return=d,O=f;else for(;O!==null;){d=O;var h=d.sibling,g=d.return;if(ky(d),d===u){O=null;break}if(h!==null){h.return=g,O=h;break}O=g}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vi(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var y=e.current;for(O=y;O!==null;){o=O;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,O=x;else e:for(o=y;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ml(9,l)}}catch(k){we(l,l.return,k)}if(l===o){O=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,O=j;break e}O=l.return}}if(ee=s,ir(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(al,e)}catch{}r=!0}return r}finally{se=n,Pt.transition=t}}return!1}function bp(e,t,n){t=Rs(n,t),t=dy(e,t,1),e=qn(e,t,1),t=Ze(),e!==null&&(io(e,1,t),lt(e,t))}function we(e,t,n){if(e.tag===3)bp(e,e,n);else for(;t!==null;){if(t.tag===3){bp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yn===null||!Yn.has(r))){e=Rs(n,e),e=fy(t,e,1),t=qn(t,e,1),e=Ze(),t!==null&&(io(t,1,e),lt(t,e));break}}t=t.return}}function l2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Be&n)===n&&(Pe===4||Pe===3&&(Be&130023424)===Be&&500>je()-nf?Tr(e,0):tf|=n),lt(e,t)}function My(e,t){t===0&&(e.mode&1?(t=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):t=1);var n=Ze();e=Cn(e,t),e!==null&&(io(e,t,n),lt(e,n))}function c2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),My(e,n)}function u2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),My(e,n)}var Ry;Ry=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,Qb(e,t,n);st=!!(e.flags&131072)}else st=!1,he&&t.flags&1048576&&D0(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;aa(e,t),e=t.pendingProps;var s=Ps(t,qe.current);js(t,n),s=Yd(null,t,r,e,s,n);var i=Xd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)?(i=!0,Pa(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wd(t),s.updater=pl,t.stateNode=s,s._reactInternals=t,ku(t,r,e,n),t=Su(null,t,r,!0,i,n)):(t.tag=0,he&&i&&Dd(t),Xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(aa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=f2(r),e=Dt(r,e),s){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=dp(null,t,r,e,n);break e;case 11:t=cp(null,t,r,e,n);break e;case 14:t=up(null,t,r,Dt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),Cu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),dp(e,t,r,s,n);case 3:e:{if(gy(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,s=i.element,z0(e,t),Ia(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Rs(Error(L(423)),t),t=fp(e,t,r,n,s);break e}else if(r!==s){s=Rs(Error(L(424)),t),t=fp(e,t,r,n,s);break e}else for(mt=Kn(t.stateNode.containerInfo.firstChild),gt=t,he=!0,_t=null,n=B0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ls(),r===s){t=Sn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return W0(t),e===null&&vu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,pu(r,s)?o=null:i!==null&&pu(r,i)&&(t.flags|=32),my(e,t),Xe(e,t,o,n),t.child;case 6:return e===null&&vu(t),null;case 13:return yy(e,t,n);case 4:return Hd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=As(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),cp(e,t,r,s,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ae(Ma,r._currentValue),r._currentValue=o,i!==null)if(Ht(i.value,o)){if(i.children===s.children&&!ot.current){t=Sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=wn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),wu(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,js(t,n),s=Lt(s),r=r(s),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,s=Dt(r,t.pendingProps),s=Dt(r.type,s),up(e,t,r,s,n);case 15:return hy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Dt(r,s),aa(e,t),t.tag=1,at(r)?(e=!0,Pa(t)):e=!1,js(t,n),uy(t,r,s),ku(t,r,s,n),Su(null,t,r,!0,e,n);case 19:return xy(e,t,n);case 22:return py(e,t,n)}throw Error(L(156,t.tag))};function Iy(e,t){return a0(e,t)}function d2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,r){return new d2(e,t,n,r)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f2(e){if(typeof e=="function")return af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sd)return 11;if(e===Nd)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ua(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")af(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ts:return Er(n.children,s,i,t);case Cd:o=8,s|=8;break;case Gc:return e=Et(12,n,t,s|2),e.elementType=Gc,e.lanes=i,e;case Kc:return e=Et(13,n,t,s),e.elementType=Kc,e.lanes=i,e;case qc:return e=Et(19,n,t,s),e.elementType=qc,e.lanes=i,e;case Wg:return yl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ug:o=10;break e;case zg:o=9;break e;case Sd:o=11;break e;case Nd:o=14;break e;case In:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Et(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Er(e,t,n,r){return e=Et(7,e,r,t),e.lanes=n,e}function yl(e,t,n,r){return e=Et(22,e,r,t),e.elementType=Wg,e.lanes=n,e.stateNode={isHidden:!1},e}function dc(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function fc(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lf(e,t,n,r,s,i,o,l,c){return e=new h2(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Et(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wd(i),e}function p2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $y(e){if(!e)return tr;e=e._reactInternals;e:{if(Vr(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(at(n))return $0(e,n,t)}return t}function Fy(e,t,n,r,s,i,o,l,c){return e=lf(n,r,!0,e,s,i,o,l,c),e.context=$y(null),n=e.current,r=Ze(),s=Xn(n),i=wn(r,s),i.callback=t??null,qn(n,i,s),e.current.lanes=s,io(e,s,r),lt(e,r),e}function xl(e,t,n,r){var s=t.current,i=Ze(),o=Xn(s);return n=$y(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qn(s,t,o),e!==null&&(zt(e,s,o,i),sa(e,s,o)),o}function Ua(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cf(e,t){kp(e,t),(e=e.alternate)&&kp(e,t)}function m2(){return null}var Dy=typeof reportError=="function"?reportError:function(e){console.error(e)};function uf(e){this._internalRoot=e}vl.prototype.render=uf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));xl(e,t,null,null)};vl.prototype.unmount=uf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$r(function(){xl(null,e,null,null)}),t[jn]=null}};function vl(e){this._internalRoot=e}vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=p0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fn.length&&t!==0&&t<Fn[n].priority;n++);Fn.splice(n,0,e),n===0&&g0(e)}};function df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jp(){}function g2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ua(o);i.call(u)}}var o=Fy(t,r,e,0,null,!1,!1,"",jp);return e._reactRootContainer=o,e[jn]=o.current,Oi(e.nodeType===8?e.parentNode:e),$r(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Ua(c);l.call(u)}}var c=lf(e,0,!1,null,null,!1,!1,"",jp);return e._reactRootContainer=c,e[jn]=c.current,Oi(e.nodeType===8?e.parentNode:e),$r(function(){xl(t,c,n,r)}),c}function bl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ua(o);l.call(c)}}xl(t,o,e,s)}else o=g2(n,t,e,s,r);return Ua(o)}f0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ii(t.pendingLanes);n!==0&&(Pd(t,n|1),lt(t,je()),!(ee&6)&&(Is=je()+500,ir()))}break;case 13:$r(function(){var r=Cn(e,1);if(r!==null){var s=Ze();zt(r,e,1,s)}}),cf(e,1)}};Ld=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=Ze();zt(t,e,134217728,n)}cf(e,134217728)}};h0=function(e){if(e.tag===13){var t=Xn(e),n=Cn(e,t);if(n!==null){var r=Ze();zt(n,e,t,r)}cf(e,t)}};p0=function(){return se};m0=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};su=function(e,t,n){switch(t){case"input":if(Qc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=dl(r);if(!s)throw Error(L(90));Gg(r),Qc(r,s)}}}break;case"textarea":qg(e,n);break;case"select":t=n.value,t!=null&&vs(e,!!n.multiple,t,!1)}};t0=rf;n0=$r;var y2={usingClientEntryPoint:!1,Events:[ao,is,dl,Jg,e0,rf]},Js={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x2={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i0(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||m2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{al=_o.inject(x2),Jt=_o}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y2;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(t))throw Error(L(200));return p2(e,t,null,n)};vt.createRoot=function(e,t){if(!df(e))throw Error(L(299));var n=!1,r="",s=Dy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lf(e,1,!1,null,null,n,!1,r,s),e[jn]=t.current,Oi(e.nodeType===8?e.parentNode:e),new uf(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=i0(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return $r(e)};vt.hydrate=function(e,t,n){if(!wl(t))throw Error(L(200));return bl(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!df(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Dy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Fy(t,null,e,1,n??null,s,!1,i,o),e[jn]=t.current,Oi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new vl(t)};vt.render=function(e,t,n){if(!wl(t))throw Error(L(200));return bl(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!wl(e))throw Error(L(40));return e._reactRootContainer?($r(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};vt.unstable_batchedUpdates=rf;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wl(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return bl(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function Oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oy)}catch(e){console.error(e)}}Oy(),Og.exports=vt;var _y=Og.exports,Cp=_y;Wc.createRoot=Cp.createRoot,Wc.hydrateRoot=Cp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ki.apply(this,arguments)}var Bn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bn||(Bn={}));const Sp="popstate";function v2(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=Br(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Du("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:za(i))}function r(s,i){ff(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return b2(t,n,r,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ff(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w2(){return Math.random().toString(36).substr(2,8)}function Np(e,t){return{usr:e.state,key:e.key,idx:t}}function Du(e,t,n,r){return n===void 0&&(n=null),Ki({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Br(t):t,{state:n,key:t&&t.key||r||w2()})}function za(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Br(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function b2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Bn.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ki({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Bn.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:m})}function h(b,m){l=Bn.Push;let y=Du(w.location,b,m);n&&n(y,b),u=d()+1;let x=Np(y,u),j=w.createHref(y);try{o.pushState(x,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}i&&c&&c({action:l,location:w.location,delta:1})}function g(b,m){l=Bn.Replace;let y=Du(w.location,b,m);n&&n(y,b),u=d();let x=Np(y,u),j=w.createHref(y);o.replaceState(x,"",j),i&&c&&c({action:l,location:w.location,delta:0})}function v(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:za(b);return y=y.replace(/ $/,"%20"),Ce(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let w={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Sp,f),c=b,()=>{s.removeEventListener(Sp,f),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let m=v(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:g,go(b){return o.go(b)}};return w}var Tp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tp||(Tp={}));function k2(e,t,n){return n===void 0&&(n="/"),j2(e,t,n)}function j2(e,t,n,r){let s=typeof t=="string"?Br(t):t,i=hf(s.pathname||"/",n);if(i==null)return null;let o=Vy(e);C2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=F2(i);l=R2(o[c],u)}return l}function Vy(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ce(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Zn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Ce(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vy(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:A2(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of By(i.path))s(i,o,c)}),t}function By(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=By(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function C2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:M2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const S2=/^:[\w-]+$/,N2=3,T2=2,E2=1,P2=10,L2=-2,Ep=e=>e==="*";function A2(e,t){let n=e.split("/"),r=n.length;return n.some(Ep)&&(r+=L2),t&&(r+=T2),n.filter(s=>!Ep(s)).reduce((s,i)=>s+(S2.test(i)?N2:i===""?E2:P2),r)}function M2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function R2(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=I2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Zn([i,f.pathname]),pathnameBase:V2(Zn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Zn([i,f.pathnameBase]))}return o}function I2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function $2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ff(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function F2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ff(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function hf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function D2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Br(e):e;return{pathname:n?n.startsWith("/")?n:O2(n,t):t,search:B2(r),hash:U2(s)}}function O2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pf(e,t){let n=_2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Br(e):(s=Ki({},e),Ce(!s.pathname||!s.pathname.includes("?"),hc("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),hc("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),hc("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=D2(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Zn=e=>e.join("/").replace(/\/\/+/g,"/"),V2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,U2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function z2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Uy=["post","put","patch","delete"];new Set(Uy);const W2=["get",...Uy];new Set(W2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(this,arguments)}const gf=p.createContext(null),H2=p.createContext(null),or=p.createContext(null),kl=p.createContext(null),ln=p.createContext({outlet:null,matches:[],isDataRoute:!1}),zy=p.createContext(null);function G2(e,t){let{relative:n}=t===void 0?{}:t;Bs()||Ce(!1);let{basename:r,navigator:s}=p.useContext(or),{hash:i,pathname:o,search:l}=Hy(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Zn([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Bs(){return p.useContext(kl)!=null}function bt(){return Bs()||Ce(!1),p.useContext(kl).location}function Wy(e){p.useContext(or).static||p.useLayoutEffect(e)}function tt(){let{isDataRoute:e}=p.useContext(ln);return e?lk():K2()}function K2(){Bs()||Ce(!1);let e=p.useContext(gf),{basename:t,future:n,navigator:r}=p.useContext(or),{matches:s}=p.useContext(ln),{pathname:i}=bt(),o=JSON.stringify(pf(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Wy(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=mf(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Zn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}const q2=p.createContext(null);function Y2(e){let t=p.useContext(ln).outlet;return t&&p.createElement(q2.Provider,{value:e},t)}function X2(){let{matches:e}=p.useContext(ln),t=e[e.length-1];return t?t.params:{}}function Hy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(or),{matches:s}=p.useContext(ln),{pathname:i}=bt(),o=JSON.stringify(pf(s,r.v7_relativeSplatPath));return p.useMemo(()=>mf(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Q2(e,t){return Z2(e,t)}function Z2(e,t,n,r){Bs()||Ce(!1);let{navigator:s}=p.useContext(or),{matches:i}=p.useContext(ln),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=bt(),d;if(t){var f;let b=typeof t=="string"?Br(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Ce(!1),d=b}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=k2(e,{pathname:g}),w=rk(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Zn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Zn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&w?p.createElement(kl.Provider,{value:{location:qi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bn.Pop}},w):w}function J2(){let e=ak(),t=z2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const ek=p.createElement(J2,null);class tk extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(ln.Provider,{value:this.props.routeContext},p.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nk(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(gf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ln.Provider,{value:t},r)}function rk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ce(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let g,v=!1,w=null,b=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||ek,c&&(u<0&&h===0?(ck("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),y=()=>{let x;return g?x=w:v?x=b:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,p.createElement(nk,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(tk,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Gy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gy||{}),Ky=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ky||{});function sk(e){let t=p.useContext(gf);return t||Ce(!1),t}function ik(e){let t=p.useContext(H2);return t||Ce(!1),t}function ok(e){let t=p.useContext(ln);return t||Ce(!1),t}function qy(e){let t=ok(),n=t.matches[t.matches.length-1];return n.route.id||Ce(!1),n.route.id}function ak(){var e;let t=p.useContext(zy),n=ik(),r=qy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function lk(){let{router:e}=sk(Gy.UseNavigateStable),t=qy(Ky.UseNavigateStable),n=p.useRef(!1);return Wy(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qi({fromRouteId:t},i)))},[e,t])}const Pp={};function ck(e,t,n){Pp[e]||(Pp[e]=!0)}function uk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wa(e){let{to:t,replace:n,state:r,relative:s}=e;Bs()||Ce(!1);let{future:i,static:o}=p.useContext(or),{matches:l}=p.useContext(ln),{pathname:c}=bt(),u=tt(),d=mf(t,pf(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function dk(e){return Y2(e.context)}function _e(e){Ce(!1)}function fk(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Bn.Pop,navigator:i,static:o=!1,future:l}=e;Bs()&&Ce(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:qi({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Br(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,w=p.useMemo(()=>{let b=hf(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:v},navigationType:s}},[c,d,f,h,g,v,s]);return w==null?null:p.createElement(or.Provider,{value:u},p.createElement(kl.Provider,{children:n,value:w}))}function hk(e){let{children:t,location:n}=e;return Q2(Ou(t),n)}new Promise(()=>{});function Ou(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,Ou(r.props.children,i));return}r.type!==_e&&Ce(!1),!r.props.index||!r.props.children||Ce(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ou(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_u.apply(this,arguments)}function pk(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function mk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gk(e,t){return e.button===0&&(!t||t==="_self")&&!mk(e)}const yk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xk="6";try{window.__reactRouterVersion=xk}catch{}const vk="startTransition",Lp=Fg[vk];function wk(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=v2({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&Lp?Lp(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>uk(r),[r]),p.createElement(fk,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const bk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jl=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=pk(t,yk),{basename:g}=p.useContext(or),v,w=!1;if(typeof u=="string"&&kk.test(u)&&(v=u,bk))try{let x=new URL(window.location.href),j=u.startsWith("//")?new URL(x.protocol+u):new URL(u),k=hf(j.pathname,g);j.origin===x.origin&&k!=null?u=k+j.search+j.hash:w=!0}catch{}let b=G2(u,{relative:s}),m=jk(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(x){r&&r(x),x.defaultPrevented||m(x)}return p.createElement("a",_u({},h,{href:v||b,onClick:w||i?r:y,ref:n,target:c}))});var Ap;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ap||(Ap={}));var Mp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Mp||(Mp={}));function jk(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=tt(),u=bt(),d=Hy(e,{relative:o});return p.useCallback(f=>{if(gk(f,n)){f.preventDefault();let h=r!==void 0?r:za(u)===za(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}class yt extends Error{constructor(t){var n,r,s,i;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,yt.prototype),t!==null&&typeof t=="object"&&(this.url=typeof t.url=="string"?t.url:"",this.status=typeof t.status=="number"?t.status:0,this.isAbort=!!t.isAbort,this.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?this.response=t.response:t.data!==null&&typeof t.data=="object"?this.response=t.data:this.response={}),this.originalError||t instanceof yt||(this.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(n=this.response)==null?void 0:n.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(i=(s=(r=this.originalError)==null?void 0:r.cause)==null?void 0:s.message)!=null&&i.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Vo=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ck(e,t){const n={};if(typeof e!="string")return n;const r=Object.assign({},{}).decode||Sk;let s=0;for(;s<e.length;){const i=e.indexOf("=",s);if(i===-1)break;let o=e.indexOf(";",s);if(o===-1)o=e.length;else if(o<i){s=e.lastIndexOf(";",i-1)+1;continue}const l=e.slice(s,i).trim();if(n[l]===void 0){let c=e.slice(i+1,o).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1));try{n[l]=r(c)}catch{n[l]=c}}s=o+1}return n}function Rp(e,t,n){const r=Object.assign({},n||{}),s=r.encode||Nk;if(!Vo.test(e))throw new TypeError("argument name is invalid");const i=s(t);if(i&&!Vo.test(i))throw new TypeError("argument val is invalid");let o=e+"="+i;if(r.maxAge!=null){const l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(l)}if(r.domain){if(!Vo.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!Vo.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function Sk(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function Nk(e){return encodeURIComponent(e)}const Tk=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Yy;function Ss(e){if(e)try{const t=decodeURIComponent(Yy(e.split(".")[1]).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function Xy(e,t=0){let n=Ss(e);return!(Object.keys(n).length>0&&(!n.exp||n.exp-t>Date.now()/1e3))}Yy=typeof atob!="function"||Tk?e=>{let t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,s=0,i=0,o="";r=t.charAt(i++);~r&&(n=s%4?64*n+r:r,s++%4)?o+=String.fromCharCode(255&n>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o}:atob;const Ip="pb_auth";class Ek{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!Xy(this.token)}get isAdmin(){return Ss(this.token).type==="admin"}get isAuthRecord(){return Ss(this.token).type==="authRecord"}save(t,n){this.baseToken=t||"",this.baseModel=n||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(t,n=Ip){const r=Ck(t||"")[n]||"";let s={};try{s=JSON.parse(r),(typeof s===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||null)}exportToCookie(t,n=Ip){var c,u;const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Ss(this.token);r.expires=s!=null&&s.exp?new Date(1e3*s.exp):new Date("1970-01-01"),t=Object.assign({},r,t);const i={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let o=Rp(n,JSON.stringify(i),t);const l=typeof Blob<"u"?new Blob([o]).size:o.length;if(i.model&&l>4096){i.model={id:(c=i==null?void 0:i.model)==null?void 0:c.id,email:(u=i==null?void 0:i.model)==null?void 0:u.email};const d=["collectionId","username","verified"];for(const f in this.model)d.includes(f)&&(i.model[f]=this.model[f]);o=Rp(n,JSON.stringify(i),t)}return o}onChange(t,n=!1){return this._onChangeCallbacks.push(t),n&&t(this.token,this.model),()=>{for(let r=this._onChangeCallbacks.length-1;r>=0;r--)if(this._onChangeCallbacks[r]==t)return delete this._onChangeCallbacks[r],void this._onChangeCallbacks.splice(r,1)}}triggerChange(){for(const t of this._onChangeCallbacks)t&&t(this.token,this.model)}}class Pk extends Ek{constructor(t="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=t,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(t,n){this._storageSet(this.storageKey,{token:t,model:n}),super.save(t,n)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){const n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]}_storageSet(t,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){let r=n;typeof n!="string"&&(r=JSON.stringify(n)),window.localStorage.setItem(t,r)}else this.storageFallback[t]=n}_storageRemove(t){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)==null||n.removeItem(t)),delete this.storageFallback[t]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",t=>{if(t.key!=this.storageKey)return;const n=this._storageGet(this.storageKey)||{};super.save(n.token||"",n.model||null)})}}class Ur{constructor(t){this.client=t}}class Lk extends Ur{async getAll(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/settings",t)}async update(t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send("/api/settings",n)}async testS3(t="storage",n){return n=Object.assign({method:"POST",body:{filesystem:t}},n),this.client.send("/api/settings/test/s3",n).then(()=>!0)}async testEmail(t,n,r){return r=Object.assign({method:"POST",body:{email:t,template:n}},r),this.client.send("/api/settings/test/email",r).then(()=>!0)}async generateAppleClientSecret(t,n,r,s,i,o){return o=Object.assign({method:"POST",body:{clientId:t,teamId:n,keyId:r,privateKey:s,duration:i}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}class yf extends Ur{decode(t){return t}async getFullList(t,n){if(typeof t=="number")return this._getFullList(t,n);let r=500;return(n=Object.assign({},t,n)).batch&&(r=n.batch,delete n.batch),this._getFullList(r,n)}async getList(t=1,n=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:t,perPage:n},r.query),this.client.send(this.baseCrudPath,r).then(s=>{var i;return s.items=((i=s.items)==null?void 0:i.map(o=>this.decode(o)))||[],s})}async getFirstListItem(t,n){return(n=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+t},n)).query=Object.assign({filter:t,skipTotal:1},n.query),this.getList(1,1,n).then(r=>{var s;if(!((s=r==null?void 0:r.items)!=null&&s.length))throw new yt({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})}async getOne(t,n){if(!t)throw new yt({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return n=Object.assign({method:"GET"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(r=>this.decode(r))}async create(t,n){return n=Object.assign({method:"POST",body:t},n),this.client.send(this.baseCrudPath,n).then(r=>this.decode(r))}async update(t,n,r){return r=Object.assign({method:"PATCH",body:n},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),r).then(s=>this.decode(s))}async delete(t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(()=>!0)}_getFullList(t=500,n){(n=n||{}).query=Object.assign({skipTotal:1},n.query);let r=[],s=async i=>this.getList(i,t||500,n).then(o=>{const l=o.items;return r=r.concat(l),l.length==o.perPage?s(i+1):r});return s(1)}}function ft(e,t,n,r){const s=r!==void 0;return s||n!==void 0?s?(console.warn(e),t.body=Object.assign({},t.body,n),t.query=Object.assign({},t.query,r),t):Object.assign(t,n):t}function pc(e){var t;(t=e._resetAutoRefresh)==null||t.call(e)}class Ak extends yf{get baseCrudPath(){return"/api/admins"}async update(t,n,r){return super.update(t,n,r).then(s=>{var i,o;return((i=this.client.authStore.model)==null?void 0:i.id)===s.id&&((o=this.client.authStore.model)==null?void 0:o.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,s),s})}async delete(t,n){return super.delete(t,n).then(r=>{var s,i;return r&&((s=this.client.authStore.model)==null?void 0:s.id)===t&&((i=this.client.authStore.model)==null?void 0:i.collectionId)===void 0&&this.client.authStore.clear(),r})}authResponse(t){const n=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})}async authWithPassword(t,n,r,s){let i={method:"POST",body:{identity:t,password:n}};i=ft("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",i,r,s);const o=i.autoRefreshThreshold;delete i.autoRefreshThreshold,i.autoRefresh||pc(this.client);let l=await this.client.send(this.baseCrudPath+"/auth-with-password",i);return l=this.authResponse(l),o&&function(u,d,f,h){pc(u);const g=u.beforeSend,v=u.authStore.model,w=u.authStore.onChange((b,m)=>{(!b||(m==null?void 0:m.id)!=(v==null?void 0:v.id)||(m!=null&&m.collectionId||v!=null&&v.collectionId)&&(m==null?void 0:m.collectionId)!=(v==null?void 0:v.collectionId))&&pc(u)});u._resetAutoRefresh=function(){w(),u.beforeSend=g,delete u._resetAutoRefresh},u.beforeSend=async(b,m)=>{var k;const y=u.authStore.token;if((k=m.query)!=null&&k.autoRefresh)return g?g(b,m):{url:b,sendOptions:m};let x=u.authStore.isValid;if(x&&Xy(u.authStore.token,d))try{await f()}catch{x=!1}x||await h();const j=m.headers||{};for(let S in j)if(S.toLowerCase()=="authorization"&&y==j[S]&&u.authStore.token){j[S]=u.authStore.token;break}return m.headers=j,g?g(b,m):{url:b,sendOptions:m}}}(this.client,o,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(t,n,Object.assign({autoRefresh:!0},i))),l}async authRefresh(t,n){let r={method:"POST"};return r=ft("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,t,n),this.client.send(this.baseCrudPath+"/auth-refresh",r).then(this.authResponse.bind(this))}async requestPasswordReset(t,n,r){let s={method:"POST",body:{email:t}};return s=ft("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,n,r),this.client.send(this.baseCrudPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(t,n,r,s,i){let o={method:"POST",body:{token:t,password:n,passwordConfirm:r}};return o=ft("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",o,s,i),this.client.send(this.baseCrudPath+"/confirm-password-reset",o).then(()=>!0)}}const Mk=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function Qy(e){if(e){e.query=e.query||{};for(let t in e)Mk.includes(t)||(e.query[t]=e[t],delete e[t])}}class Zy extends Ur{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(t,n,r){var o;if(!t)throw new Error("topic must be set.");let s=t;if(r){Qy(r=Object.assign({},r));const l="options="+encodeURIComponent(JSON.stringify({query:r.query,headers:r.headers}));s+=(s.includes("?")?"&":"?")+l}const i=function(l){const c=l;let u;try{u=JSON.parse(c==null?void 0:c.data)}catch{}n(u||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(i),this.isConnected?this.subscriptions[s].length===1?await this.submitSubscriptions():(o=this.eventSource)==null||o.addEventListener(s,i):await this.connect(),async()=>this.unsubscribeByTopicAndListener(t,i)}async unsubscribe(t){var r;let n=!1;if(t){const s=this.getSubscriptionsByTopic(t);for(let i in s)if(this.hasSubscriptionListeners(i)){for(let o of this.subscriptions[i])(r=this.eventSource)==null||r.removeEventListener(i,o);delete this.subscriptions[i],n||(n=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(t){var r;let n=!1;for(let s in this.subscriptions)if((s+"?").startsWith(t)){n=!0;for(let i of this.subscriptions[s])(r=this.eventSource)==null||r.removeEventListener(s,i);delete this.subscriptions[s]}n&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(t,n){var i;let r=!1;const s=this.getSubscriptionsByTopic(t);for(let o in s){if(!Array.isArray(this.subscriptions[o])||!this.subscriptions[o].length)continue;let l=!1;for(let c=this.subscriptions[o].length-1;c>=0;c--)this.subscriptions[o][c]===n&&(l=!0,delete this.subscriptions[o][c],this.subscriptions[o].splice(c,1),(i=this.eventSource)==null||i.removeEventListener(o,n));l&&(this.subscriptions[o].length||delete this.subscriptions[o],r||this.hasSubscriptionListeners(o)||(r=!0))}this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(t){var n,r;if(this.subscriptions=this.subscriptions||{},t)return!!((n=this.subscriptions[t])!=null&&n.length);for(let s in this.subscriptions)if((r=this.subscriptions[s])!=null&&r.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(t=>{if(!(t!=null&&t.isAbort))throw t})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(t){const n={};t=t.includes("?")?t:t+"?";for(let r in this.subscriptions)(r+"?").startsWith(t)&&(n[r]=this.subscriptions[r]);return n}getNonEmptySubscriptionKeys(){const t=[];for(let n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let t in this.subscriptions)for(let n of this.subscriptions[t])this.eventSource.addEventListener(t,n)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let t in this.subscriptions)for(let n of this.subscriptions[t])this.eventSource.removeEventListener(t,n)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((t,n)=>{this.pendingConnects.push({resolve:t,reject:n}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=t=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",t=>{const n=t;this.clientId=n==null?void 0:n.lastEventId,this.submitSubscriptions().then(async()=>{let r=3;for(;this.hasUnsentSubscriptions()&&r>0;)r--,await this.submitSubscriptions()}).then(()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const r=this.getSubscriptionsByTopic("PB_CONNECT");for(let s in r)for(let i of r[s])i(t)}).catch(r=>{this.clientId="",this.connectErrorHandler(r)})})}hasUnsentSubscriptions(){const t=this.getNonEmptySubscriptionKeys();if(t.length!=this.lastSentSubscriptions.length)return!0;for(const n of t)if(!this.lastSentSubscriptions.includes(n))return!0;return!1}connectErrorHandler(t){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let r of this.pendingConnects)r.reject(new yt(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const n=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},n)}disconnect(t=!1){var n;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(n=this.eventSource)==null||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[]}}}class Rk extends yf{constructor(t,n){super(t),this.collectionIdOrName=n}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(t,n,r){if(!t)throw new Error("Missing topic.");if(!n)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n,r)}async unsubscribe(t){return t?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(t,n){if(typeof t=="number")return super.getFullList(t,n);const r=Object.assign({},t,n);return super.getFullList(r)}async getList(t=1,n=30,r){return super.getList(t,n,r)}async getFirstListItem(t,n){return super.getFirstListItem(t,n)}async getOne(t,n){return super.getOne(t,n)}async create(t,n){return super.create(t,n)}async update(t,n,r){return super.update(t,n,r).then(s=>{var i,o,l;return((i=this.client.authStore.model)==null?void 0:i.id)!==(s==null?void 0:s.id)||((o=this.client.authStore.model)==null?void 0:o.collectionId)!==this.collectionIdOrName&&((l=this.client.authStore.model)==null?void 0:l.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,s),s})}async delete(t,n){return super.delete(t,n).then(r=>{var s,i,o;return!r||((s=this.client.authStore.model)==null?void 0:s.id)!==t||((i=this.client.authStore.model)==null?void 0:i.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),r})}authResponse(t){const n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})}async listAuthMethods(t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCollectionPath+"/auth-methods",t).then(n=>Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]}))}async authWithPassword(t,n,r,s){let i={method:"POST",body:{identity:t,password:n}};return i=ft("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",i,r,s),this.client.send(this.baseCollectionPath+"/auth-with-password",i).then(o=>this.authResponse(o))}async authWithOAuth2Code(t,n,r,s,i,o,l){let c={method:"POST",body:{provider:t,code:n,codeVerifier:r,redirectUrl:s,createData:i}};return c=ft("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",c,o,l),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",c).then(u=>this.authResponse(u))}authWithOAuth2(...t){if(t.length>1||typeof(t==null?void 0:t[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{});const n=(t==null?void 0:t[0])||{};let r=null;n.urlCallback||(r=$p(void 0));const s=new Zy(this.client);function i(){r==null||r.close(),s.unsubscribe()}const o={},l=n.requestKey;return l&&(o.requestKey=l),this.listAuthMethods(o).then(c=>{var h;const u=c.authProviders.find(g=>g.name===n.provider);if(!u)throw new yt(new Error(`Missing or invalid provider "${n.provider}".`));const d=this.client.buildUrl("/api/oauth2-redirect"),f=l?(h=this.client.cancelControllers)==null?void 0:h[l]:void 0;return f&&(f.signal.onabort=()=>{i()}),new Promise(async(g,v)=>{var w;try{await s.subscribe("@oauth2",async x=>{var k;const j=s.clientId;try{if(!x.state||j!==x.state)throw new Error("State parameters don't match.");if(x.error||!x.code)throw new Error("OAuth2 redirect error or missing code: "+x.error);const S=Object.assign({},n);delete S.provider,delete S.scopes,delete S.createData,delete S.urlCallback,(k=f==null?void 0:f.signal)!=null&&k.onabort&&(f.signal.onabort=null);const C=await this.authWithOAuth2Code(u.name,x.code,u.codeVerifier,d,n.createData,S);g(C)}catch(S){v(new yt(S))}i()});const b={state:s.clientId};(w=n.scopes)!=null&&w.length&&(b.scope=n.scopes.join(" "));const m=this._replaceQueryParams(u.authUrl+d,b);await(n.urlCallback||function(x){r?r.location.href=x:r=$p(x)})(m)}catch(b){i(),v(new yt(b))}})}).catch(c=>{throw i(),c})}async authRefresh(t,n){let r={method:"POST"};return r=ft("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,t,n),this.client.send(this.baseCollectionPath+"/auth-refresh",r).then(s=>this.authResponse(s))}async requestPasswordReset(t,n,r){let s={method:"POST",body:{email:t}};return s=ft("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(t,n,r,s,i){let o={method:"POST",body:{token:t,password:n,passwordConfirm:r}};return o=ft("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,s,i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}async requestVerification(t,n,r){let s={method:"POST",body:{email:t}};return s=ft("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-verification",s).then(()=>!0)}async confirmVerification(t,n,r){let s={method:"POST",body:{token:t}};return s=ft("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then(()=>{const i=Ss(t),o=this.client.authStore.model;return o&&!o.verified&&o.id===i.id&&o.collectionId===i.collectionId&&(o.verified=!0,this.client.authStore.save(this.client.authStore.token,o)),!0})}async requestEmailChange(t,n,r){let s={method:"POST",body:{newEmail:t}};return s=ft("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-email-change",s).then(()=>!0)}async confirmEmailChange(t,n,r,s){let i={method:"POST",body:{token:t,password:n}};return i=ft("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",i,r,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",i).then(()=>{const o=Ss(t),l=this.client.authStore.model;return l&&l.id===o.id&&l.collectionId===o.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(t,n){return n=Object.assign({method:"GET"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",n)}async unlinkExternalAuth(t,n,r){return r=Object.assign({method:"DELETE"},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),r).then(()=>!0)}_replaceQueryParams(t,n={}){let r=t,s="";t.indexOf("?")>=0&&(r=t.substring(0,t.indexOf("?")),s=t.substring(t.indexOf("?")+1));const i={},o=s.split("&");for(const l of o){if(l=="")continue;const c=l.split("=");i[decodeURIComponent(c[0].replace(/\+/g," "))]=decodeURIComponent((c[1]||"").replace(/\+/g," "))}for(let l in n)n.hasOwnProperty(l)&&(n[l]==null?delete i[l]:i[l]=n[l]);s="";for(let l in i)i.hasOwnProperty(l)&&(s!=""&&(s+="&"),s+=encodeURIComponent(l.replace(/%20/g,"+"))+"="+encodeURIComponent(i[l].replace(/%20/g,"+")));return s!=""?r+"?"+s:r}}function $p(e){if(typeof window>"u"||!(window!=null&&window.open))throw new yt(new Error("Not in a browser context - please pass a custom urlCallback function."));let t=1024,n=768,r=window.innerWidth,s=window.innerHeight;t=t>r?r:t,n=n>s?s:n;let i=r/2-t/2,o=s/2-n/2;return window.open(e,"popup_window","width="+t+",height="+n+",top="+o+",left="+i+",resizable,menubar=no")}class Ik extends yf{get baseCrudPath(){return"/api/collections"}async import(t,n=!1,r){return r=Object.assign({method:"PUT",body:{collections:t,deleteMissing:n}},r),this.client.send(this.baseCrudPath+"/import",r).then(()=>!0)}}class $k extends Ur{async getList(t=1,n=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:t,perPage:n},r.query),this.client.send("/api/logs",r)}async getOne(t,n){if(!t)throw new yt({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return n=Object.assign({method:"GET"},n),this.client.send("/api/logs/"+encodeURIComponent(t),n)}async getStats(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/stats",t)}}class Fk extends Ur{async check(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/health",t)}}class Dk extends Ur{getUrl(t,n,r={}){if(!n||!(t!=null&&t.id)||!(t!=null&&t.collectionId)&&!(t!=null&&t.collectionName))return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(t.collectionId||t.collectionName)),s.push(encodeURIComponent(t.id)),s.push(encodeURIComponent(n));let i=this.client.buildUrl(s.join("/"));if(Object.keys(r).length){r.download===!1&&delete r.download;const o=new URLSearchParams(r);i+=(i.includes("?")?"&":"?")+o}return i}async getToken(t){return t=Object.assign({method:"POST"},t),this.client.send("/api/files/token",t).then(n=>(n==null?void 0:n.token)||"")}}class Ok extends Ur{async getFullList(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/backups",t)}async create(t,n){return n=Object.assign({method:"POST",body:{name:t}},n),this.client.send("/api/backups",n).then(()=>!0)}async upload(t,n){return n=Object.assign({method:"POST",body:t},n),this.client.send("/api/backups/upload",n).then(()=>!0)}async delete(t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(`/api/backups/${encodeURIComponent(t)}`,n).then(()=>!0)}async restore(t,n){return n=Object.assign({method:"POST"},n),this.client.send(`/api/backups/${encodeURIComponent(t)}/restore`,n).then(()=>!0)}getDownloadUrl(t,n){return this.client.buildUrl(`/api/backups/${encodeURIComponent(n)}?token=${encodeURIComponent(t)}`)}}class _k{constructor(t="/",n,r="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=r,this.authStore=n||new Pk,this.admins=new Ak(this),this.collections=new Ik(this),this.files=new Dk(this),this.logs=new $k(this),this.settings=new Lk(this),this.realtime=new Zy(this),this.health=new Fk(this),this.backups=new Ok(this)}collection(t){return this.recordServices[t]||(this.recordServices[t]=new Rk(this,t)),this.recordServices[t]}autoCancellation(t){return this.enableAutoCancellation=!!t,this}cancelRequest(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this}cancelAllRequests(){for(let t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this}filter(t,n){if(!n)return t;for(let r in n){let s=n[r];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=s===null?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}t=t.replaceAll("{:"+r+"}",s)}return t}getFileUrl(t,n,r={}){return this.files.getUrl(t,n,r)}buildUrl(t){var r;let n=this.baseUrl;return typeof window>"u"||!window.location||n.startsWith("https://")||n.startsWith("http://")||(n=(r=window.location.origin)!=null&&r.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(n+=window.location.pathname||"/",n+=n.endsWith("/")?"":"/"),n+=this.baseUrl),t&&(n+=n.endsWith("/")?"":"/",n+=t.startsWith("/")?t.substring(1):t),n}async send(t,n){n=this.initSendOptions(t,n);let r=this.buildUrl(t);if(this.beforeSend){const s=Object.assign({},await this.beforeSend(r,n));s.url!==void 0||s.options!==void 0?(r=s.url||r,n=s.options||n):Object.keys(s).length&&(n=s,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(n.query!==void 0){const s=this.serializeQueryParams(n.query);s&&(r+=(r.includes("?")?"&":"?")+s),delete n.query}return this.getHeader(n.headers,"Content-Type")=="application/json"&&n.body&&typeof n.body!="string"&&(n.body=JSON.stringify(n.body)),(n.fetch||fetch)(r,n).then(async s=>{let i={};try{i=await s.json()}catch{}if(this.afterSend&&(i=await this.afterSend(s,i)),s.status>=400)throw new yt({url:s.url,status:s.status,data:i});return i}).catch(s=>{throw new yt(s)})}initSendOptions(t,n){if((n=Object.assign({method:"GET"},n)).body=this.convertToFormDataIfNeeded(n.body),Qy(n),n.query=Object.assign({},n.params,n.query),n.requestKey===void 0&&(n.$autoCancel===!1||n.query.$autoCancel===!1?n.requestKey=null:(n.$cancelKey||n.query.$cancelKey)&&(n.requestKey=n.$cancelKey||n.query.$cancelKey)),delete n.$autoCancel,delete n.query.$autoCancel,delete n.$cancelKey,delete n.query.$cancelKey,this.getHeader(n.headers,"Content-Type")!==null||this.isFormData(n.body)||(n.headers=Object.assign({},n.headers,{"Content-Type":"application/json"})),this.getHeader(n.headers,"Accept-Language")===null&&(n.headers=Object.assign({},n.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(n.headers,"Authorization")===null&&(n.headers=Object.assign({},n.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&n.requestKey!==null){const r=n.requestKey||(n.method||"GET")+t;delete n.requestKey,this.cancelRequest(r);const s=new AbortController;this.cancelControllers[r]=s,n.signal=s.signal}return n}convertToFormDataIfNeeded(t){if(typeof FormData>"u"||t===void 0||typeof t!="object"||t===null||this.isFormData(t)||!this.hasBlobField(t))return t;const n=new FormData;for(const r in t){const s=t[r];if(typeof s!="object"||this.hasBlobField({data:s})){const i=Array.isArray(s)?s:[s];for(let o of i)n.append(r,o)}else{let i={};i[r]=s,n.append("@jsonPayload",JSON.stringify(i))}}return n}hasBlobField(t){for(const n in t){const r=Array.isArray(t[n])?t[n]:[t[n]];for(const s of r)if(typeof Blob<"u"&&s instanceof Blob||typeof File<"u"&&s instanceof File)return!0}return!1}getHeader(t,n){t=t||{},n=n.toLowerCase();for(let r in t)if(r.toLowerCase()==n)return t[r];return null}isFormData(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)}serializeQueryParams(t){const n=[];for(const r in t){if(t[r]===null)continue;const s=t[r],i=encodeURIComponent(r);if(Array.isArray(s))for(const o of s)n.push(i+"="+encodeURIComponent(o));else s instanceof Date?n.push(i+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?n.push(i+"="+encodeURIComponent(JSON.stringify(s))):n.push(i+"="+encodeURIComponent(s))}return n.join("&")}}const Vk="https://casdatabase.ru",G=new _k(Vk);G.authStore.loadFromCookie(document.cookie);G.authStore.onChange(()=>{document.cookie=G.authStore.exportToCookie({httpOnly:!1})});var Ha=(e=>(e.SUCCESS="SUCCESS",e.WRONG_CREDENTIALS="WRONG_CREDENTIALS",e.ERROR="ERROR",e))(Ha||{});const Jy=p.createContext(void 0),Bk=e=>e?{id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?G.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:e.is_blocked||!1,favorites:e.favorites||[]}:null;function Uk({children:e}){const[t,n]=p.useState(null),[r,s]=p.useState(!0),i=p.useCallback(()=>{G.authStore.clear()},[]);p.useEffect(()=>{const g=(w,b)=>{const m=Bk(b);m&&m.isBlocked?i():n(m),s(!1)},v=G.authStore.onChange(g,!0);return()=>v()},[i]);const o=async(g,v)=>{try{const w=g.toLowerCase();return await G.collection("users").authWithPassword(w,v),Ha.SUCCESS}catch{return Ha.WRONG_CREDENTIALS}},l=async(g,v,w,b)=>{var m,y,x,j,k,S,C;try{return await G.collection("users").create({username:g.toLowerCase(),email:w.toLowerCase(),nickname:v,password:b,passwordConfirm:b,role:"user"}),await o(g.toLowerCase(),b),{success:!0,message:"Регистрация успешна!"}}catch(T){console.error("Register error:",T.response);const M=((m=T.response)==null?void 0:m.data)||{};return(x=(y=M==null?void 0:M.username)==null?void 0:y.message)!=null&&x.includes("must be unique")?{success:!1,message:"Этот логин уже зарегистрирован."}:(k=(j=M==null?void 0:M.email)==null?void 0:j.message)!=null&&k.includes("must be unique")?{success:!1,message:"Эта почта уже зарегистрирована."}:(C=(S=M==null?void 0:M.nickname)==null?void 0:S.message)!=null&&C.includes("must be unique")?{success:!1,message:"Этот никнейм уже занят."}:{success:!1,message:"Неизвестная ошибка регистрации."}}},c=async g=>{var v,w;if(!t)return{success:!1,message:"Пользователь не авторизован."};try{const b=new FormData;g.nickname&&g.nickname!==t.nickname&&b.append("nickname",g.nickname),g.email&&g.email!==t.email&&b.append("email",g.email.toLowerCase()),g.password&&g.oldPassword&&(b.append("password",g.password),b.append("passwordConfirm",g.password),b.append("oldPassword",g.oldPassword)),g.avatarFile instanceof File?b.append("avatar",g.avatarFile):g.avatarFile===null&&b.append("avatar","");const m=await G.collection("users").update(t.id,b);return await G.collection("users").authRefresh(),{success:!0,message:"Профиль успешно обновлен."}}catch(b){return(w=(v=b.response)==null?void 0:v.data)!=null&&w.oldPassword?{success:!1,message:"Неверный текущий пароль."}:{success:!1,message:"Ошибка обновления."}}},u=async g=>{if(!t)return;const v=t.favorites||[],w=v.includes(g)?v.filter(b=>b!==g):[...v,g];try{await G.collection("users").update(t.id,{favorites:w})}catch(b){console.error("Failed to update favorites:",b)}},d=async g=>{try{const v=g.toLowerCase(),w=`username = "${v}" || email = "${v}"`,b=await G.collection("users").getFirstListItem(w,{$autoCancel:!1});return(b==null?void 0:b.is_blocked)||!1}catch{return!1}},f=(t==null?void 0:t.role)==="admin",h={user:t,loading:r,login:o,register:l,logout:i,updateProfile:c,isAdmin:f,toggleFavorite:u,isUserBlocked:d};return a.jsx(Jy.Provider,{value:h,children:e})}const de=()=>{const e=p.useContext(Jy);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ex=p.createContext(void 0),co=e=>({...e,id:e.id,createdAt:new Date(e.created),updatedAt:new Date(e.updated)}),mc=e=>({...co(e),photo:e.photo?G.getFileUrl(e,e.photo):"",tags:e.tags||[],category:e.category||[],dominantColor:e.dominantColor||"",links:Array.isArray(e.links)?e.links:[]}),zk=e=>({id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?G.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:e.is_blocked||!1,favorites:e.favorites||[]}),gc=e=>({...co(e),image:e.image?G.getFileUrl(e,e.image):"",actionButtons:Array.isArray(e.actionButtons)?e.actionButtons:[]}),Bo=e=>{var r,s,i,o;const t=e.files||[],n=Array.isArray(t)?t:[t];return{...co(e),userId:((s=(r=e.expand)==null?void 0:r.user_id)==null?void 0:s.id)||e.user_id,userName:((o=(i=e.expand)==null?void 0:i.user_id)==null?void 0:o.nickname)||e.userName,files:n.length>0?n.map(l=>G.getFileUrl(e,l)):[]}},Fp=e=>({...co(e),image:e.image?G.getFileUrl(e,e.image):void 0}),yc=e=>({...co(e),image:e.image?G.getFileUrl(e,e.image):void 0});function Wk({children:e}){const[t,n]=p.useState([]),[r,s]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,h]=p.useState([]),[g,v]=p.useState(!0),[w,b]=p.useState(!0),[m,y]=p.useState(!1),[x,j]=p.useState(!1),[k,S]=p.useState({search:"",gender:"all",ageGroup:"all",sortBy:"newest",includeTags:[],excludeTags:[],includeCategories:[],excludeCategories:[]}),{user:C,isAdmin:T,toggleFavorite:M}=de(),N=p.useRef(!1),D=p.useCallback(async()=>{b(!0);try{const R=await G.collection("characters").getFullList({sort:"-created",$autoCancel:!1});n(R.map(mc))}catch(R){console.error("Char loading failed:",R)}finally{b(!1)}},[]),V=p.useCallback(async()=>{y(!0);try{const R=await G.collection("users").getFullList({sort:"-created",$autoCancel:!1});s(R.map(zk))}catch(R){console.error("Failed to load users",R)}finally{y(!1)}},[]),F=p.useCallback(async()=>{j(!0);try{const R=await G.collection("shop_items").getFullList({sort:"-created",$autoCancel:!1});o(R.map(gc))}catch(R){console.error("Failed to load shop items",R)}finally{j(!1)}},[]),te=p.useCallback(async()=>{try{const R=await G.collection("messages").getFullList({sort:"-created",$autoCancel:!1,expand:"user_id"});c(R.map(Bo))}catch(R){console.error("Failed to load messages",R)}},[]),fe=p.useCallback(async()=>{if(C)try{const R=await G.collection("notifications").getFullList({filter:`recipientId = "${C.id}"`,sort:"-created",$autoCancel:!1});d(R.map(Fp))}catch(R){console.error("Failed to load notifications",R)}},[C]),Fe=p.useCallback(async()=>{try{const R=await G.collection("newsletters").getFullList({sort:"-created",$autoCancel:!1});h(R.map(yc))}catch(R){console.error("Failed to load newsletters",R)}},[]);p.useEffect(()=>N.current?void 0:(N.current=!0,(async()=>{const z=[D(),V(),fe(),Fe(),te()];await Promise.allSettled(z),v(!1)})(),G.collection("messages").subscribe("*",()=>{te()}),()=>{G.collection("messages").unsubscribe("*")}),[D,V,fe,Fe,te]);const Q=p.useCallback(async R=>{try{return await G.collection("notifications").create(R,{$autoCancel:!1}),!0}catch(z){return console.error("Error adding notification:",z),!1}},[]),A=p.useCallback(async R=>{try{const z=await G.collection("notifications").update(R,{isRead:!0});return d(Y=>Y.map(De=>De.id===R?Fp(z):De)),!0}catch(z){return console.error("Error marking notification as read:",z),!1}},[]),P=p.useCallback(async(R,z)=>{try{return await G.collection("users").update(R,z),await V(),!0}catch(Y){return console.error("Failed to update user",Y),!1}},[V]),$=p.useCallback(async(R,z)=>{try{const Y=await G.collection("characters").update(R,z);return n(De=>De.map(Oe=>Oe.id===R?mc(Y):Oe)),!0}catch(Y){return console.error("Error updating character:",Y),!1}},[]),K=p.useCallback(async R=>{try{const z=await G.collection("characters").create(R);return n(Y=>[mc(z),...Y]),z}catch(z){return console.error("Error adding character:",z),!1}},[]),ne=p.useCallback(async R=>{try{return await G.collection("characters").delete(R),n(z=>z.filter(Y=>Y.id!==R)),!0}catch(z){return console.error("Error deleting character:",z),!1}},[]),U=p.useCallback(async R=>{try{const z=await G.collection("shop_items").create(R);o(Y=>[gc(z),...Y])}catch(z){console.error("Failed to add shop item",z)}},[]),le=p.useCallback(async(R,z)=>{try{const Y=await G.collection("shop_items").update(R,z);o(De=>De.map(Oe=>Oe.id===R?gc(Y):Oe))}catch(Y){console.error("Failed to update shop item",Y)}},[]),dt=p.useCallback(async R=>{try{await G.collection("shop_items").delete(R),o(z=>z.filter(Y=>Y.id!==R))}catch(z){console.error("Failed to delete shop item",z)}},[]),Rt=p.useCallback(async R=>{if(!C)return!1;try{const z=R.get("isTicket")==="true";R.append("user_id",C.id),R.append("userName",C.nickname),T?(R.append("isReadByAdmin","true"),R.append("isReadByUser","false")):(R.append("isReadByAdmin","false"),R.append("isReadByUser","true"));const Y=await G.collection("messages").create(R,{$autoCancel:!1,expand:"user_id"});c(dn=>[Bo(Y),...dn]);const De=R.get("parent"),Oe=[...l,Bo(Y)],un=De?Oe.find(dn=>dn.id===De):null;if(z&&!T){const dn=r.filter(fn=>fn.role==="admin");for(const fn of dn)await Q({recipientId:fn.id,senderId:C.id,senderName:C.nickname,type:"new_message",entityId:Y.id,message:`создал новый тикет: "${Y.subject}"`,isRead:!1})}else if(un)if(T)un.userId!==C.id&&await Q({recipientId:un.userId,senderId:C.id,senderName:"Поддержка",type:"support_reply",entityId:un.id,message:`ответил на ваш тикет: "${un.subject}"`,isRead:!1});else{const dn=r.filter(fn=>fn.role==="admin");for(const fn of dn)await Q({recipientId:fn.id,senderId:C.id,senderName:C.nickname,type:"support_reply",entityId:un.id,message:`ответил на тикет: "${un.subject}"`,isRead:!1})}return!0}catch(z){return console.error("Failed to add message:",z),!1}},[C,T,r,l,Q]),Kt=p.useCallback(async(R,z)=>{try{const Y=await G.collection("messages").update(R,z,{$autoCancel:!1});c(De=>De.map(Oe=>Oe.id===R?Bo(Y):Oe))}catch(Y){console.error("Failed to update message",Y)}},[]),Wr=p.useCallback(async R=>{try{const z=await G.collection("newsletters").create(R);return h(Y=>[yc(z),...Y].sort((De,Oe)=>Oe.createdAt.getTime()-De.createdAt.getTime())),!0}catch(z){return console.error("Failed to add newsletter:",z),!1}},[]),cr=p.useCallback(async(R,z)=>{try{const Y=await G.collection("newsletters").update(R,z);return h(De=>De.map(Oe=>Oe.id===R?yc(Y):Oe)),!0}catch(Y){return console.error("Failed to update newsletter:",Y),!1}},[]),U1=p.useCallback(async R=>{try{return await G.collection("newsletters").delete(R),h(z=>z.filter(Y=>Y.id!==R)),!0}catch(z){return console.error("Failed to delete newsletter:",z),!1}},[]),z1=p.useMemo(()=>t.filter(R=>{const z=(k.search||"").toLowerCase(),Y=!z||R.name.toLowerCase().includes(z)||(R.occupation||"").toLowerCase().includes(z)||(R.description||"").toLowerCase().includes(z),De=k.gender==="all"||R.gender===k.gender,Oe=k.ageGroup==="all"||R.ageGroup===k.ageGroup,un=k.includeTags.length===0||k.includeTags.every(ur=>(R.tags||[]).includes(ur)),dn=k.excludeTags.length===0||!k.excludeTags.some(ur=>(R.tags||[]).includes(ur)),fn=k.includeCategories.length===0||k.includeCategories.some(ur=>(R.category||[]).includes(ur)),H1=k.excludeCategories.length===0||!k.excludeCategories.some(ur=>(R.category||[]).includes(ur));return Y&&De&&Oe&&un&&dn&&fn&&H1}).sort((R,z)=>k.sortBy==="rating"?(z.rating||0)-(R.rating||0):k.sortBy==="name"?R.name.localeCompare(z.name):new Date(z.createdAt).getTime()-new Date(R.createdAt).getTime()),[t,k]),W1={loading:g,characters:t,users:r,shopItems:i,messages:l,notifications:u,newsletters:f,filters:k,setFilters:S,filteredCharacters:z1,charactersLoading:w,usersLoading:m,shopItemsLoading:x,updateCharacter:$,addCharacter:K,deleteCharacter:ne,loadCharacters:D,loadUsers:V,updateUser:P,loadShopItems:F,addShopItem:U,updateShopItem:le,deleteShopItem:dt,loadMessages:te,addMessage:Rt,updateMessage:Kt,toggleFavorite:M,addNotification:Q,markNotificationAsRead:A,loadNotifications:fe,loadNewsletters:Fe,addNewsletter:Wr,updateNewsletter:cr,deleteNewsletter:U1};return a.jsx(ex.Provider,{value:W1,children:e})}const $e=()=>{const e=p.useContext(ex);if(!e)throw new Error("useData must be used within a DataProvider");return e},tx={search:"",gender:"all",ageGroup:"all",sortBy:"rating"},nx=p.createContext({userCharacters:[],filters:tx,setFilters:()=>{},filteredUserCharacters:[],loading:!1,loadUserCharacters:async()=>{},addUserCharacter:async()=>!0,updateUserCharacter:async()=>!0,deleteUserCharacter:async()=>!0,approveUserCharacter:async()=>!0,rejectUserCharacter:async()=>!0}),Hk=({children:e})=>{const[t,n]=p.useState([]),[r,s]=p.useState(tx),[i]=p.useState(!1),o=p.useCallback(async()=>{},[]),l=p.useCallback(async v=>{try{if(!(v instanceof FormData)){const w={...v,id:Math.random().toString(36).slice(2),createdAt:new Date,status:"pending"};n(b=>[w,...b])}return!0}catch{return!1}},[]),c=p.useCallback(async(v,w)=>{try{return w instanceof FormData||n(b=>b.map(m=>m.id===v?{...m,...w}:m)),!0}catch{return!1}},[]),u=p.useCallback(async v=>{try{return n(w=>w.filter(b=>b.id!=v)),!0}catch{return!1}},[]),d=p.useCallback(async v=>{try{return n(w=>w.map(b=>b.id===v?{...b,status:"approved"}:b)),!0}catch{return!1}},[]),f=p.useCallback(async v=>{try{return n(w=>w.map(b=>b.id===v?{...b,status:"rejected"}:b)),!0}catch{return!1}},[]),h=p.useMemo(()=>{const v=r.search.toLowerCase();let w=[...t];return r.gender!=="all"&&(w=w.filter(b=>b.gender===r.gender)),r.ageGroup!=="all"&&(w=w.filter(b=>b.ageGroup===r.ageGroup)),v&&(w=w.filter(b=>(b.name||"").toLowerCase().includes(v))),r.sortBy==="name"&&w.sort((b,m)=>String(b.name||"").localeCompare(String(m.name||""))),r.sortBy==="newest"&&w.sort((b,m)=>+new Date(m.createdAt)-+new Date(b.createdAt)),w},[t,r]),g={userCharacters:t,filters:r,setFilters:s,filteredUserCharacters:h,loading:i,loadUserCharacters:o,addUserCharacter:l,updateUserCharacter:c,deleteUserCharacter:u,approveUserCharacter:d,rejectUserCharacter:f};return a.jsx(nx.Provider,{value:g,children:e})},rx=()=>p.useContext(nx),Gk=e=>({id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?G.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:e.is_blocked||!1,favorites:e.favorites||[]}),xc=e=>{var n,r,s,i,o;const t={...e,id:e.id,createdAt:new Date(e.created),characterId:e.character_id,userId:e.user_id,userName:e.userName,rating:e.rating,comment:e.comment,parentReview:e.parentReview,likesBy:((r=(n=e.expand)==null?void 0:n.likesBy)==null?void 0:r.map(l=>l.id))||[],dislikesBy:((i=(s=e.expand)==null?void 0:s.dislikesBy)==null?void 0:i.map(l=>l.id))||[]};return(o=e.expand)!=null&&o.user_id&&(t.author=Gk(e.expand.user_id)),t},sx=p.createContext(void 0);function Kk({children:e}){const[t,n]=p.useState([]),[r,s]=p.useState(!0),{user:i}=de(),{addNotification:o,loadNotifications:l}=$e(),c=p.useRef(!1),u=p.useCallback(async()=>{if(!c.current){c.current=!0,s(!0);try{const b=await G.collection("reviews").getFullList({sort:"-created",expand:"user_id,likesBy,dislikesBy",$autoCancel:!1});n(b.map(xc))}catch(b){b.isAbort||console.error("Failed to reload reviews:",b)}finally{s(!1),c.current=!1}}},[]);p.useEffect(()=>{u()},[u]);const d=p.useCallback(async b=>{if(!i)return!1;try{const m={user_id:i.id,userName:i.nickname,character_id:b.characterId,comment:b.comment,parentReview:b.parentReview,rating:b.rating},y=await G.collection("reviews").create(m,{expand:"user_id,likesBy,dislikesBy"}),x=xc(y);if(n(j=>[x,...j]),b.parentReview){const j=t.find(k=>k.id===b.parentReview);j&&j.userId!==i.id&&await o({recipientId:j.userId,senderId:i.id,senderName:i.nickname,type:"reply",entityId:b.characterId,message:`ответил на ваш комментарий: "${j.comment.slice(0,30)}..."`})}return!0}catch(m){return console.error("Error adding review:",m),!1}},[i,t,o]),f=p.useCallback(async(b,m)=>{try{const y=await G.collection("reviews").update(b,m,{expand:"user_id,likesBy,dislikesBy"});return n(x=>x.map(j=>j.id===b?xc(y):j)),!0}catch{return!1}},[]),h=p.useCallback(async(b,m)=>{if(!i)return;const y=t.find(C=>C.id===b);if(!y)return;const x={...y,likesBy:[...y.likesBy||[]],dislikesBy:[...y.dislikesBy||[]]},j=new Set(x.likesBy),k=new Set(x.dislikesBy);m==="like"?(j.has(i.id)?j.delete(i.id):j.add(i.id),k.delete(i.id)):(k.has(i.id)?k.delete(i.id):k.add(i.id),j.delete(i.id));const S={...y,likesBy:Array.from(j),dislikesBy:Array.from(k)};n(C=>C.map(T=>T.id===b?S:T));try{await G.collection("reviews").update(b,{likesBy:S.likesBy,dislikesBy:S.dislikesBy}),y.userId!==i.id&&(await o({recipientId:y.userId,senderId:i.id,senderName:i.nickname,type:m,entityId:y.characterId,message:`${m==="like"?"оценил":"негативно оценил"} ваш комментарий.`}),await l())}catch{n(T=>T.map(M=>M.id===b?x:M))}},[i,t,o,l]),g=p.useCallback(b=>h(b,"like"),[h]),v=p.useCallback(b=>h(b,"dislike"),[h]),w={reviews:t,loading:r,addReview:d,updateReview:f,toggleReviewLike:g,toggleReviewDislike:v};return a.jsx(sx.Provider,{value:w,children:e})}const uo=()=>{const e=p.useContext(sx);if(!e)throw new Error("useReviews must be used within a ReviewsProvider");return e},xf=p.createContext({});function Us(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const vf=typeof window<"u",Cl=vf?p.useLayoutEffect:p.useEffect,Sl=p.createContext(null);function wf(e,t){e.indexOf(t)===-1&&e.push(t)}function bf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const an=(e,t,n)=>n>t?t:n<e?e:n;let Yi=()=>{};const Nn={},ix=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ox(e){return typeof e=="object"&&e!==null}const ax=e=>/^0[^.\s]+$/u.test(e);function kf(e){let t;return()=>(t===void 0&&(t=e()),t)}const ct=e=>e,qk=(e,t)=>n=>t(e(n)),fo=(...e)=>e.reduce(qk),$s=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class jf{constructor(){this.subscriptions=[]}add(t){return wf(this.subscriptions,t),()=>bf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tn=e=>e*1e3,nn=e=>e/1e3;function Cf(e,t){return t?e*(1e3/t):0}const lx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Yk=1e-7,Xk=12;function Qk(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=lx(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Yk&&++l<Xk);return o}function ho(e,t,n,r){if(e===t&&n===r)return ct;const s=i=>Qk(i,0,1,e,n);return i=>i===0||i===1?i:lx(s(i),t,r)}const cx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ux=e=>t=>1-e(1-t),dx=ho(.33,1.53,.69,.99),Sf=ux(dx),fx=cx(Sf),hx=e=>(e*=2)<1?.5*Sf(e):.5*(2-Math.pow(2,-10*(e-1))),Nf=e=>1-Math.sin(Math.acos(e)),px=ux(Nf),mx=cx(Nf),Zk=ho(.42,0,1,1),Jk=ho(0,0,.58,1),gx=ho(.42,0,.58,1),ej=e=>Array.isArray(e)&&typeof e[0]!="number",yx=e=>Array.isArray(e)&&typeof e[0]=="number",tj={linear:ct,easeIn:Zk,easeInOut:gx,easeOut:Jk,circIn:Nf,circInOut:mx,circOut:px,backIn:Sf,backInOut:fx,backOut:dx,anticipate:hx},nj=e=>typeof e=="string",Dp=e=>{if(yx(e)){Yi(e.length===4);const[t,n,r,s]=e;return ho(t,n,r,s)}else if(nj(e))return tj[e];return e},Uo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rj(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const v=h&&s?n:r;return f&&o.add(d),v.has(d)||v.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const sj=40;function xx(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Uo.reduce((x,j)=>(x[j]=rj(i),x),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:g,postRender:v}=o,w=()=>{const x=Nn.useManualTiming?s.timestamp:performance.now();n=!1,Nn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,sj),1)),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),g.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(w))},b=()=>{n=!0,r=!0,s.isProcessing||e(w)};return{schedule:Uo.reduce((x,j)=>{const k=o[j];return x[j]=(S,C=!1,T=!1)=>(n||b(),k.schedule(S,C,T)),x},{}),cancel:x=>{for(let j=0;j<Uo.length;j++)o[Uo[j]].cancel(x)},state:s,steps:o}}const{schedule:re,cancel:Gt,state:Ae,steps:vc}=xx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ct,!0);let da;function ij(){da=void 0}const it={now:()=>(da===void 0&&it.set(Ae.isProcessing||Nn.useManualTiming?Ae.timestamp:performance.now()),da),set:e=>{da=e,queueMicrotask(ij)}},vx=e=>t=>typeof t=="string"&&t.startsWith(e),Tf=vx("--"),oj=vx("var(--"),Ef=e=>oj(e)?aj.test(e.split("/*")[0].trim()):!1,aj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Xi={...zs,transform:e=>an(0,1,e)},zo={...zs,default:1},ki=e=>Math.round(e*1e5)/1e5,Pf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lj(e){return e==null}const cj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lf=(e,t)=>n=>!!(typeof n=="string"&&cj.test(n)&&n.startsWith(e)||t&&!lj(n)&&Object.prototype.hasOwnProperty.call(n,t)),wx=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(Pf);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},uj=e=>an(0,255,e),wc={...zs,transform:e=>Math.round(uj(e))},Cr={test:Lf("rgb","red"),parse:wx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+wc.transform(e)+", "+wc.transform(t)+", "+wc.transform(n)+", "+ki(Xi.transform(r))+")"};function dj(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Vu={test:Lf("#"),parse:dj,transform:Cr.transform},po=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Mn=po("deg"),rn=po("%"),H=po("px"),fj=po("vh"),hj=po("vw"),Op={...rn,parse:e=>rn.parse(e)/100,transform:e=>rn.transform(e*100)},fs={test:Lf("hsl","hue"),parse:wx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+rn.transform(ki(t))+", "+rn.transform(ki(n))+", "+ki(Xi.transform(r))+")"},Ne={test:e=>Cr.test(e)||Vu.test(e)||fs.test(e),parse:e=>Cr.test(e)?Cr.parse(e):fs.test(e)?fs.parse(e):Vu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cr.transform(e):fs.transform(e),getAnimatableNone:e=>{const t=Ne.parse(e);return t.alpha=0,Ne.transform(t)}},pj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Pf))==null?void 0:t.length)||0)+(((n=e.match(pj))==null?void 0:n.length)||0)>0}const bx="number",kx="color",gj="var",yj="var(",_p="${}",xj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(xj,c=>(Ne.test(c)?(r.color.push(i),s.push(kx),n.push(Ne.parse(c))):c.startsWith(yj)?(r.var.push(i),s.push(gj),n.push(c)):(r.number.push(i),s.push(bx),n.push(parseFloat(c))),++i,_p)).split(_p);return{values:n,split:l,indexes:r,types:s}}function jx(e){return Qi(e).values}function Cx(e){const{split:t,types:n}=Qi(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===bx?i+=ki(s[o]):l===kx?i+=Ne.transform(s[o]):i+=s[o]}return i}}const vj=e=>typeof e=="number"?0:Ne.test(e)?Ne.getAnimatableNone(e):e;function wj(e){const t=jx(e);return Cx(e)(t.map(vj))}const nr={test:mj,parse:jx,createTransformer:Cx,getAnimatableNone:wj};function bc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=bc(c,l,e+1/3),i=bc(c,l,e),o=bc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ga(e,t){return n=>n>0?t:e}const me=(e,t,n)=>e+(t-e)*n,kc=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},kj=[Vu,Cr,fs],jj=e=>kj.find(t=>t.test(e));function Vp(e){const t=jj(e);if(!t)return!1;let n=t.parse(e);return t===fs&&(n=bj(n)),n}const Bp=(e,t)=>{const n=Vp(e),r=Vp(t);if(!n||!r)return Ga(e,t);const s={...n};return i=>(s.red=kc(n.red,r.red,i),s.green=kc(n.green,r.green,i),s.blue=kc(n.blue,r.blue,i),s.alpha=me(n.alpha,r.alpha,i),Cr.transform(s))},Bu=new Set(["none","hidden"]);function Cj(e,t){return Bu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Sj(e,t){return n=>me(e,t,n)}function Af(e){return typeof e=="number"?Sj:typeof e=="string"?Ef(e)?Ga:Ne.test(e)?Bp:Ej:Array.isArray(e)?Sx:typeof e=="object"?Ne.test(e)?Bp:Nj:Ga}function Sx(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Af(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Nj(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Af(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Tj(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],l=e.values[o]??0;n[s]=l,r[i]++}return n}const Ej=(e,t)=>{const n=nr.createTransformer(t),r=Qi(e),s=Qi(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Bu.has(e)&&!s.values.length||Bu.has(t)&&!r.values.length?Cj(e,t):fo(Sx(Tj(r,s),s.values),n):Ga(e,t)};function Nx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):Af(e)(e,t)}const Pj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>re.update(t,n),stop:()=>Gt(t),now:()=>Ae.isProcessing?Ae.timestamp:it.now()}},Tx=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ka=2e4;function Mf(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ka;)t+=n,r=e.next(t);return t>=Ka?1/0:t}function Lj(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Mf(r),Ka);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:nn(s)}}const Aj=5;function Ex(e,t,n){const r=Math.max(t-Aj,0);return Cf(n-e(r),t-r)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jc=.001;function Mj({duration:e=ve.duration,bounce:t=ve.bounce,velocity:n=ve.velocity,mass:r=ve.mass}){let s,i,o=1-t;o=an(ve.minDamping,ve.maxDamping,o),e=an(ve.minDuration,ve.maxDuration,nn(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,g=Uu(u,o),v=Math.exp(-f);return jc-h/g*v},i=u=>{const f=u*o*e,h=f*n+n,g=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-f),w=Uu(Math.pow(u,2),o);return(-s(u)+jc>0?-1:1)*((h-g)*v)/w}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-jc+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=Ij(s,i,l);if(e=tn(e),isNaN(c))return{stiffness:ve.stiffness,damping:ve.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Rj=12;function Ij(e,t,n){let r=n;for(let s=1;s<Rj;s++)r=r-e(r)/t(r);return r}function Uu(e,t){return e*Math.sqrt(1-t*t)}const $j=["duration","bounce"],Fj=["stiffness","damping","mass"];function Up(e,t){return t.some(n=>e[n]!==void 0)}function Dj(e){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...e};if(!Up(e,Fj)&&Up(e,$j))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*an(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ve.mass,stiffness:s,damping:i}}else{const n=Mj(e);t={...t,...n,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function qa(e=ve.visualDuration,t=ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=Dj({...n,velocity:-nn(n.velocity||0)}),v=h||0,w=u/(2*Math.sqrt(c*d)),b=o-i,m=nn(Math.sqrt(c/d)),y=Math.abs(b)<5;r||(r=y?ve.restSpeed.granular:ve.restSpeed.default),s||(s=y?ve.restDelta.granular:ve.restDelta.default);let x;if(w<1){const k=Uu(m,w);x=S=>{const C=Math.exp(-w*m*S);return o-C*((v+w*m*b)/k*Math.sin(k*S)+b*Math.cos(k*S))}}else if(w===1)x=k=>o-Math.exp(-m*k)*(b+(v+m*b)*k);else{const k=m*Math.sqrt(w*w-1);x=S=>{const C=Math.exp(-w*m*S),T=Math.min(k*S,300);return o-C*((v+w*m*b)*Math.sinh(T)+k*b*Math.cosh(T))/k}}const j={calculatedDuration:g&&f||null,next:k=>{const S=x(k);if(g)l.done=k>=f;else{let C=k===0?v:0;w<1&&(C=k===0?tn(v):Ex(x,k,S));const T=Math.abs(C)<=r,M=Math.abs(o-S)<=s;l.done=T&&M}return l.value=l.done?o:S,l},toString:()=>{const k=Math.min(Mf(j),Ka),S=Tx(C=>j.next(k*C).value,k,30);return k+"ms "+S},toTransition:()=>{}};return j}qa.applyToOptions=e=>{const t=Lj(e,100,qa);return e.ease=t.ease,e.duration=tn(t.duration),e.type="keyframes",e};function zu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},g=T=>l!==void 0&&T<l||c!==void 0&&T>c,v=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let w=n*t;const b=f+w,m=o===void 0?b:o(b);m!==b&&(w=m-f);const y=T=>-w*Math.exp(-T/r),x=T=>m+y(T),j=T=>{const M=y(T),N=x(T);h.done=Math.abs(M)<=u,h.value=h.done?m:N};let k,S;const C=T=>{g(h.value)&&(k=T,S=qa({keyframes:[h.value,v(h.value)],velocity:Ex(x,T,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:T=>{let M=!1;return!S&&k===void 0&&(M=!0,j(T),C(T)),k!==void 0&&T>=k?S.next(T-k):(!M&&j(T),h)}}}function Oj(e,t,n){const r=[],s=n||Nn.mix||Nx,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ct:t;l=fo(c,l)}r.push(l)}return r}function Rf(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Yi(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Oj(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=$s(e[f],e[f+1],d);return l[f](h)};return n?d=>u(an(e[0],e[i-1],d)):u}function _j(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=$s(0,t,r);e.push(me(n,1,s))}}function Px(e){const t=[0];return _j(t,e.length-1),t}function Vj(e,t){return e.map(n=>n*t)}function Bj(e,t){return e.map(()=>t||gx).splice(0,e.length-1)}function ji({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=ej(r)?r.map(Dp):Dp(r),i={done:!1,value:t[0]},o=Vj(n&&n.length===t.length?n:Px(t),e),l=Rf(o,t,{ease:Array.isArray(s)?s:Bj(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Uj=e=>e!==null;function If(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Uj),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const zj={decay:zu,inertia:zu,tween:ji,keyframes:ji,spring:qa};function Lx(e){typeof e.type=="string"&&(e.type=zj[e.type])}class $f{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Wj=e=>e/100;class Ff extends $f{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==it.now()&&this.tick(it.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Lx(t);const{type:n=ji,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||ji;c!==ji&&typeof l[0]!="number"&&(this.mixKeyframes=fo(Wj,Nx(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Mf(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:g,type:v,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,j=r;if(f){const T=Math.min(this.currentTime,s)/l;let M=Math.floor(T),N=T%1;!N&&T>=1&&(N=1),N===1&&M--,M=Math.min(M,f+1),!!(M%2)&&(h==="reverse"?(N=1-N,g&&(N-=g/l)):h==="mirror"&&(j=o)),x=an(0,1,N)*l}const k=y?{done:!1,value:d[0]}:j.next(x);i&&(k.value=i(k.value));let{done:S}=k;!y&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&v!==zu&&(k.value=If(d,this.options,b,this.speed)),w&&w(k.value),C&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return nn(this.calculatedDuration)}get time(){return nn(this.currentTime)}set time(t){var n;t=tn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(it.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=nn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=Pj,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(it.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Hj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sr=e=>e*180/Math.PI,Wu=e=>{const t=Sr(Math.atan2(e[1],e[0]));return Hu(t)},Gj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Wu,rotateZ:Wu,skewX:e=>Sr(Math.atan(e[1])),skewY:e=>Sr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Hu=e=>(e=e%360,e<0&&(e+=360),e),zp=Wu,Wp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Hp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Kj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wp,scaleY:Hp,scale:e=>(Wp(e)+Hp(e))/2,rotateX:e=>Hu(Sr(Math.atan2(e[6],e[5]))),rotateY:e=>Hu(Sr(Math.atan2(-e[2],e[0]))),rotateZ:zp,rotate:zp,skewX:e=>Sr(Math.atan(e[4])),skewY:e=>Sr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Gu(e){return e.includes("scale")?1:0}function Ku(e,t){if(!e||e==="none")return Gu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Kj,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Gj,s=l}if(!s)return Gu(t);const i=r[t],o=s[1].split(",").map(Yj);return typeof i=="function"?i(o):o[i]}const qj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ku(n,t)};function Yj(e){return parseFloat(e.trim())}const Ws=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(Ws),Gp=e=>e===zs||e===H,Xj=new Set(["x","y","z"]),Qj=Ws.filter(e=>!Xj.has(e));function Zj(e){const t=[];return Qj.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Pr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ku(t,"x"),y:(e,{transform:t})=>Ku(t,"y")};Pr.translateX=Pr.x;Pr.translateY=Pr.y;const Lr=new Set;let qu=!1,Yu=!1,Xu=!1;function Ax(){if(Yu){const e=Array.from(Lr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Zj(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yu=!1,qu=!1,Lr.forEach(e=>e.complete(Xu)),Lr.clear()}function Mx(){Lr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yu=!0)})}function Jj(){Xu=!0,Mx(),Ax(),Xu=!1}class Df{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Lr.add(this),qu||(qu=!0,re.read(Mx),re.resolveKeyframes(Ax))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}Hj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Lr.delete(this)}cancel(){this.state==="scheduled"&&(Lr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eC=e=>e.startsWith("--");function tC(e,t,n){eC(t)?e.style.setProperty(t,n):e.style[t]=n}const Rx=kf(()=>window.ScrollTimeline!==void 0),nC={};function rC(e,t){const n=kf(e);return()=>nC[t]??n()}const Ix=rC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ai=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Kp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ai([0,.65,.55,1]),circOut:ai([.55,0,1,.45]),backIn:ai([.31,.01,.66,-.59]),backOut:ai([.33,1.53,.69,.99])};function $x(e,t){if(e)return typeof e=="function"?Ix()?Tx(e,t):"ease-out":yx(e)?ai(e):Array.isArray(e)?e.map(n=>$x(n,t)||Kp.easeOut):Kp[e]}function sC(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=$x(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function Fx(e){return typeof e=="function"&&"applyToOptions"in e}function iC({type:e,...t}){return Fx(e)&&Ix()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class oC extends $f{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Yi(typeof t.type!="string");const u=iC(t);this.animation=sC(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=If(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):tC(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return nn(Number(t))}get time(){return nn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=tn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Rx()?(this.animation.timeline=t,ct):n(this)}}const Dx={anticipate:hx,backInOut:fx,circInOut:mx};function aC(e){return e in Dx}function lC(e){typeof e.ease=="string"&&aC(e.ease)&&(e.ease=Dx[e.ease])}const qp=10;class cC extends oC{constructor(t){lC(t),Lx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Ff({...o,autoplay:!1}),c=tn(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-qp).value,l.sample(c).value,qp),l.stop()}}const Yp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(nr.test(e)||e==="0")&&!e.startsWith("url("));function uC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function dC(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Yp(s,t),l=Yp(i,t);return!o||!l?!1:uC(e)||(n==="spring"||Fx(n))&&r}function Qu(e){e.duration=0,e.type}const fC=new Set(["opacity","clipPath","filter","transform"]),hC=kf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pC(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return hC()&&n&&fC.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const mC=40;class gC extends $f{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var v;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=it.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||Df;this.keyframeResolver=new g(l,(w,b,m)=>this.onKeyframesResolved(w,b,h,!m),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=it.now(),dC(t,i,o,l)||((Nn.instantAnimations||!c)&&(d==null||d(If(t,r,n))),t[0]=t[t.length-1],Qu(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>mC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!u&&pC(h)?new cC({...h,element:h.motionValue.owner.current}):new Ff(h);g.finished.then(()=>this.notifyFinished()).catch(ct),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Jj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const yC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xC(e){const t=yC.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Ox(e,t,n=1){const[r,s]=xC(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return ix(o)?parseFloat(o):o}return Ef(s)?Ox(s,t,n+1):s}function Of(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const _x=new Set(["width","height","top","left","right","bottom",...Ws]),vC={test:e=>e==="auto",parse:e=>e},Vx=e=>t=>t.test(e),Bx=[zs,H,rn,Mn,hj,fj,vC],Xp=e=>Bx.find(Vx(e));function wC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ax(e):!0}const bC=new Set(["brightness","contrast","saturate","opacity"]);function kC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Pf)||[];if(!r)return e;const s=n.replace(r,"");let i=bC.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const jC=/\b([a-z-]*)\(.*?\)/gu,Zu={...nr,getAnimatableNone:e=>{const t=e.match(jC);return t?t.map(kC).join(" "):e}},Qp={...zs,transform:Math.round},CC={rotate:Mn,rotateX:Mn,rotateY:Mn,rotateZ:Mn,scale:zo,scaleX:zo,scaleY:zo,scaleZ:zo,skew:Mn,skewX:Mn,skewY:Mn,distance:H,translateX:H,translateY:H,translateZ:H,x:H,y:H,z:H,perspective:H,transformPerspective:H,opacity:Xi,originX:Op,originY:Op,originZ:H},_f={borderWidth:H,borderTopWidth:H,borderRightWidth:H,borderBottomWidth:H,borderLeftWidth:H,borderRadius:H,radius:H,borderTopLeftRadius:H,borderTopRightRadius:H,borderBottomRightRadius:H,borderBottomLeftRadius:H,width:H,maxWidth:H,height:H,maxHeight:H,top:H,right:H,bottom:H,left:H,padding:H,paddingTop:H,paddingRight:H,paddingBottom:H,paddingLeft:H,margin:H,marginTop:H,marginRight:H,marginBottom:H,marginLeft:H,backgroundPositionX:H,backgroundPositionY:H,...CC,zIndex:Qp,fillOpacity:Xi,strokeOpacity:Xi,numOctaves:Qp},SC={..._f,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Zu,WebkitFilter:Zu},Ux=e=>SC[e];function zx(e,t){let n=Ux(e);return n!==Zu&&(n=nr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const NC=new Set(["auto","none","0"]);function TC(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!NC.has(i)&&Qi(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=zx(n,s)}class EC extends Df{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Ef(u))){const d=Ox(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!_x.has(r)||t.length!==2)return;const[s,i]=t,o=Xp(s),l=Xp(i);if(o!==l)if(Gp(o)&&Gp(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Pr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||wC(t[s]))&&r.push(s);r.length&&TC(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Pr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Wx(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Hx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Vf(e){return ox(e)&&"offsetHeight"in e}const Zp=30,PC=e=>!isNaN(parseFloat(e)),Ci={current:void 0};class LC{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=it.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=it.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=PC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new jf);const r=this.events[t].add(n);return t==="change"?()=>{r(),re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ci.current&&Ci.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=it.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Zp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Zp);return Cf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vt(e,t){return new LC(e,t)}const{schedule:Bf}=xx(queueMicrotask,!1),Ft={x:!1,y:!1};function Gx(){return Ft.x||Ft.y}function AC(e){return e==="x"||e==="y"?Ft[e]?null:(Ft[e]=!0,()=>{Ft[e]=!1}):Ft.x||Ft.y?null:(Ft.x=Ft.y=!0,()=>{Ft.x=Ft.y=!1})}function Kx(e,t){const n=Wx(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Jp(e){return!(e.pointerType==="touch"||Gx())}function MC(e,t,n={}){const[r,s,i]=Kx(e,n),o=l=>{if(!Jp(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{Jp(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const qx=(e,t)=>t?e===t?!0:qx(e,t.parentElement):!1,Uf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,RC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IC(e){return RC.has(e.tagName)||e.tabIndex!==-1}const fa=new WeakSet;function em(e){return t=>{t.key==="Enter"&&e(t)}}function Cc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const $C=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=em(()=>{if(fa.has(n))return;Cc(n,"down");const s=em(()=>{Cc(n,"up")}),i=()=>Cc(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function tm(e){return Uf(e)&&!Gx()}function FC(e,t,n={}){const[r,s,i]=Kx(e,n),o=l=>{const c=l.currentTarget;if(!tm(l))return;fa.add(c);const u=t(c,l),d=(g,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),fa.has(c)&&fa.delete(c),tm(g)&&typeof u=="function"&&u(g,{success:v})},f=g=>{d(g,c===window||c===document||n.useGlobalTarget||qx(c,g.target))},h=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),Vf(l)&&(l.addEventListener("focus",u=>$C(u,s)),!IC(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function zf(e){return ox(e)&&"ownerSVGElement"in e}const ha=new WeakMap;let Rn;const Yx=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:zf(r)&&"getBBox"in r?r.getBBox()[t]:r[n],DC=Yx("inline","width","offsetWidth"),OC=Yx("block","height","offsetHeight");function _C({target:e,borderBoxSize:t}){var n;(n=ha.get(e))==null||n.forEach(r=>{r(e,{get width(){return DC(e,t)},get height(){return OC(e,t)}})})}function VC(e){e.forEach(_C)}function BC(){typeof ResizeObserver>"u"||(Rn=new ResizeObserver(VC))}function UC(e,t){Rn||BC();const n=Wx(e);return n.forEach(r=>{let s=ha.get(r);s||(s=new Set,ha.set(r,s)),s.add(t),Rn==null||Rn.observe(r)}),()=>{n.forEach(r=>{const s=ha.get(r);s==null||s.delete(t),s!=null&&s.size||Rn==null||Rn.unobserve(r)})}}const pa=new Set;let hs;function zC(){hs=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};pa.forEach(t=>t(e))},window.addEventListener("resize",hs)}function WC(e){return pa.add(e),hs||zC(),()=>{pa.delete(e),!pa.size&&typeof hs=="function"&&(window.removeEventListener("resize",hs),hs=void 0)}}function HC(e,t){return typeof e=="function"?WC(e):UC(e,t)}function Xx(e,t){let n;const r=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;n!==o&&e(o),n=o};return re.preUpdate(r,!0),()=>Gt(r)}function GC(e){return zf(e)&&e.tagName==="svg"}function KC(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],i=e[2+n],o=e[3+n],l=Rf(s,i,o);return t?l(r):l}const Ge=e=>!!(e&&e.getVelocity),qC=[...Bx,Ne,nr],YC=e=>qC.find(Vx(e)),Nl=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class XC extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Vf(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function QC({children:e,isPresent:t,anchorX:n,root:r}){const s=p.useId(),i=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(Nl);return p.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=o.current;if(t||!i.current||!c||!u)return;const g=n==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");l&&(v.nonce=l);const w=r??document.head;return w.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(v)&&w.removeChild(v)}},[t]),a.jsx(XC,{isPresent:t,childRef:i,sizeRef:o,children:p.cloneElement(e,{ref:i})})}const ZC=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=Us(JC),d=p.useId();let f=!0,h=p.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return i&&f&&(h={...h}),p.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),p.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(QC,{isPresent:n,anchorX:l,root:c,children:e})),a.jsx(Sl.Provider,{value:h,children:e})};function JC(){return new Map}function Qx(e=!0){const t=p.useContext(Sl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{if(e)return s(i)},[e]);const o=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Wo=e=>e.key||"";function nm(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Le=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=Qx(o),f=p.useMemo(()=>nm(e),[e]),h=o&&!u?[]:f.map(Wo),g=p.useRef(!0),v=p.useRef(f),w=Us(()=>new Map),[b,m]=p.useState(f),[y,x]=p.useState(f);Cl(()=>{g.current=!1,v.current=f;for(let S=0;S<y.length;S++){const C=Wo(y[S]);h.includes(C)?w.delete(C):w.get(C)!==!0&&w.set(C,!1)}},[y,h.length,h.join("-")]);const j=[];if(f!==b){let S=[...f];for(let C=0;C<y.length;C++){const T=y[C],M=Wo(T);h.includes(M)||(S.splice(C,0,T),j.push(T))}return i==="wait"&&j.length&&(S=j),x(nm(S)),m(f),null}const{forceRender:k}=p.useContext(xf);return a.jsx(a.Fragment,{children:y.map(S=>{const C=Wo(S),T=o&&!u?!1:f===y||h.includes(C),M=()=>{if(w.has(C))w.set(C,!0);else return;let N=!0;w.forEach(D=>{D||(N=!1)}),N&&(k==null||k(),x(v.current),o&&(d==null||d()),r&&r())};return a.jsx(ZC,{isPresent:T,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:T?void 0:M,anchorX:l,children:S},C)})})},Zx=p.createContext({strict:!1}),rm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fs={};for(const e in rm)Fs[e]={isEnabled:t=>rm[e].some(n=>!!t[n])};function eS(e){for(const t in e)Fs[t]={...Fs[t],...e[t]}}const tS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ya(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tS.has(e)}let Jx=e=>!Ya(e);function nS(e){typeof e=="function"&&(Jx=t=>t.startsWith("on")?!Ya(t):e(t))}try{nS(require("@emotion/is-prop-valid").default)}catch{}function rS(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Jx(s)||n===!0&&Ya(s)||!t&&!Ya(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Tl=p.createContext({});function El(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zi(e){return typeof e=="string"||Array.isArray(e)}const Wf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hf=["initial",...Wf];function Pl(e){return El(e.animate)||Hf.some(t=>Zi(e[t]))}function ev(e){return!!(Pl(e)||e.variants)}function sS(e,t){if(Pl(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Zi(n)?n:void 0,animate:Zi(r)?r:void 0}}return e.inherit!==!1?t:{}}function iS(e){const{initial:t,animate:n}=sS(e,p.useContext(Tl));return p.useMemo(()=>({initial:t,animate:n}),[sm(t),sm(n)])}function sm(e){return Array.isArray(e)?e.join(" "):e}const Ji={};function oS(e){for(const t in e)Ji[t]=e[t],Tf(t)&&(Ji[t].isCSSVariable=!0)}function tv(e,{layout:t,layoutId:n}){return Hs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ji[e]||e==="opacity")}const aS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lS=Ws.length;function cS(e,t,n){let r="",s=!0;for(let i=0;i<lS;i++){const o=Ws[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Hx(l,_f[o]);if(!c){s=!1;const d=aS[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Gf(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Hs.has(c)){o=!0;continue}else if(Tf(c)){s[c]=u;continue}else{const d=Hx(u,_f[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=cS(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const Kf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nv(e,t,n){for(const r in t)!Ge(t[r])&&!tv(r,n)&&(e[r]=t[r])}function uS({transformTemplate:e},t){return p.useMemo(()=>{const n=Kf();return Gf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function dS(e,t){const n=e.style||{},r={};return nv(r,n,e),Object.assign(r,uS(e,t)),r}function fS(e,t){const n={},r=dS(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const hS={offset:"stroke-dashoffset",array:"stroke-dasharray"},pS={offset:"strokeDashoffset",array:"strokeDasharray"};function mS(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?hS:pS;e[i.offset]=H.transform(-r);const o=H.transform(t),l=H.transform(n);e[i.array]=`${o} ${l}`}function rv(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(Gf(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&mS(f,s,i,o,!1)}const sv=()=>({...Kf(),attrs:{}}),iv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gS(e,t,n,r){const s=p.useMemo(()=>{const i=sv();return rv(i,t,iv(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};nv(i,e.style,e),s.style={...i,...s.style}}return s}const yS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qf(e){return typeof e!="string"||e.includes("-")?!1:!!(yS.indexOf(e)>-1||/[A-Z]/u.test(e))}function xS(e,t,n,{latestValues:r},s,i=!1){const l=(qf(e)?gS:fS)(t,r,s,e),c=rS(t,typeof e=="string",i),u=e!==p.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=p.useMemo(()=>Ge(d)?d.get():d,[d]);return p.createElement(e,{...u,children:f})}function im(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Yf(e,t,n,r){if(typeof t=="function"){const[s,i]=im(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=im(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function ma(e){return Ge(e)?e.get():e}function vS({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:wS(n,r,s,e),renderState:t()}}function wS(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=ma(i[h]);let{initial:o,animate:l}=e;const c=Pl(e),u=ev(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!El(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const v=Yf(e,h[g]);if(v){const{transitionEnd:w,transition:b,...m}=v;for(const y in m){let x=m[y];if(Array.isArray(x)){const j=d?x.length-1:0;x=x[j]}x!==null&&(s[y]=x)}for(const y in w)s[y]=w[y]}}}return s}const ov=e=>(t,n)=>{const r=p.useContext(Tl),s=p.useContext(Sl),i=()=>vS(e,t,r,s);return n?i():Us(i)};function Xf(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Ge(r[o])||t.style&&Ge(t.style[o])||tv(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const bS=ov({scrapeMotionValuesFromProps:Xf,createRenderState:Kf});function av(e,t,n){const r=Xf(e,t,n);for(const s in e)if(Ge(e[s])||Ge(t[s])){const i=Ws.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const kS=ov({scrapeMotionValuesFromProps:av,createRenderState:sv}),jS=Symbol.for("motionComponentSymbol");function ps(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CS(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ps(n)&&(n.current=r))},[t])}const Qf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SS="framerAppearId",lv="data-"+Qf(SS),cv=p.createContext({});function NS(e,t,n,r,s){var w,b;const{visualElement:i}=p.useContext(Tl),o=p.useContext(Zx),l=p.useContext(Sl),c=p.useContext(Nl).reducedMotion,u=p.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=p.useContext(cv);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&TS(u.current,n,s,f);const h=p.useRef(!1);p.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const g=n[lv],v=p.useRef(!!g&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return Cl(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),v.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,g)}),v.current=!1),d.enteringChildren=void 0)}),d}function TS(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:uv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&ps(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function uv(e){if(e)return e.options.allowProjection!==!1?e.projection:uv(e.parent)}function Sc(e,{forwardMotionProps:t=!1}={},n,r){n&&eS(n);const s=qf(e)?kS:bS;function i(l,c){let u;const d={...p.useContext(Nl),...l,layoutId:ES(l)},{isStatic:f}=d,h=iS(l),g=s(l,f);if(!f&&vf){PS();const v=LS(d);u=v.MeasureLayout,h.visualElement=NS(e,g,d,r,v.ProjectionNode)}return a.jsxs(Tl.Provider,{value:h,children:[u&&h.visualElement?a.jsx(u,{visualElement:h.visualElement,...d}):null,xS(e,l,CS(g,h.visualElement,c),g,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=p.forwardRef(i);return o[jS]=e,o}function ES({layoutId:e}){const t=p.useContext(xf).id;return t&&e!==void 0?t+"-"+e:e}function PS(e,t){p.useContext(Zx).strict}function LS(e){const{drag:t,layout:n}=Fs;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function AS(e,t){if(typeof Proxy>"u")return Sc;const n=new Map,r=(i,o)=>Sc(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Sc(o,void 0,e,t)),n.get(o))})}function dv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function MS({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function RS(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Nc(e){return e===void 0||e===1}function Ju({scale:e,scaleX:t,scaleY:n}){return!Nc(e)||!Nc(t)||!Nc(n)}function gr(e){return Ju(e)||fv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fv(e){return om(e.x)||om(e.y)}function om(e){return e&&e!=="0%"}function Xa(e,t,n){const r=e-n,s=t*r;return n+s}function am(e,t,n,r,s){return s!==void 0&&(e=Xa(e,s,r)),Xa(e,n,r)+t}function ed(e,t=0,n=1,r,s){e.min=am(e.min,t,n,r,s),e.max=am(e.max,t,n,r,s)}function hv(e,{x:t,y:n}){ed(e.x,t.translate,t.scale,t.originPoint),ed(e.y,n.translate,n.scale,n.originPoint)}const lm=.999999999999,cm=1.0000000000001;function IS(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,hv(e,o)),r&&gr(i.latestValues)&&gs(e,i.latestValues))}t.x<cm&&t.x>lm&&(t.x=1),t.y<cm&&t.y>lm&&(t.y=1)}function ms(e,t){e.min=e.min+t,e.max=e.max+t}function um(e,t,n,r,s=.5){const i=me(e.min,e.max,s);ed(e,t,n,i,r)}function gs(e,t){um(e.x,t.x,t.scaleX,t.scale,t.originX),um(e.y,t.y,t.scaleY,t.scale,t.originY)}function pv(e,t){return dv(RS(e.getBoundingClientRect(),t))}function $S(e,t,n){const r=pv(e,n),{scroll:s}=t;return s&&(ms(r.x,s.offset.x),ms(r.y,s.offset.y)),r}const dm=()=>({translate:0,scale:1,origin:0,originPoint:0}),ys=()=>({x:dm(),y:dm()}),fm=()=>({min:0,max:0}),ke=()=>({x:fm(),y:fm()}),Qa={current:null},Zf={current:!1};function mv(){if(Zf.current=!0,!!vf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qa.current=e.matches;e.addEventListener("change",t),t()}else Qa.current=!1}const FS=new WeakMap;function DS(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ge(s))e.addValue(r,s);else if(Ge(i))e.addValue(r,Vt(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Vt(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const hm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OS{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Df,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=it.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,re.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Pl(n),this.isVariantNode=ev(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const g=f[h];c[h]!==void 0&&Ge(g)&&g.set(c[h])}}mount(t){var n;this.current=t,FS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Zf.current||mv(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qa.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Gt(this.notifyUpdate),Gt(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Hs.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fs){const n=Fs[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ke()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hm.length;r++){const s=hm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=DS(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Vt(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ix(r)||ax(r))?r=parseFloat(r):!YC(r)&&nr.test(n)&&(r=zx(t,n)),this.setBaseTarget(t,Ge(r)?r.get():r)),Ge(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Yf(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ge(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new jf),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Bf.render(this.render)}}class gv extends OS{constructor(){super(...arguments),this.KeyframeResolver=EC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ge(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function yv(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function _S(e){return window.getComputedStyle(e)}class VS extends gv{constructor(){super(...arguments),this.type="html",this.renderInstance=yv}readValueFromInstance(t,n){var r;if(Hs.has(n))return(r=this.projection)!=null&&r.isProjecting?Gu(n):qj(t,n);{const s=_S(t),i=(Tf(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return pv(t,n)}build(t,n,r){Gf(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Xf(t,n,r)}}const xv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BS(e,t,n,r){yv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(xv.has(s)?s:Qf(s),t.attrs[s])}class US extends gv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ke}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Hs.has(n)){const r=Ux(n);return r&&r.default||0}return n=xv.has(n)?n:Qf(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return av(t,n,r)}build(t,n,r){rv(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){BS(t,n,r,s)}mount(t){this.isSVGTag=iv(t.tagName),super.mount(t)}}const zS=(e,t)=>qf(e)?new US(t):new VS(t,{allowProjection:e!==p.Fragment});function Ns(e,t,n){const r=e.getProps();return Yf(r,t,n!==void 0?n:r.custom,e)}const td=e=>Array.isArray(e);function WS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Vt(n))}function HS(e){return td(e)?e[e.length-1]||0:e}function GS(e,t){const n=Ns(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=HS(i[o]);WS(e,o,l)}}function KS(e){return!!(Ge(e)&&e.add)}function nd(e,t){const n=e.getValue("willChange");if(KS(n))return n.add(t);if(!n&&Nn.WillChange){const r=new Nn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function vv(e){return e.props[lv]}const qS=e=>e!==null;function YS(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(qS),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const XS={type:"spring",stiffness:500,damping:25,restSpeed:10},QS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZS={type:"keyframes",duration:.8},JS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eN=(e,{keyframes:t})=>t.length>2?ZS:Hs.has(e)?e.startsWith("scale")?QS(t[1]):XS:JS;function tN({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Jf=(e,t,n,r={},s,i)=>o=>{const l=Of(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-tn(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};tN(l)||Object.assign(d,eN(e,d)),d.duration&&(d.duration=tn(d.duration)),d.repeatDelay&&(d.repeatDelay=tn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Qu(d),d.delay===0&&(f=!0)),(Nn.instantAnimations||Nn.skipAnimations)&&(f=!0,Qu(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=YS(d.keyframes,l);if(h!==void 0){re.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new Ff(d):new gC(d)};function nN({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function wv(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&nN(u,d))continue;const g={delay:n,...Of(i||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!g.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const m=vv(e);if(m){const y=window.MotionHandoffAnimation(m,d,re);y!==null&&(g.startTime=y,w=!0)}}nd(e,d),f.start(Jf(d,f,h,e.shouldReduceMotion&&_x.has(d)?{type:!1}:g,e,w));const b=f.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{re.update(()=>{o&&GS(e,o)})}),c}function bv(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function rd(e,t,n={}){var c;const r=Ns(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(wv(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return rN(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function rN(e,t,n=0,r=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(rd(c,t,{...o,delay:n+(typeof r=="function"?0:r)+bv(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function sN(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>rd(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=rd(e,t,n);else{const s=typeof t=="function"?Ns(e,t,n.custom):t;r=Promise.all(wv(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function kv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const iN=Hf.length;function jv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?jv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<iN;n++){const r=Hf[n],s=e.props[r];(Zi(s)||s===!1)&&(t[r]=s)}return t}const oN=[...Wf].reverse(),aN=Wf.length;function lN(e){return t=>Promise.all(t.map(({animation:n,options:r})=>sN(e,n,r)))}function cN(e){let t=lN(e),n=pm(),r=!0;const s=c=>(u,d)=>{var h;const f=Ns(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:v,...w}=f;u={...u,...w,...v}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=jv(e.parent)||{},f=[],h=new Set;let g={},v=1/0;for(let b=0;b<aN;b++){const m=oN[b],y=n[m],x=u[m]!==void 0?u[m]:d[m],j=Zi(x),k=m===c?y.isActive:null;k===!1&&(v=b);let S=x===d[m]&&x!==u[m]&&j;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...g},!y.isActive&&k===null||!x&&!y.prevProp||El(x)||typeof x=="boolean")continue;const C=uN(y.prevProp,x);let T=C||m===c&&y.isActive&&!S&&j||b>v&&j,M=!1;const N=Array.isArray(x)?x:[x];let D=N.reduce(s(m),{});k===!1&&(D={});const{prevResolvedValues:V={}}=y,F={...V,...D},te=Q=>{T=!0,h.has(Q)&&(M=!0,h.delete(Q)),y.needsAnimating[Q]=!0;const A=e.getValue(Q);A&&(A.liveStyle=!1)};for(const Q in F){const A=D[Q],P=V[Q];if(g.hasOwnProperty(Q))continue;let $=!1;td(A)&&td(P)?$=!kv(A,P):$=A!==P,$?A!=null?te(Q):h.add(Q):A!==void 0&&h.has(Q)?te(Q):y.protectedKeys[Q]=!0}y.prevProp=x,y.prevResolvedValues=D,y.isActive&&(g={...g,...D}),r&&e.blockInitialAnimation&&(T=!1);const fe=S&&C;T&&(!fe||M)&&f.push(...N.map(Q=>{const A={type:m};if(typeof Q=="string"&&r&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:P}=e,$=Ns(P,Q);if(P.enteringChildren&&$){const{delayChildren:K}=$.transition||{};A.delay=bv(P.enteringChildren,e,K)}}return{animation:Q,options:A}}))}if(h.size){const b={};if(typeof u.initial!="boolean"){const m=Ns(e,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(b.transition=m.transition)}h.forEach(m=>{const y=e.getBaseTarget(m),x=e.getValue(m);x&&(x.liveStyle=!0),b[m]=y??null}),f.push({animation:b})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=pm(),r=!0}}}function uN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!kv(t,e):!1}function dr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pm(){return{animate:dr(!0),whileInView:dr(),whileHover:dr(),whileTap:dr(),whileDrag:dr(),whileFocus:dr(),exit:dr()}}class ar{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dN extends ar{constructor(t){super(t),t.animationState||(t.animationState=cN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();El(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let fN=0;class hN extends ar{constructor(){super(...arguments),this.id=fN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const pN={animation:{Feature:dN},exit:{Feature:hN}};function eo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function mo(e){return{point:{x:e.pageX,y:e.pageY}}}const mN=e=>t=>Uf(t)&&e(t,mo(t));function Si(e,t,n,r){return eo(e,t,mN(n),r)}const Cv=1e-4,gN=1-Cv,yN=1+Cv,Sv=.01,xN=0-Sv,vN=0+Sv;function Qe(e){return e.max-e.min}function wN(e,t,n){return Math.abs(e-t)<=n}function mm(e,t,n,r=.5){e.origin=r,e.originPoint=me(t.min,t.max,e.origin),e.scale=Qe(n)/Qe(t),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=gN&&e.scale<=yN||isNaN(e.scale))&&(e.scale=1),(e.translate>=xN&&e.translate<=vN||isNaN(e.translate))&&(e.translate=0)}function Ni(e,t,n,r){mm(e.x,t.x,n.x,r?r.originX:void 0),mm(e.y,t.y,n.y,r?r.originY:void 0)}function gm(e,t,n){e.min=n.min+t.min,e.max=e.min+Qe(t)}function bN(e,t,n){gm(e.x,t.x,n.x),gm(e.y,t.y,n.y)}function ym(e,t,n){e.min=t.min-n.min,e.max=e.min+Qe(t)}function Ti(e,t,n){ym(e.x,t.x,n.x),ym(e.y,t.y,n.y)}function Ct(e){return[e("x"),e("y")]}const Nv=({current:e})=>e?e.ownerDocument.defaultView:null,xm=(e,t)=>Math.abs(e-t);function kN(e,t){const n=xm(e.x,t.x),r=xm(e.y,t.y);return Math.sqrt(n**2+r**2)}class Tv{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ec(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=kN(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:w}=h,{timestamp:b}=Ae;this.history.push({...w,timestamp:b});const{onStart:m,onMove:y}=this.handlers;g||(m&&m(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Tc(g,this.transformPagePoint),re.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ec(h.type==="pointercancel"?this.lastMoveEventInfo:Tc(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,m),w&&w(h,m)},!Uf(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=mo(t),c=Tc(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Ae;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Ec(c,this.history)),this.removeListeners=fo(Si(this.contextWindow,"pointermove",this.handlePointerMove),Si(this.contextWindow,"pointerup",this.handlePointerUp),Si(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gt(this.updatePoint)}}function Tc(e,t){return t?{point:t(e.point)}:e}function vm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ec({point:e},t){return{point:e,delta:vm(e,Ev(t)),offset:vm(e,jN(t)),velocity:CN(t,.1)}}function jN(e){return e[0]}function Ev(e){return e[e.length-1]}function CN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Ev(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>tn(t)));)n--;if(!r)return{x:0,y:0};const i=nn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function SN(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?me(n,e,r.max):Math.min(e,n)),e}function wm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function NN(e,{top:t,left:n,bottom:r,right:s}){return{x:wm(e.x,n,s),y:wm(e.y,t,r)}}function bm(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function TN(e,t){return{x:bm(e.x,t.x),y:bm(e.y,t.y)}}function EN(e,t){let n=.5;const r=Qe(e),s=Qe(t);return s>r?n=$s(t.min,t.max-r,e.min):r>s&&(n=$s(e.min,e.max-s,t.min)),an(0,1,n)}function PN(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const sd=.35;function LN(e=sd){return e===!1?e=0:e===!0&&(e=sd),{x:km(e,"left","right"),y:km(e,"top","bottom")}}function km(e,t,n){return{min:jm(e,t),max:jm(e,n)}}function jm(e,t){return typeof e=="number"?e:e[t]||0}const AN=new WeakMap;class MN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ke(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mo(f).point)},o=(f,h)=>{const{drag:g,dragPropagation:v,onDragStart:w}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AC(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ct(m=>{let y=this.getAxisMotionValue(m).get()||0;if(rn.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const j=x.layout.layoutBox[m];j&&(y=Qe(j)*(parseFloat(y)/100))}}this.originPoint[m]=y}),w&&re.postRender(()=>w(f,h)),nd(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:w,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:m}=h;if(v&&this.currentDirection===null){this.currentDirection=RN(m),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,m),this.updateAxis("y",h.point,m),this.visualElement.render(),b&&b(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ct(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Tv(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Nv(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&re.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ho(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=SN(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&ps(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=NN(r.layoutBox,t):this.constraints=!1,this.elastic=LN(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ct(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=PN(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ps(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$S(r,s.root,this.visualElement.getTransformPagePoint());let o=TN(s.layout.layoutBox,i);if(n){const l=n(MS(o));this.hasMutatedConstraints=!!l,l&&(o=dv(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ct(d=>{if(!Ho(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return nd(this.visualElement,t),r.start(Jf(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ct(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ct(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ct(n=>{const{drag:r}=this.getProps();if(!Ho(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-me(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ps(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ct(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=EN({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ct(o=>{if(!Ho(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(me(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;AN.set(this.visualElement,this);const t=this.visualElement.current,n=Si(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ps(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),re.read(r);const o=eo(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ct(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=sd,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ho(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function RN(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class IN extends ar{constructor(t){super(t),this.removeGroupControls=ct,this.removeListeners=ct,this.controls=new MN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const Cm=e=>(t,n)=>{e&&re.postRender(()=>e(t,n))};class $N extends ar{constructor(){super(...arguments),this.removePointerDownListener=ct}onPointerDown(t){this.session=new Tv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Cm(t),onStart:Cm(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&re.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Si(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ga={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ei={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(H.test(e))e=parseFloat(e);else return e;const n=Sm(e,t.target.x),r=Sm(e,t.target.y);return`${n}% ${r}%`}},FN={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=nr.parse(e);if(s.length>5)return r;const i=nr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=me(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let Pc=!1;class DN extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;oS(ON),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Pc&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ga.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Pc=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||re.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Bf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Pc=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Pv(e){const[t,n]=Qx(),r=p.useContext(xf);return a.jsx(DN,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(cv),isPresent:t,safeToRemove:n})}const ON={borderRadius:{...ei,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ei,borderTopRightRadius:ei,borderBottomLeftRadius:ei,borderBottomRightRadius:ei,boxShadow:FN};function _N(e,t,n){const r=Ge(e)?e:Vt(e);return r.start(Jf("",r,t,n)),r.animation}const VN=(e,t)=>e.depth-t.depth;class BN{constructor(){this.children=[],this.isDirty=!1}add(t){wf(this.children,t),this.isDirty=!0}remove(t){bf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(VN),this.isDirty=!1,this.children.forEach(t)}}function UN(e,t){const n=it.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Gt(r),e(i-t))};return re.setup(r,!0),()=>Gt(r)}const Lv=["TopLeft","TopRight","BottomLeft","BottomRight"],zN=Lv.length,Nm=e=>typeof e=="string"?parseFloat(e):e,Tm=e=>typeof e=="number"||H.test(e);function WN(e,t,n,r,s,i){s?(e.opacity=me(0,n.opacity??1,HN(r)),e.opacityExit=me(t.opacity??1,0,GN(r))):i&&(e.opacity=me(t.opacity??1,n.opacity??1,r));for(let o=0;o<zN;o++){const l=`border${Lv[o]}Radius`;let c=Em(t,l),u=Em(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Tm(c)===Tm(u)?(e[l]=Math.max(me(Nm(c),Nm(u),r),0),(rn.test(u)||rn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,r))}function Em(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HN=Av(0,.5,px),GN=Av(.5,.95,ct);function Av(e,t,n){return r=>r<e?0:r>t?1:n($s(e,t,r))}function Pm(e,t){e.min=t.min,e.max=t.max}function kt(e,t){Pm(e.x,t.x),Pm(e.y,t.y)}function Lm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Am(e,t,n,r,s){return e-=t,e=Xa(e,1/n,r),s!==void 0&&(e=Xa(e,1/s,r)),e}function KN(e,t=0,n=1,r=.5,s,i=e,o=e){if(rn.test(t)&&(t=parseFloat(t),t=me(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=me(i.min,i.max,r);e===i&&(l-=t),e.min=Am(e.min,t,n,l,s),e.max=Am(e.max,t,n,l,s)}function Mm(e,t,[n,r,s],i,o){KN(e,t[n],t[r],t[s],t.scale,i,o)}const qN=["x","scaleX","originX"],YN=["y","scaleY","originY"];function Rm(e,t,n,r){Mm(e.x,t,qN,n?n.x:void 0,r?r.x:void 0),Mm(e.y,t,YN,n?n.y:void 0,r?r.y:void 0)}function Im(e){return e.translate===0&&e.scale===1}function Mv(e){return Im(e.x)&&Im(e.y)}function $m(e,t){return e.min===t.min&&e.max===t.max}function XN(e,t){return $m(e.x,t.x)&&$m(e.y,t.y)}function Fm(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Rv(e,t){return Fm(e.x,t.x)&&Fm(e.y,t.y)}function Dm(e){return Qe(e.x)/Qe(e.y)}function Om(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class QN{constructor(){this.members=[]}add(t){wf(this.members,t),t.scheduleRender()}remove(t){if(bf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZN(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Lc=["","X","Y","Z"],JN=1e3;let e5=0;function Ac(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Iv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",re,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Iv(r)}function $v({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=e5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(r5),this.nodes.forEach(a5),this.nodes.forEach(l5),this.nodes.forEach(s5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new BN)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jf),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=zf(o)&&!GC(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;re.read(()=>{f=window.innerWidth}),e(o,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,d&&d(),d=UN(h,250),ga.hasAnimatedSinceResize&&(ga.hasAnimatedSinceResize=!1,this.nodes.forEach(Bm)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||h5,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),m=!this.targetLayout||!Rv(this.targetLayout,g),y=!f&&h;if(this.options.layoutRoot||this.resumeFrom||y||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...Of(v,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,y)}else f||Bm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Iv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_m);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o5),this.nodes.forEach(t5),this.nodes.forEach(n5)):this.nodes.forEach(Vm),this.clearAllSnapshots();const l=it.now();Ae.delta=an(0,1e3/60,l-Ae.timestamp),Ae.timestamp=l,Ae.isProcessing=!0,vc.update.process(Ae),vc.preRender.process(Ae),vc.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i5),this.sharedNodes.forEach(u5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qe(this.snapshot.measuredBox.x)&&!Qe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ke(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Mv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||gr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),p5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ke();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(m5))){const{scroll:d}=this.root;d&&(ms(l.x,d.offset.x),ms(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=ke();if(kt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&kt(l,o),ms(l.x,f.offset.x),ms(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=ke();kt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&gs(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),gr(d.latestValues)&&gs(c,d.latestValues)}return gr(this.latestValues)&&gs(c,this.latestValues),c}removeTransform(o){const l=ke();kt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!gr(u.latestValues))continue;Ju(u.latestValues)&&u.updateSnapshot();const d=ke(),f=u.measurePageBox();kt(d,f),Rm(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return gr(this.latestValues)&&Rm(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Ti(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ke(),this.targetWithTransforms=ke()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kt(this.target,this.layout.layoutBox),hv(this.target,this.targetDelta)):kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ke(),this.relativeTargetOrigin=ke(),Ti(this.relativeTargetOrigin,this.target,g.target),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ju(this.parent.latestValues)||fv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;kt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;IS(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ke());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Lm(this.prevProjectionDelta.x,this.projectionDelta.x),Lm(this.prevProjectionDelta.y,this.projectionDelta.y)),Ni(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Om(this.projectionDelta.x,this.prevProjectionDelta.x)||!Om(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ys(),this.projectionDelta=ys(),this.projectionDeltaWithTransform=ys()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ke(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=g!==v,b=this.getStack(),m=!b||b.members.length<=1,y=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(f5));this.animationProgress=0;let x;this.mixTargetDelta=j=>{const k=j/1e3;Um(f.x,o.x,k),Um(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ti(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d5(this.relativeTarget,this.relativeTargetOrigin,h,k),x&&XN(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=ke()),kt(x,this.relativeTarget)),w&&(this.animationValues=d,WN(d,u,this.latestValues,k,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Gt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=re.update(()=>{ga.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vt(0)),this.currentAnimation=_N(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Fv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ke();const f=Qe(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Qe(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}kt(l,c),gs(l,d),Ni(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QN),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ac("z",o,u,this.animationValues);for(let d=0;d<Lc.length;d++)Ac(`rotate${Lc[d]}`,o,u,this.animationValues),Ac(`skew${Lc[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ma(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ma(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!gr(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=ZN(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y:g}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Ji){if(d[v]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:m}=Ji[v],y=f==="none"?d[v]:w(d[v],u);if(b){const x=b.length;for(let j=0;j<x;j++)o[b[j]]=y}else m?this.options.visualElement.renderState.vars[v]=y:o[v]=y}this.options.layoutId&&(o.pointerEvents=u===this?ma(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(_m),this.root.sharedNodes.clear()}}}function t5(e){e.updateLayout()}function n5(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ct(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],g=Qe(h);h.min=r[f].min,h.max=h.min+g}):Fv(i,t.layoutBox,r)&&Ct(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],g=Qe(r[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=ys();Ni(l,r,t.layoutBox);const c=ys();o?Ni(c,e.applyTransform(s,!0),t.measuredBox):Ni(c,r,t.layoutBox);const u=!Mv(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const v=ke();Ti(v,t.layoutBox,h.layoutBox);const w=ke();Ti(w,r,g.layoutBox),Rv(v,w)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function r5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function s5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function i5(e){e.clearSnapshot()}function _m(e){e.clearMeasurements()}function Vm(e){e.isLayoutDirty=!1}function o5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function a5(e){e.resolveTargetDelta()}function l5(e){e.calcProjection()}function c5(e){e.resetSkewAndRotation()}function u5(e){e.removeLeadSnapshot()}function Um(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function zm(e,t,n,r){e.min=me(t.min,n.min,r),e.max=me(t.max,n.max,r)}function d5(e,t,n,r){zm(e.x,t.x,n.x,r),zm(e.y,t.y,n.y,r)}function f5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const h5={duration:.45,ease:[.4,0,.1,1]},Wm=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Hm=Wm("applewebkit/")&&!Wm("chrome/")?Math.round:ct;function Gm(e){e.min=Hm(e.min),e.max=Hm(e.max)}function p5(e){Gm(e.x),Gm(e.y)}function Fv(e,t,n){return e==="position"||e==="preserve-aspect"&&!wN(Dm(t),Dm(n),.2)}function m5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const g5=$v({attachResizeListener:(e,t)=>eo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mc={current:void 0},Dv=$v({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mc.current){const e=new g5({});e.mount(window),e.setOptions({layoutScroll:!0}),Mc.current=e}return Mc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),y5={pan:{Feature:$N},drag:{Feature:IN,ProjectionNode:Dv,MeasureLayout:Pv}};function Km(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&re.postRender(()=>i(t,mo(t)))}class x5 extends ar{mount(){const{current:t}=this.node;t&&(this.unmount=MC(t,(n,r)=>(Km(this.node,r,"Start"),s=>Km(this.node,s,"End"))))}unmount(){}}class v5 extends ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fo(eo(this.node.current,"focus",()=>this.onFocus()),eo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qm(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&re.postRender(()=>i(t,mo(t)))}class w5 extends ar{mount(){const{current:t}=this.node;t&&(this.unmount=FC(t,(n,r)=>(qm(this.node,r,"Start"),(s,{success:i})=>qm(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const id=new WeakMap,Rc=new WeakMap,b5=e=>{const t=id.get(e.target);t&&t(e)},k5=e=>{e.forEach(b5)};function j5({root:e,...t}){const n=e||document;Rc.has(n)||Rc.set(n,{});const r=Rc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(k5,{root:e,...t})),r[s]}function C5(e,t,n){const r=j5(t);return id.set(e,n),r.observe(e),()=>{id.delete(e),r.unobserve(e)}}const S5={some:0,all:1};class N5 extends ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:S5[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return C5(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(T5(t,n))&&this.startObserver()}unmount(){}}function T5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const E5={inView:{Feature:N5},tap:{Feature:w5},focus:{Feature:v5},hover:{Feature:x5}},P5={layout:{ProjectionNode:Dv,MeasureLayout:Pv}},L5={...pN,...E5,...y5,...P5},E=AS(L5,zS),A5=50,Ym=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),M5=()=>({time:0,x:Ym(),y:Ym()}),R5={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Xm(e,t,n,r){const s=n[t],{length:i,position:o}=R5[t],l=s.current,c=n.time;s.current=e[`scroll${o}`],s.scrollLength=e[`scroll${i}`]-e[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=$s(0,s.scrollLength,s.current);const u=r-c;s.velocity=u>A5?0:Cf(s.current-l,u)}function I5(e,t,n){Xm(e,"x",t,n),Xm(e,"y",t,n),t.time=n}function $5(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(Vf(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return n}const od={start:0,center:.5,end:1};function Qm(e,t,n=0){let r=0;if(e in od&&(e=od[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?r=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?r=s/100*document.documentElement.clientWidth:e.endsWith("vh")?r=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(r=t*e),n+r}const F5=[0,0];function D5(e,t,n,r){let s=Array.isArray(e)?e:F5,i=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,od[e]?e:"0"]),i=Qm(s[0],n,r),o=Qm(s[1],t),i-o}const O5={All:[[0,0],[1,1]]},_5={x:0,y:0};function V5(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function B5(e,t,n){const{offset:r=O5.All}=n,{target:s=e,axis:i="y"}=n,o=i==="y"?"height":"width",l=s!==e?$5(s,e):_5,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:V5(s),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let d=!t[i].interpolate;const f=r.length;for(let h=0;h<f;h++){const g=D5(r[h],u[o],c[o],l[i]);!d&&g!==t[i].interpolatorOffsets[h]&&(d=!0),t[i].offset[h]=g}d&&(t[i].interpolate=Rf(t[i].offset,Px(r),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=an(0,1,t[i].interpolate(t[i].current))}function U5(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function z5(e,t,n,r={}){return{measure:s=>{U5(e,r.target,n),I5(e,n,s),(r.offset||r.target)&&B5(e,n,r)},notify:()=>t(n)}}const ti=new WeakMap,Zm=new WeakMap,Ic=new WeakMap,Jm=e=>e===document.scrollingElement?window:e;function Ov(e,{container:t=document.scrollingElement,...n}={}){if(!t)return ct;let r=Ic.get(t);r||(r=new Set,Ic.set(t,r));const s=M5(),i=z5(t,e,s,n);if(r.add(i),!ti.has(t)){const l=()=>{for(const f of r)f.measure(Ae.timestamp);re.preUpdate(c)},c=()=>{for(const f of r)f.notify()},u=()=>re.read(l);ti.set(t,u);const d=Jm(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Zm.set(t,HC(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const o=ti.get(t);return re.read(o,!1,!0),()=>{var u;Gt(o);const l=Ic.get(t);if(!l||(l.delete(i),l.size))return;const c=ti.get(t);ti.delete(t),c&&(Jm(t).removeEventListener("scroll",c),(u=Zm.get(t))==null||u(),window.removeEventListener("resize",c))}}const eg=new Map;function W5(e){const t={value:0},n=Ov(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function _v({source:e,container:t,...n}){const{axis:r}=n;e&&(t=e);const s=eg.get(t)??new Map;eg.set(t,s);const i=n.target??"self",o=s.get(i)??{},l=r+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&Rx()?new ScrollTimeline({source:t,axis:r}):W5({container:t,...n})),o[l]}function H5(e,t){const n=_v(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),Xx(s=>{r.time=r.duration*s},n))})}function G5(e){return e.length===2}function K5(e,t){return G5(e)?Ov(n=>{e(n[t.axis].progress,n)},t):Xx(e,_v(t))}function q5(e,{axis:t="y",container:n=document.scrollingElement,...r}={}){if(!n)return ct;const s={axis:t,container:n,...r};return typeof e=="function"?K5(e,s):H5(e,s)}const Y5=()=>({scrollX:Vt(0),scrollY:Vt(0),scrollXProgress:Vt(0),scrollYProgress:Vt(0)}),Go=e=>e?!e.current:!1;function lr({container:e,target:t,...n}={}){const r=Us(Y5),s=p.useRef(null),i=p.useRef(!1),o=p.useCallback(()=>(s.current=q5((l,{x:c,y:u})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(u.current),r.scrollYProgress.set(u.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=s.current)==null||l.call(s)}),[e,t,JSON.stringify(n.offset)]);return Cl(()=>{if(i.current=!1,Go(e)||Go(t)){i.current=!0;return}else return o()},[o]),p.useEffect(()=>{if(i.current)return Yi(!Go(e)),Yi(!Go(t)),o()},[o]),r}function X5(e){const t=Us(()=>Vt(e)),{isStatic:n}=p.useContext(Nl);if(n){const[,r]=p.useState(e);p.useEffect(()=>t.on("change",r),[])}return t}function Vv(e,t){const n=X5(t()),r=()=>n.set(t());return r(),Cl(()=>{const s=()=>re.preRender(r,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Gt(r)}}),n}function Q5(e){Ci.current=[],e();const t=Vv(Ci.current,e);return Ci.current=void 0,t}function sn(e,t,n,r){if(typeof e=="function")return Q5(e);const s=typeof t=="function"?t:KC(t,n,r);return Array.isArray(e)?tg(e,s):tg([e],([i])=>s(i))}function tg(e,t){const n=Us(()=>[]);return Vv(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function Bv(){!Zf.current&&mv();const[e]=p.useState(Qa.current);return e}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ng=e=>{const t=J5(e);return t.charAt(0).toUpperCase()+t.slice(1)},Uv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),e4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...t4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Uv("lucide",s),...!i&&!e4(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(n4,{ref:i,iconNode:t,className:Uv(`lucide-${Z5(ng(e))}`,`lucide-${e}`,r),...s}));return n.displayName=ng(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],zv=_("arrow-down-a-z",r4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wv=_("arrow-left",s4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],o4=_("at-sign",i4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ll=_("bell",a4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],c4=_("bold",l4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],d4=_("bot",u4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"9",cy:"7",r:"2",key:"1305pl"}],["path",{d:"M7.2 7.9 3 11v9c0 .6.4 1 1 1h16c.6 0 1-.4 1-1v-9c0-2-3-6-7-8l-3.6 2.6",key:"xle13f"}],["path",{d:"M16 13H3",key:"1wpj08"}],["path",{d:"M16 17H3",key:"3lvfcd"}]],rg=_("cake-slice",f4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],Hv=_("cake",h4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],eh=_("cat",p4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],th=_("chart-no-axes-column",m4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],y4=_("chevron-down",g4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],nh=_("chevron-right",x4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gv=_("circle-alert",v4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Kv=_("circle-plus",w4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k4=_("circle-x",b4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],C4=_("clipboard",j4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ad=_("clock",S4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rh=_("compass",N4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],E4=_("external-link",T4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],qv=_("eye-off",P4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yv=_("eye",L4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],sh=_("file",A4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],R4=_("flame",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],ih=_("frown",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],F4=_("heading-2",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],O4=_("heading-3",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ds=_("heart",_4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],B4=_("image",V4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],oh=_("infinity",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],W4=_("italic",z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],G4=_("life-buoy",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],q4=_("list-ordered",K4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],X4=_("list",Y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],go=_("loader-circle",Q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],J4=_("lock-open",Z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],tT=_("log-in",eT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ts=_("lock",nT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sT=_("log-out",rT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],to=_("mail",iT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],Xv=_("mars",oT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],lT=_("menu",aT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Za=_("message-square",cT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Qv=_("paperclip",uT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ja=_("plus",dT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],hT=_("quote",fT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sg=_("rotate-ccw",pT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zv=_("save",mT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yT=_("search",gT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yo=_("send",xT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],el=_("settings",vT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tl=_("shield",wT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],xo=_("shopping-bag",bT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],jT=_("shopping-cart",kT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],ST=_("sliders-horizontal",CT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vo=_("square-pen",NT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ah=_("star",TT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Jv=_("thumbs-down",ET);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],e1=_("thumbs-up",PT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lh=_("trash-2",LT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],MT=_("upload",AT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IT=_("user-check",RT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],FT=_("user-plus",$T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fr=_("user",DT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dr=_("users",OT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],t1=_("venus",_T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wt=_("x",VT),ig={idle:1.9,active:2.2},og={dock:"1.25em",row:"1.20em",dockLg:"1.35em",avatar:"1.60em"};function Re({icon:e,active:t=!1,size:n="dock",className:r,style:s}){return a.jsx(e,{className:r,style:{width:og[n],height:og[n],...s},strokeWidth:t?ig.active:ig.idle,vectorEffect:"non-scaling-stroke",shapeRendering:"geometricPrecision",preserveAspectRatio:"xMidYMid meet"})}function Ye({intensity:e=1,className:t}){const r=.3*Math.max(0,Math.min(1,Number.isFinite(e)?e:1));return a.jsx("div",{"aria-hidden":!0,className:["fixed inset-0 pointer-events-none z-0",t].filter(Boolean).join(" "),style:{background:`
          radial-gradient(circle at 20% 30%, rgba(215, 174, 251, ${r*.8}) 0%, transparent 40%),
          radial-gradient(circle at 80% 70%, rgba(251, 182, 217, ${r*.6}) 0%, transparent 50%),
          radial-gradient(circle at 50% 10%, rgba(135, 206, 250, ${r*.4}) 0%, transparent 60%),
          #0a0a12
        `}})}function ya(e){const{notifications:t,messages:n,loadNotifications:r,loadMessages:s}=$e(),{user:i}=de(),o=p.useRef(null),l=()=>{o.current&&(window.clearTimeout(o.current),o.current=null),o.current=window.setTimeout(()=>{typeof r=="function"&&r(),typeof s=="function"&&s()},200)};p.useEffect(()=>{l()},[e]),p.useEffect(()=>{const d=()=>{document.visibilityState==="visible"&&l()},f=()=>l();return document.addEventListener("visibilitychange",d),window.addEventListener("focus",f),()=>{document.removeEventListener("visibilitychange",d),window.removeEventListener("focus",f),o.current&&window.clearTimeout(o.current)}},[]);const c=p.useMemo(()=>Array.isArray(t)?t.filter(d=>!d.isRead).length:0,[t]),u=p.useMemo(()=>!Array.isArray(n)||!i?0:n.filter(d=>d.isReadByUser!==!0&&d.user_id!==i.id).length,[n,i]);return c+u}const gn={border:"rgba(255,255,255,0.16)",accent:"#f7cfe1",badgeMax:99},St={colors:{border:"rgba(255, 255, 255, 0.08)",background:{glass:"rgba(40, 40, 50, 0.65)"},accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)",accent:"0 4px 16px rgba(215, 174, 251, 0.4)"}},$c=(e,t)=>e?t:`/login?next=${encodeURIComponent(t)}`,BT=e=>!!e&&(e.isAdmin||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.is_staff)),nl=gn.badgeMax;function UT({isCollapsed:e=!1}){const t=tt(),n=bt(),r=de()||{},s=r==null?void 0:r.user,i=(ya==null?void 0:ya())??0,o=I.useMemo(()=>{const u=[{title:"Разделы",items:[{icon:rh,title:"Каталог",to:"/characters"},{icon:th,title:"Рейтинг",to:"/rating"},{icon:xo,title:"Магазин",to:"/shop"},{icon:Ds,title:"Избранное",to:$c(s,"/favorites")}]}];return BT(s)&&u.push({title:"Управление",items:[{icon:el,title:"Админ-панель",to:"/admin"}]}),u},[s]),l=u=>!!u&&(n.pathname===u||n.pathname.startsWith(u+"/")),c=async()=>{try{if(typeof r.logout=="function")await Promise.resolve(r.logout());else if(typeof r.signOut=="function")await Promise.resolve(r.signOut());else{try{localStorage.removeItem("token")}catch{}window.location.reload();return}}catch{}};return a.jsx("aside",{className:["hidden lg:flex lg:fixed lg:inset-y-0 lg:z-40",e?"lg:w-24":"lg:w-72"].join(" "),"aria-label":"Sidebar",children:a.jsxs("div",{className:"relative h-full w-full border-r border-white/10 bg-black/40 backdrop-blur-xl",children:[a.jsx(Ye,{intensity:.95,animated:!0}),a.jsxs("div",{className:"relative h-full flex flex-col",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",style:{background:"linear-gradient(180deg, rgba(20,20,24,0.40), rgba(20,20,24,0.40))"},children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[a.jsx("span",{className:"rounded-xl px-2.5 py-1 text-[11px] uppercase tracking-widest leading-none inline-flex items-center justify-center",style:{background:"rgba(255,255,255,0.08)",border:`1px solid ${gn.border}`},children:"BETA"}),a.jsx("h1",{className:"font-display text-xl font-semibold text-white",children:"CAS Каталог"})]}),o.map(u=>a.jsxs("section",{className:"mb-5",children:[a.jsx("h3",{className:"px-1 mb-2 text-[12px] tracking-wider uppercase opacity-70",children:u.title}),a.jsx("div",{className:"flex flex-col gap-2",children:u.items.map(({icon:d,title:f,to:h,onClick:g,badge:v})=>a.jsx(zT,{Icon:d,title:f,to:h,onClick:g,active:l(h),badge:typeof v=="number"&&v>0?v>nl?`${nl}+`:String(v):void 0},f))})]},u.title))]}),a.jsx("div",{className:"sticky bottom-0 z-[1] p-4 border-t border-white/10 bg-black/40 backdrop-blur-xl",children:s?a.jsx(WT,{user:s,unread:i,onOpenSettings:()=>t($c(s,"/profile")),onOpenNotifications:()=>t($c(s,"/notifications")),onLogout:c}):a.jsx(HT,{onLogin:()=>t("/login")})})]})]})})}function zT({Icon:e,title:t,to:n,onClick:r,active:s,badge:i}){const o=n?jl:"button",l=n?{to:n}:{type:"button",onClick:r};return a.jsxs(o,{...l,className:"relative overflow-hidden rounded-2xl border flex items-center gap-3 px-3 py-2",style:{borderColor:St.colors.border,background:s?`linear-gradient(135deg, ${St.colors.accent.primary}, ${St.colors.accent.secondary})`:St.colors.background.glass,color:s?"#ffffff":void 0,boxShadow:s?St.shadows.button:St.shadows.glass},children:[a.jsxs("div",{className:"grid place-items-center rounded-full relative",style:{width:44,height:44,background:s?`linear-gradient(135deg, ${St.colors.accent.primary}, ${St.colors.accent.secondary})`:"rgba(255,255,255,0.12)",boxShadow:s?St.shadows.button:"none"},children:[a.jsx(Re,{icon:e,style:s?{color:"#ffffff"}:void 0}),a.jsx(Le,{children:i&&a.jsx(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] rounded-full text-[11px] leading-none font-bold inline-flex items-center justify-center leading-none",style:{background:gn.accent,color:"#111",border:`1px solid ${gn.border}`},children:i})})]}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-display font-semibold whitespace-nowrap overflow-hidden text-ellipsis",style:{fontSize:"clamp(13px,3.2vw,15px)",lineHeight:1.2},children:t})}),n&&a.jsx("span",{className:"opacity-60 leading-none inline-flex items-center justify-center",children:a.jsx(Re,{icon:nh})})]})}function WT({user:e,unread:t,onOpenSettings:n,onOpenNotifications:r,onLogout:s}){const i=(e==null?void 0:e.avatarUrl)||(e==null?void 0:e.avatar_url)||(e==null?void 0:e.avatar)||"",o=(e==null?void 0:e.nickname)||(e==null?void 0:e.login)||"Профиль";return a.jsxs("div",{className:"relative rounded-2xl border border-white/10 bg-white/[.03] p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("button",{type:"button","aria-label":"Настройки",className:"inline-flex items-center gap-2 rounded-xl border px-2.5 py-1.5 text-sm",style:{borderColor:gn.border,background:"transparent"},onClick:n,children:a.jsx("span",{className:"inline-flex items-center justify-center rounded-full border leading-none",style:{width:28,height:28,borderColor:gn.border,background:"rgba(255,255,255,0.06)"},children:a.jsx(Re,{icon:el})})}),a.jsxs("button",{type:"button","aria-label":"Уведомления",className:"relative inline-flex items-center gap-2 rounded-xl border px-2.5 py-1.5 text-sm",style:{borderColor:gn.border,background:"transparent"},onClick:r,children:[a.jsxs("span",{className:"inline-flex items-center justify-center rounded-full border relative leading-none",style:{width:28,height:28,borderColor:gn.border,background:"rgba(255,255,255,0.06)"},children:[a.jsx(Re,{icon:Ll}),t>0&&a.jsx("span",{className:"absolute -top-1.5 -right-1.5 rounded-full text-[10px] font-bold px-1.5 h-4 leading-none inline-flex items-center justify-center",style:{background:St.colors.accent.primary,color:"#0a0a12",border:`1px solid ${St.colors.border}`,boxShadow:St.shadows.accent},children:t>nl?`${nl}+`:t})]}),a.jsx("span",{className:"text-white/90 leading-none inline-flex items-center justify-center",children:"Уведомления"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[i?a.jsx("img",{src:i,alt:o,className:"w-12 h-12 rounded-full border border-white/15 object-cover"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-accent border-white/15 grid place-items-center text-black",style:{background:gn.accent},children:a.jsx(eh,{className:"text-black w-[22px] h-[22px]"})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("div",{className:"font-semibold text-white truncate",children:o})})]})]})}function HT({onLogin:e}){return a.jsx("div",{className:"relative rounded-2xl border border-white/10 bg-white/[.03] p-4 flex items-center justify-center",children:a.jsx("button",{onClick:e,className:"shrink-0 rounded-2xl font-semibold hover:brightness-95 active:brightness-90 w-full px-6 h-12",style:{backgroundColor:"#f794dc",color:"var(--accent-contrast, #000000) !important",border:"none",textShadow:"none",fontSize:"1rem",lineHeight:"1.5rem",fontWeight:"bold"},children:"Войти"})})}const li=(e,t)=>e?t:`/login?next=${encodeURIComponent(t)}`,GT=e=>!!e&&(e.isAdmin||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.is_staff)),B={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",accent:"0 4px 16px rgba(215, 174, 251, 0.4)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif'}},Zr={buttonTap:{whileTap:{scale:.97}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function KT(){const[e,t]=p.useState(!1);p.useEffect(()=>{const o=document.documentElement,l=o.style.overflow,c=document.body.style.overscrollBehavior;return e&&(o.style.overflow="hidden",document.body.style.overscrollBehavior="contain"),()=>{o.style.overflow=l,document.body.style.overscrollBehavior=c}},[e]);const[n,r]=p.useState(0),s=ya(n),i=()=>{r(o=>o+1),t(!0)};return a.jsxs(a.Fragment,{children:[a.jsx(qT,{openMenu:i,ping:n,unread:s}),a.jsx(Le,{children:e&&a.jsx(YT,{onClose:()=>t(!1),ping:n,unread:s})})]})}function qT({openMenu:e,ping:t,unread:n}){const{user:r}=de(),s=bt();tt(),Bv();const i=p.useMemo(()=>[{id:"/characters",icon:rh,to:"/characters",label:"Каталог"},{id:"/rating",icon:th,to:"/rating",label:"Рейтинг"},{id:"/favorites",icon:Ds,to:li(r,"/favorites"),label:"Избранное"},{id:"/shop",icon:xo,to:"/shop",label:"Магазин"},{id:"more",icon:lT,action:e,label:"Меню",badge:n}],[r,n,e]);return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-40 md:hidden","aria-label":"Нижняя навигация",children:a.jsx("div",{className:"mx-auto max-w-[820px] px-3 pb-3 pt-2",style:{pointerEvents:"auto"},children:a.jsx("div",{className:"w-full rounded-2xl border backdrop-blur-xl",style:{borderColor:B.colors.border,background:B.colors.background.glass,boxShadow:B.shadows.glass},children:a.jsx("ul",{className:"grid grid-cols-5",children:i.map(o=>{const l=o.to&&(s.pathname===o.to||s.pathname.startsWith(o.to+"/")),c=o.badge,u=typeof c=="number"&&c>0,d=a.jsxs("div",{className:"relative",children:[a.jsx(E.div,{className:"rounded-full inline-flex items-center justify-center leading-none border mx-auto",style:{width:52,height:52,background:l?`linear-gradient(135deg, ${B.colors.accent.primary}, ${B.colors.accent.secondary})`:B.colors.background.glass,boxShadow:l?B.shadows.button:B.shadows.glass,border:"none"},whileTap:{scale:.95},children:u?a.jsx(E.div,{initial:{opacity:.9,scale:1},animate:{opacity:[.9,1,.9],scale:[1,1.06,1]},transition:{duration:1.4,repeat:1/0,ease:"easeInOut"},children:a.jsx(Re,{icon:o.icon,size:"row",color:l?"#ffffff":void 0})}):a.jsx(Re,{icon:o.icon,size:"row",color:l?"#ffffff":void 0})}),u&&a.jsx(E.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 rounded-full text-[11px] leading-[18px] font-bold inline-flex items-center justify-center leading-none",style:{background:B.colors.accent.primary,color:"#0a0a12",border:`1px solid ${B.colors.border}`,boxShadow:B.shadows.accent},children:c>99?"99+":c})]});return a.jsx("li",{className:"text-center",children:o.to?a.jsx(jl,{to:o.to,className:"block py-2","aria-current":l?"page":void 0,children:d}):a.jsx("button",{type:"button",onClick:o.action,className:"w-full h-full inline-flex items-center justify-center leading-none py-2",children:d})},o.id)})})})})})}function YT({onClose:e,ping:t,unread:n}){const r=bt(),s=tt();p.useMemo(()=>r.pathname!=="/notifications"&&n>0,[r.pathname,n]);const i=de()||{},o=i==null?void 0:i.user,c=Bv()?{duration:0}:{type:"tween",ease:"easeOut",duration:.28},{scrollY:u}=lr(),d=sn(u,[0,500],[.3,.1]),f=[{title:"Разделы",items:[{icon:rh,title:"Каталог",to:"/characters"},{icon:th,title:"Рейтинг",to:"/rating"},{icon:xo,title:"Магазин",to:li(o,"/shop")},{icon:Ds,title:"Избранное",to:li(o,"/favorites")}]},...GT(o)?[{title:"Управление",items:[{icon:el,title:"Админ-панель",to:"/admin"}]}]:[]];return a.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",role:"dialog","aria-modal":"true","aria-label":"Мобильное меню",children:[a.jsx(Ye,{intensity:d,className:"z-0"}),a.jsx(E.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0}}),a.jsx(E.div,{initial:{y:24,opacity:.98},animate:{y:0,opacity:1},className:"absolute inset-x-0 bottom-0 top-0 overflow-y-auto overscroll-contain",transition:c,exit:{opacity:0,transition:{duration:0}},children:a.jsxs("div",{className:"mx-auto max-w-[820px] px-4 pt-4 pb-[104px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(E.div,{...Zr.float,className:"rounded-full w-12 h-12 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${B.colors.accent.primary}, ${B.colors.accent.secondary})`,boxShadow:B.shadows.button},children:a.jsx(Re,{icon:Ds,size:"row",style:{color:"#ffffff"}})}),a.jsx("h1",{className:"text-2xl font-black",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:B.fonts.heading},children:"CAS Каталог"})]}),a.jsx(E.button,{...Zr.buttonTap,onClick:e,className:"rounded-full p-3",style:{background:B.colors.background.glass,border:`1px solid ${B.colors.border}`,color:B.colors.text.primary,boxShadow:B.shadows.glass},"aria-label":"Закрыть меню",children:a.jsx(Re,{icon:Wt,size:"row"})})]}),o?a.jsx("div",{className:"mb-8 rounded-2xl p-5",style:{background:B.colors.background.glass,boxShadow:B.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[o.avatarUrl||o.avatar||o.photoURL?a.jsx("img",{src:o.avatarUrl||o.avatar||o.photoURL,alt:"Аватар",className:"w-14 h-14 rounded-full object-cover",style:{border:`2px solid ${B.colors.border}`}}):a.jsx("div",{className:"w-14 h-14 rounded-full inline-flex items-center justify-center",style:{background:`linear-gradient(135deg, ${B.colors.accent.primary}, ${B.colors.accent.secondary})`,boxShadow:B.shadows.button},children:a.jsx(Re,{icon:eh,size:"avatar",style:{color:"#ffffff"}})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-bold text-lg",style:{color:B.colors.text.primary},children:(o==null?void 0:o.nickname)||(o==null?void 0:o.login)}),(o==null?void 0:o.login)&&a.jsx("p",{className:"text-sm",style:{color:B.colors.text.muted},children:o==null?void 0:o.login})]}),a.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[a.jsx(E.button,{...Zr.buttonTap,type:"button","aria-label":"Настройки профиля",className:"h-11 w-11 rounded-full inline-flex items-center justify-center",style:{background:B.colors.background.glass,color:B.colors.text.primary,boxShadow:B.shadows.glass},onClick:()=>{e(),s(li(o,"/profile"))},children:a.jsx(Re,{icon:el,size:"row"})}),a.jsxs(E.button,{...Zr.buttonTap,type:"button","aria-label":"Уведомления",className:"relative h-11 w-11 rounded-full inline-flex items-center justify-center",style:{background:B.colors.background.glass,color:B.colors.text.primary,boxShadow:B.shadows.glass},onClick:()=>{e(),s(li(o,"/notifications"))},children:[a.jsx(Re,{icon:Ll,size:"row"}),a.jsx(Le,{children:n>0&&a.jsx(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.18},className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] px-[6px] rounded-full text-[11px] leading-[20px] font-bold inline-flex items-center justify-center",style:{background:B.colors.accent.primary,color:"#0a0a12",border:`1px solid ${B.colors.border}`,boxShadow:B.shadows.accent},children:n>99?"99+":n})})]})]})]})}):a.jsx("div",{className:"mb-8 rounded-2xl p-5",style:{background:B.colors.background.glass,boxShadow:B.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"rounded-full inline-flex items-center justify-center",style:{width:56,height:56,background:B.colors.background.glass,boxShadow:B.shadows.glass},children:a.jsx(Re,{icon:tT,size:"row"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-bold text-lg mb-1",style:{color:B.colors.text.primary},children:"Войдите"}),a.jsx("p",{className:"text-sm",style:{color:B.colors.text.muted},children:"Чтобы сохранять избранное"})]}),a.jsx(jl,{to:"/login",onClick:e,className:"rounded-full font-bold px-5 py-3",style:{background:`linear-gradient(135deg, ${B.colors.accent.primary}, ${B.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:B.shadows.button},children:"Войти"})]})}),a.jsx("div",{className:"flex flex-col gap-6",children:f.map(h=>a.jsxs("section",{className:"flex flex-col gap-3",children:[a.jsx("h3",{className:"px-1 text-sm uppercase tracking-wider font-bold",style:{color:B.colors.text.muted},children:h.title}),a.jsx("div",{className:"flex flex-col gap-2",children:h.items.map(({icon:g,title:v,to:w,onClick:b,badge:m,pulse:y})=>{const x=w&&(r.pathname===w||r.pathname.startsWith(w+"/"));return a.jsx(XT,{Icon:g,title:v,to:w,onClick:b,active:!!x,onClose:e,badge:m,pulse:y},v)})})]},h.title))}),a.jsxs("section",{className:"flex flex-col gap-3 mt-8",children:[a.jsx("h3",{className:"px-1 text-sm uppercase tracking-wider font-bold",style:{color:B.colors.text.muted},children:"Сообщество"}),a.jsxs(E.a,{...Zr.buttonTap,href:"https://t.me/cascharacter",target:"_blank",rel:"noopener noreferrer",onClick:e,className:"relative overflow-hidden rounded-2xl flex items-center gap-4 px-5 py-4",style:{background:"linear-gradient(135deg, #4facfe, #00f2fe)",color:"#ffffff",boxShadow:"0 6px 20px rgba(79, 172, 254, 0.3)"},children:[a.jsx("div",{className:"flex items-center justify-center rounded-full",style:{width:44,height:44,background:"rgba(255, 255, 255, 0.2)"},children:a.jsx(Re,{icon:yo,size:"dockLg",style:{color:"#ffffff"}})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold text-lg",children:"Telegram Канал"})}),a.jsx(Re,{icon:nh,size:"row"})]})]})]})})]})}function XT({Icon:e,title:t,to:n,onClick:r,active:s,onClose:i,badge:o,pulse:l,dot:c}){const u=n?jl:"button",d=n?{to:n,onClick:i}:{type:"button",onClick:()=>{r==null||r(),i==null||i()},role:"button"},f=typeof o=="number"&&o>0;return a.jsx(E.div,{...Zr.buttonTap,children:a.jsxs(u,{...d,className:"relative overflow-hidden rounded-2xl flex items-center gap-4 px-5 py-4 transition-all duration-300",style:{background:s?`linear-gradient(135deg, ${B.colors.accent.primary}, ${B.colors.accent.secondary})`:B.colors.background.glass,color:s?"#ffffff":B.colors.text.primary,boxShadow:s?B.shadows.button:B.shadows.glass},children:[a.jsxs("div",{className:"inline-flex items-center justify-center shrink-0 rounded-full",style:{width:44,height:44,background:s?"rgba(255, 255, 255, 0.2)":B.colors.background.glass},children:[l&&f?a.jsx(E.div,{initial:{opacity:.9,scale:1},animate:{opacity:[.9,1,.9],scale:[1,1.08,1]},transition:{duration:1.4,repeat:1/0,ease:"easeInOut"},children:a.jsx(Re,{icon:e,size:"row",color:s?"#ffffff":void 0})}):a.jsx(Re,{icon:e,size:"row",color:s?"#ffffff":void 0}),a.jsx(Le,{children:f&&a.jsx(E.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] px-1 rounded-full text-[11px] leading-[20px] font-bold inline-flex items-center justify-center",style:{background:"#ffffff",color:"#0a0a12",border:`1px solid ${B.colors.border}`,boxShadow:B.shadows.accent},children:o>99?"99+":o})})]}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold text-lg",children:t})}),n&&a.jsx(Re,{icon:nh,size:"row"})]})})}function QT(){const[e,t]=p.useState(!1),{pathname:n}=bt(),r=n.startsWith("/characters");return a.jsxs("div",{className:["relative min-h-screen",r?"bg-transparent":"bg-[#0e1116]"].join(" "),children:[!r&&a.jsx(Ye,{intensity:.9,animated:!0}),a.jsx(UT,{isCollapsed:e,setCollapsed:t}),a.jsx("main",{className:["relative z-10 max-w-[2000px] mx-auto","pt-4 lg:pt-6 px-4 sm:px-6",e?"lg:pl-24":"lg:pl-72"].join(" "),children:a.jsx("div",{className:"pb-28 lg:pb-8",children:a.jsx(dk,{})})}),a.jsx(KT,{})]})}const ie={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Gr={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},ZT=({onClose:e,onSwitchToRegister:t})=>{const n=tt(),r=bt(),{login:s,isUserBlocked:i}=de(),o=p.useMemo(()=>new URLSearchParams(r.search).get("next")||"/",[r.search]),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),[g,v]=p.useState(!1),[w,b]=p.useState(null),m=k=>/@/.test(k),y=async k=>{if(k.preventDefault(),b(null),!l||!u){b("Введите логин/почту и пароль");return}v(!0);const S=l.toLowerCase();if(await i(S)){b("Этот аккаунт заблокирован."),v(!1);return}try{await s(S,u)===Ha.SUCCESS?e?e():n(o):b("Неверный логин/почта или пароль.")}catch{b("Неверный логин/почта или пароль.")}finally{v(!1)}},x=k=>{t?t():n(k)},j=()=>a.jsx(E.button,{...Gr.buttonTap,type:"button",onClick:()=>e?e():n(-1),"aria-label":"Закрыть",className:"absolute right-4 top-4 p-2 rounded-full transition-all duration-300",style:{background:ie.colors.background.glass,color:ie.colors.text.primary,border:`1px solid ${ie.colors.border}`,boxShadow:ie.shadows.glass},children:a.jsx(Wt,{className:"w-5 h-5"})});return a.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-3",style:{fontFamily:ie.fonts.body},children:[a.jsx(Ye,{intensity:.9,animated:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:e}),a.jsxs(E.div,{...Gr.fadeInUp(.2),className:"relative z-10 w-full max-w-sm rounded-2xl",style:{background:ie.colors.background.glass,border:`1px solid ${ie.colors.border}`,boxShadow:ie.shadows.glass,padding:"2rem"},onClick:k=>k.stopPropagation(),children:[a.jsx(j,{}),a.jsx("h1",{className:"text-2xl font-black mb-2 text-center",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:ie.fonts.heading},children:"Вход в аккаунт"}),a.jsxs("p",{className:"text-center mb-6",style:{color:ie.colors.text.muted},children:["Логин ",a.jsx("span",{className:"opacity-60",children:"или"})," почта + пароль"]}),w&&a.jsxs(E.div,{...Gr.buttonTap,className:"flex items-start gap-3 p-4 mb-6 rounded-2xl",style:{background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",boxShadow:"0 4px 16px rgba(255, 107, 107, 0.2)"},children:[a.jsx(Gv,{className:"w-5 h-5 mt-0.5 shrink-0",style:{color:"#ff6b6b"}}),a.jsx("span",{className:"text-sm",style:{color:"#ff6b6b"},children:w})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4 transition-all duration-300",style:{background:ie.colors.background.glass,border:`1px solid ${ie.colors.border}`,boxShadow:ie.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:m(l)?a.jsx(to,{className:"w-5 h-5",style:{color:ie.colors.text.muted}}):a.jsx(Fr,{className:"w-5 h-5",style:{color:ie.colors.text.muted}})}),a.jsx("input",{id:"identifier",type:"text",autoComplete:"username email",placeholder:"Логин или email",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:ie.colors.text.primary},value:l,onChange:k=>c(k.target.value)})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4 transition-all duration-300",style:{background:ie.colors.background.glass,border:`1px solid ${ie.colors.border}`,boxShadow:ie.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Ts,{className:"h-5 w-5",style:{color:ie.colors.text.muted}})}),a.jsx("input",{id:"password",type:f?"text":"password",autoComplete:"current-password",placeholder:"••••••••",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:ie.colors.text.primary},value:u,onChange:k=>d(k.target.value)}),a.jsx(E.button,{...Gr.buttonTap,type:"button",onClick:()=>h(k=>!k),className:"flex shrink-0 items-center justify-center p-2 rounded-full transition-colors hover:bg-white/10",style:{color:ie.colors.text.muted},children:f?a.jsx(qv,{className:"w-5 h-5"}):a.jsx(Yv,{className:"w-5 h-5"})})]}),a.jsx(E.button,{...Gr.buttonTap,type:"submit",disabled:g,className:"w-full h-12 rounded-full font-bold text-sm",style:{background:`linear-gradient(135deg, ${ie.colors.accent.primary}, ${ie.colors.accent.secondary})`,color:"#ffffff",boxShadow:ie.shadows.button},children:g?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(go,{className:"w-4 h-4 animate-spin"})," Входим…"]}):"Войти в аккаунт"})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-sm mb-2",style:{color:ie.colors.text.muted},children:"Еще нет аккаунта?"}),a.jsx(E.button,{...Gr.buttonTap,type:"button",onClick:()=>x("/register"),className:"text-sm font-bold",style:{color:ie.colors.accent.primary},children:"Зарегистрироваться"})]})]})]})},Z={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Kr={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},JT=({onClose:e,onSwitchToLogin:t})=>{const n=tt(),{register:r}=de(),[s,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,g]=p.useState(!1),[v,w]=p.useState(!1),[b,m]=p.useState(null),y=async k=>{if(k.preventDefault(),m(null),!s||!o||!c||!d){m("Заполните все поля");return}if(d.length<8){m("Пароль должен быть не менее 8 символов");return}try{w(!0);const S=await r(s.toLowerCase(),o,c.toLowerCase(),d);S.success?e?e():n("/"):m(S.message)}catch{m("Не удалось зарегистрироваться. Проверьте данные.")}finally{w(!1)}},x=k=>{t?t():n(k)},j=()=>a.jsx(E.button,{...Kr.buttonTap,type:"button",onClick:()=>e?e():n(-1),"aria-label":"Закрыть",className:"absolute right-4 top-4 p-2 rounded-full transition-all duration-300",style:{background:Z.colors.background.glass,color:Z.colors.text.primary,border:`1px solid ${Z.colors.border}`,boxShadow:Z.shadows.glass},children:a.jsx(Wt,{className:"w-5 h-5"})});return a.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-3",style:{fontFamily:Z.fonts.body},children:[a.jsx(Ye,{intensity:.9,animated:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:e}),a.jsxs(E.div,{...Kr.fadeInUp(.2),className:"relative z-10 w-full max-w-sm rounded-2xl",style:{background:Z.colors.background.glass,border:`1px solid ${Z.colors.border}`,boxShadow:Z.shadows.glass,padding:"2rem"},onClick:k=>k.stopPropagation(),children:[a.jsx(j,{}),a.jsx("h1",{className:"text-2xl font-black mb-2 text-center",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:Z.fonts.heading},children:"Регистрация"}),a.jsx("p",{className:"text-center mb-6",style:{color:Z.colors.text.muted},children:"Логин, никнейм, почта и пароль (мин. 8 симв.)"}),b&&a.jsxs(E.div,{...Kr.buttonTap,className:"flex items-start gap-3 p-4 mb-6 rounded-2xl",style:{background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",boxShadow:"0 4px 16px rgba(255, 107, 107, 0.2)"},children:[a.jsx(Gv,{className:"w-5 h-5 mt-0.5 shrink-0",style:{color:"#ff6b6b"}}),a.jsx("span",{className:"text-sm",style:{color:"#ff6b6b"},children:b})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:Z.colors.background.glass,border:`1px solid ${Z.colors.border}`,boxShadow:Z.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Fr,{className:"w-5 h-5",style:{color:Z.colors.text.muted}})}),a.jsx("input",{id:"username",type:"text",autoComplete:"username",placeholder:"Логин (для входа)",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:Z.colors.text.primary},value:s,onChange:k=>i(k.target.value.trim())})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:Z.colors.background.glass,border:`1px solid ${Z.colors.border}`,boxShadow:Z.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Za,{className:"w-5 h-5",style:{color:Z.colors.text.muted}})}),a.jsx("input",{id:"nickname",type:"text",autoComplete:"nickname",placeholder:"Никнейм (для чата)",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:Z.colors.text.primary},value:o,onChange:k=>l(k.target.value)})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:Z.colors.background.glass,border:`1px solid ${Z.colors.border}`,boxShadow:Z.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(to,{className:"w-5 h-5",style:{color:Z.colors.text.muted}})}),a.jsx("input",{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:Z.colors.text.primary},value:c,onChange:k=>u(k.target.value.trim())})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:Z.colors.background.glass,border:`1px solid ${Z.colors.border}`,boxShadow:Z.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Ts,{className:"h-5 w-5",style:{color:Z.colors.text.muted}})}),a.jsx("input",{id:"password",type:h?"text":"password",autoComplete:"new-password",placeholder:"••••••••",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:Z.colors.text.primary},value:d,onChange:k=>f(k.target.value)}),a.jsx(E.button,{...Kr.buttonTap,type:"button",onClick:()=>g(k=>!k),className:"flex shrink-0 items-center justify-center p-2 rounded-full transition-colors hover:bg-white/10",style:{color:Z.colors.text.muted},children:h?a.jsx(qv,{className:"w-5 h-5"}):a.jsx(Yv,{className:"w-5 h-5"})})]}),a.jsx(E.button,{...Kr.buttonTap,type:"submit",disabled:v,className:"w-full h-12 rounded-full font-bold text-sm",style:{background:`linear-gradient(135deg, ${Z.colors.accent.primary}, ${Z.colors.accent.secondary})`,color:"#ffffff",boxShadow:Z.shadows.button},children:v?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(go,{className:"w-4 h-4 animate-spin"})," Создаем…"]}):"Создать аккаунт"})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-sm mb-2",style:{color:Z.colors.text.muted},children:"Уже есть аккаунт?"}),a.jsx(E.button,{...Kr.buttonTap,type:"button",onClick:()=>x("/login"),className:"text-sm font-bold",style:{color:Z.colors.accent.primary},children:"Войти"})]})]})]})},n1=e=>{if(e%100>=11&&e%100<=19)return`${e} лет`;const t=e%10;return t===1?`${e} год`:t>=2&&t<=4?`${e} года`:`${e} лет`},q={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:(e=0)=>({initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:e}}),starPulse:{animate:{scale:[1,1.2,1],y:[0,-4,0]},transition:{duration:.6,ease:"easeInOut"}},buttonTap:{whileTap:{scale:.97,transition:{duration:.1}}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"}}},no=I.memo(({text:e,active:t=!1,onClick:n,isCategory:r=!1})=>a.jsx(E.button,{...q.buttonTap,onClick:n,variants:q.fadeInStagger(),className:`inline-flex items-center justify-center px-4 py-2 rounded-full text-sm font-medium border transition-all duration-300
      ${t?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white border-transparent filter drop-shadow-button-glow":r?"bg-purple-500/20 text-purple-300 border-purple-500/30":"bg-white/10 text-slate-200 border-white/20 hover:bg-white/20"}`,disabled:!n,children:a.jsx("span",{children:e})}));no.displayName="TagBadge";const ro=I.memo(({icon:e,text:t,colorClass:n})=>a.jsxs(E.div,{variants:q.fadeInStagger(),className:`flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium shadow-lg ${n}`,children:[e,a.jsx("span",{children:t})]}));ro.displayName="InfoBadge";const hn={colors:{background:{glass:"rgba(16, 16, 22, 0.6)",dark:"var(--bg-dark)"},border:"rgba(255, 255, 255, 0.1)",accent:{primary:"var(--accent-primary)",secondary:"#ff6bd6"}},fonts:{heading:"var(--font-family-heading)",body:"var(--font-family-body)"}},eE={buttonTap:{whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:15}}},ch=p.memo(function({character:t,onClick:n}){var V;const{user:r,toggleFavorite:s}=de(),[i,o]=p.useState(!1),{id:l,name:c,photo:u,occupation:d,gender:f,age:h,ageGroup:g,tags:v,description:w,createdAt:b,isNew:m,category:y}=t,{reviews:x}=uo(),{avgRating:j,reviewsCount:k}=p.useMemo(()=>{const F=x.filter(fe=>fe.characterId===l&&typeof fe.rating=="number"&&fe.rating>0);return F.length===0?{avgRating:0,reviewsCount:0}:{avgRating:F.reduce((fe,Fe)=>fe+(Fe.rating||0),0)/F.length,reviewsCount:F.length}},[x,l]),C=(F=>F?typeof F=="number"?F:typeof F=="string"?Number.isNaN(Date.parse(F))?null:Date.parse(F):F instanceof Date?F.getTime():typeof F=="object"&&(F==null?void 0:F.toDate)instanceof Function?F.toDate().getTime():typeof F=="object"&&typeof(F==null?void 0:F.seconds)=="number"?F.seconds*1e3:null:null)(b),T=C!==null&&Date.now()-C<7*24*60*60*1e3,M=!!m||T,N=((V=r==null?void 0:r.favorites)==null?void 0:V.includes(l))||!1,D=async F=>{F.stopPropagation(),r&&!i&&(o(!0),await s(l),o(!1))};return a.jsxs(E.div,{onClick:()=>n(t),className:"relative w-full cursor-pointer flex flex-col rounded-2xl overflow-hidden shadow-lg",style:{fontFamily:hn.fonts.body,background:hn.colors.background.dark},tabIndex:0,children:[a.jsxs("div",{className:"relative w-full h-0",style:{paddingTop:"100%"},children:[a.jsx("img",{src:u,alt:c,loading:"lazy",className:"absolute top-0 left-0 w-full h-full object-cover"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 pointer-events-none",style:{background:`linear-gradient(to top, ${hn.colors.background.dark}, transparent)`}}),a.jsxs("div",{className:"absolute top-3 left-3 right-3 z-10 flex justify-between items-start",children:[M?a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-bold bg-black/50 text-white border border-white/20 backdrop-blur-md",children:[a.jsx(R4,{size:14,fill:"currentColor",stroke:"none",className:"text-orange-500"}),a.jsx("span",{children:"Новый"})]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-bold bg-black/50 text-white border border-white/20 backdrop-blur-md",children:[a.jsx(ah,{className:"w-4 h-4 text-yellow-400",fill:"currentColor"}),a.jsx("span",{className:"mt-px",children:k>0?j.toFixed(1):"—"})]})]}),r&&a.jsx(E.button,{...eE.buttonTap,onClick:D,disabled:i,className:"absolute bottom-3 right-3 w-10 h-10 rounded-full flex items-center justify-center z-10",style:{background:N?`linear-gradient(135deg, ${hn.colors.accent.primary}, ${hn.colors.accent.secondary})`:hn.colors.background.glass,border:`1px solid ${N?"transparent":hn.colors.border}`},"aria-label":N?"Убрать из избранного":"Добавить в избранное",children:i?a.jsx(go,{className:"w-5 h-5 animate-spin text-white"}):a.jsx(Ds,{className:"w-5 h-5",fill:"currentColor",stroke:"none",style:{color:N?"#ffffff":hn.colors.accent.primary}})})]}),a.jsxs("div",{className:"relative p-4 z-10",children:[a.jsxs("div",{className:"text-center mb-3",children:[a.jsx("h3",{className:"text-2xl font-black truncate text-[var(--text-primary)]",style:{fontFamily:hn.fonts.heading},children:c}),a.jsx("p",{className:"font-medium text-base truncate mt-1 text-[var(--text-secondary)]",children:d})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 mb-3",children:[a.jsx(ro,{icon:a.jsx(Fr,{size:14}),text:f==="male"?"Мужчина":"Женщина",colorClass:"bg-white/5 text-text-secondary border border-white/10"}),a.jsx(ro,{icon:g==="immortal"?a.jsx(oh,{size:14}):a.jsx(Hv,{size:14}),text:g==="immortal"?"Бессмертный":n1(h),colorClass:"bg-white/5 text-text-secondary border border-white/10"})]}),(y==null?void 0:y.length)>0&&a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1.5 mb-3",children:y.slice(0,3).map(F=>a.jsx(no,{text:F,isCategory:!0},F))}),(v==null?void 0:v.length)>0&&a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1.5 mb-3",children:v.slice(0,3).map(F=>a.jsx(no,{text:F},F))}),a.jsx("p",{className:"text-[13px] font-bold text-center leading-relaxed text-[var(--text-muted)]",children:w})]})]})}),Al=()=>a.jsxs("div",{className:"relative w-full max-w-sm mx-auto aspect-[3/4] rounded-[28px] overflow-hidden bg-white/5 p-4 animate-pulse",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-7 w-20 rounded-full bg-white/10"}),a.jsx("div",{className:"h-7 w-16 rounded-full bg-white/10"})]}),a.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10"})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[a.jsx("div",{className:"h-7 w-3/4 rounded-lg bg-white/10 mb-2"}),a.jsx("div",{className:"h-5 w-1/2 rounded-lg bg-white/10 mb-3"}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"h-6 w-24 rounded-full bg-white/10"}),a.jsx("div",{className:"h-6 w-24 rounded-full bg-white/10"})]}),a.jsx("div",{className:"h-4 w-full rounded-lg bg-white/10 mb-1"}),a.jsx("div",{className:"h-4 w-3/4 rounded-lg bg-white/10"})]})]});function r1(e,t){const[n,r]=p.useState(e);return p.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n}const pt=I.memo(({children:e,className:t="",delay:n=0})=>a.jsx(E.div,{variants:q.fadeInUp(n),initial:"initial",animate:"animate",className:`rounded-lg border bg-glass backdrop-blur-xl p-5 sm:p-6 shadow-glass ${t}`,children:e}));pt.displayName="GlassPanel";const tE=I.memo(()=>a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})),nE=I.memo(({filled:e=!1})=>a.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:e?"currentColor":"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M12 21.35L10.55 20.03C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5C22 12.27 18.6 15.36 13.45 20.03L12 21.35Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})})),rE=I.memo(({filled:e=!1,color:t="currentColor",size:n=24})=>a.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:e?t:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})),sE=I.memo(()=>a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})),iE=I.memo(()=>a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M15 3h6v6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M10 14 21 3",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})),oE=I.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),aE=I.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M20 21v-2a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M4 17a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v2H4v-2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 15V9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M8 9H8.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M16 9H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 3L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),lE=I.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M9.83 6.17a4 4 0 1 0 0 11.66",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M14.17 6.17a4 4 0 1 1 0 11.66",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),s1=I.memo(()=>a.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"animate-spin",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M12 2v4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M12 18v4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M4.93 4.93l2.83 2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M16.24 16.24l2.83 2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M2 12h4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M18 12h4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M4.93 19.07l2.83-2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M16.24 7.76l2.83-2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"})]})),cE=I.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})),uE=I.memo(({size:e=20})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})),dE=I.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M4 21V14M4 10V3M12 21V12M12 8V3M20 21V16M20 12V3M1 14H7M9 8H15M17 16H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}));I.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M3 2V6H7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M3 13C3 9.13401 6.13401 6 10 6C11.8466 6 13.5352 6.71631 14.8038 7.88615C16.0725 9.05598 16.8519 10.6157 17 12.25C17.1481 13.8843 16.3687 15.444 15.0999 16.6138C13.8312 17.7837 12.1426 18.5 10.3 18.5C8.8986 18.4986 7.52554 18.0826 6.3424 17.3011C5.15925 16.5196 4.21514 15.405 3.618 14.085",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));I.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M17 7C17 9.20914 18.7909 11 21 11C23.2091 11 25 9.20914 25 7C25 4.79086 23.2091 3 21 3C18.7909 3 17 4.79086 17 7Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));I.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"9",r:"5",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 14V22M19 17L12 22L5 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}));I.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"9",r:"5",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 14V22M16 18H8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}));I.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));I.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M3 10H21M3 14H21M12 3L12 21M12 21L8 17M12 21L16 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}));I.memo(({size:e=40})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("circle",{cx:"8",cy:"9",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"16",cy:"9",r:"1",fill:"currentColor"})]}));const i1=I.memo(({value:e,onChange:t,onToggleFilters:n,filtersOpen:r,activeCount:s,isLoading:i})=>{const[o,l]=p.useState(!1),c=s>0;return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-text-muted",children:a.jsx(uE,{size:20})}),a.jsx("input",{type:"text",placeholder:"Поиск",value:e,onChange:u=>t(u.target.value),onFocus:()=>l(!0),onBlur:()=>l(!1),className:"w-full h-14 pl-14 pr-36 sm:pr-40 rounded-lg bg-transparent border focus:outline-none transition-all duration-300",style:{borderColor:o?"var(--accent-primary)":"var(--border-color)",boxShadow:o?"0 0 0 3px rgba(var(--accent-primary-rgb), 0.2)":"none"}}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[i&&a.jsx(s1,{}),a.jsxs(E.button,{...q.buttonTap,onClick:n,"aria-pressed":r,className:`inline-flex items-center gap-2 h-10 px-4 rounded-md text-sm font-medium transition-all duration-300 ${r?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white shadow-button":"bg-badge-tag text-text-secondary border border-default hover:bg-glass-hover"}`,children:[a.jsx(dE,{size:16}),a.jsx("span",{className:"hidden sm:inline",children:"Фильтры"}),c&&a.jsx("span",{className:"ml-1 min-w-[20px] h-[20px] px-1.5 rounded-full text-xs font-bold text-dark bg-accent-primary flex items-center justify-center",children:s>9?"9+":String(s)})]})]})]})});i1.displayName="SearchBar";const $t=I.memo(({icon:e,label:t,active:n,onClick:r})=>a.jsxs(E.button,{...q.buttonTap,onClick:r,className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300 border
          ${n?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white border-transparent shadow-button":"bg-badge-tag text-text-secondary border-default hover:bg-glass-hover"}`,children:[e&&a.jsx(e,{size:16}),a.jsx("span",{children:t})]}));$t.displayName="FilterChip";const fE=({tag:e,status:t,onClick:n})=>{const r="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-all duration-200 cursor-pointer",s={off:"bg-badge-tag text-text-secondary border-default hover:bg-glass-hover",include:"bg-green-500/20 text-green-300 border-green-500/30 filter drop-shadow-[0_0_4px_rgba(74,222,128,0.5)]",exclude:"bg-red-500/20 text-red-300 border-red-500/30 filter drop-shadow-[0_0_4px_rgba(248,113,113,0.5)]"};return a.jsx(E.button,{...q.buttonTap,onClick:n,className:`${r} ${s[t]}`,children:a.jsx("span",{children:e})})};function hE(){const e=tt(),{characters:t,filters:n,setFilters:r,charactersLoading:s}=$e(),[i,o]=p.useState(n.search??""),[l,c]=p.useState(!1),u=r1(i,300),{scrollY:d}=lr(),f=sn(d,[0,500],[.3,.1]);p.useEffect(()=>()=>{r(m=>({...m,search:"",gender:"all",ageGroup:"all",sortBy:"newest",includeTags:[],excludeTags:[],category:[]}))},[r]),p.useEffect(()=>{r(m=>({...m,search:u}))},[u,r]);const h=p.useMemo(()=>{const m=new Set;return t.forEach(y=>(y.category||[]).forEach(x=>m.add(x))),Array.from(m).sort((y,x)=>y.localeCompare(x))},[t]),g=p.useCallback(m=>{r(y=>{const x=y.includeCategories.includes(m),j=y.excludeCategories.includes(m);return!x&&!j?{...y,includeCategories:[...y.includeCategories,m]}:x?{...y,includeCategories:y.includeCategories.filter(k=>k!==m),excludeCategories:[...y.excludeCategories,m]}:{...y,excludeCategories:y.excludeCategories.filter(k=>k!==m)}})},[r]),v=p.useMemo(()=>t.filter(m=>{const y=(n.search||"").toLowerCase(),x=!y||m.name.toLowerCase().includes(y)||(m.occupation||"").toLowerCase().includes(y)||(m.description||"").toLowerCase().includes(y)||(m.tags||[]).some(N=>N.toLowerCase().includes(y)),j=n.gender==="all"||m.gender===n.gender,k=n.ageGroup==="all"||m.ageGroup===n.ageGroup,S=n.includeTags.length===0||n.includeTags.every(N=>m.tags.includes(N)),C=n.excludeTags.length===0||!n.excludeTags.some(N=>m.tags.includes(N)),T=n.includeCategories.length===0||n.includeCategories.some(N=>(m.category||[]).includes(N)),M=n.excludeCategories.length===0||!n.excludeCategories.some(N=>(m.category||[]).includes(N));return x&&j&&k&&S&&C&&T&&M}).sort((m,y)=>n.sortBy==="rating"?(y.rating||0)-(m.rating||0):n.sortBy==="name"?m.name.localeCompare(y.name):new Date(y.createdAt).getTime()-new Date(m.createdAt).getTime()),[t,n]),w=(n.gender!=="all"?1:0)+(n.ageGroup!=="all"?1:0)+(n.sortBy!=="newest"?1:0)+n.includeTags.length+n.excludeTags.length+n.includeCategories.length+n.excludeCategories.length,b=()=>{r({search:"",gender:"all",ageGroup:"all",sortBy:"newest",includeTags:[],excludeTags:[],includeCategories:[],excludeCategories:[]}),o("")};return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:"var(--font-family-body)",backgroundColor:"var(--bg)",color:"var(--text-primary)"},children:[a.jsx(Ye,{intensity:f}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...q.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"👤 Каталог персонажей"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:"var(--text-muted)"},children:"Найдите своего идеального собеседника"})]}),a.jsxs(pt,{delay:.2,className:"mb-6",style:{background:"var(--glass)",border:"1px solid var(--border)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.35)",backdropFilter:"blur(16px)"},children:[a.jsx(i1,{value:i,onChange:o,onToggleFilters:()=>c(m=>!m),filtersOpen:l,activeCount:w,isLoading:s}),a.jsx(Le,{children:l&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"border-t border-border mt-4 pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Фильтры"}),a.jsxs(E.button,{...q.buttonTap,onClick:b,className:"inline-flex items-center gap-2 h-9 px-3 rounded-full text-sm font-medium",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"#ffffff",border:"none",boxShadow:"0 4px 16px rgba(215, 174, 251, 0.0)"},children:[a.jsx(sg,{size:14})," ",a.jsx("span",{children:"Сбросить"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5 p-1",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Пол"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx($t,{icon:Dr,label:"Все",active:n.gender==="all",onClick:()=>r({...n,gender:"all"})}),a.jsx($t,{icon:Xv,label:"Мужчины",active:n.gender==="male",onClick:()=>r({...n,gender:"male"})}),a.jsx($t,{icon:t1,label:"Женщины",active:n.gender==="female",onClick:()=>r({...n,gender:"female"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Возраст"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx($t,{icon:Dr,label:"Все",active:n.ageGroup==="all",onClick:()=>r({...n,ageGroup:"all"})}),a.jsx($t,{icon:Hv,label:"18+",active:n.ageGroup==="18+",onClick:()=>r({...n,ageGroup:"18+"})}),a.jsx($t,{icon:ad,label:"45+",active:n.ageGroup==="45+",onClick:()=>r({...n,ageGroup:"45+"})}),a.jsx($t,{icon:oh,label:"Бессмертные",active:n.ageGroup==="immortal",onClick:()=>r({...n,ageGroup:"immortal"})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Сортировка"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx($t,{icon:ad,label:"Сначала новые",active:n.sortBy==="newest",onClick:()=>r({...n,sortBy:"newest"})}),a.jsx($t,{icon:ah,label:"По рейтингу",active:n.sortBy==="rating",onClick:()=>r({...n,sortBy:"rating"})}),a.jsx($t,{icon:zv,label:"По имени (А-Я)",active:n.sortBy==="name",onClick:()=>r({...n,sortBy:"name"})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Категории"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(m=>{const y=n.includeCategories.includes(m),x=n.excludeCategories.includes(m),j=y?"include":x?"exclude":"off";return a.jsx(fE,{tag:m,status:j,onClick:()=>g(m)},m)})})]})]})]})})})]}),s?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:Array.from({length:12}).map((m,y)=>a.jsx(Al,{},y))}):v.length>0?a.jsx(E.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:a.jsx(Le,{children:v.map((m,y)=>a.jsx(E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.6,ease:[.25,.1,.25,1]},children:a.jsx(ch,{character:m,onClick:()=>e(`/characters/${m.id}`)})},m.id))})}):a.jsxs(pt,{className:"text-center py-16",style:{background:"var(--glass)",border:"1px solid var(--border)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.35)",backdropFilter:"blur(16px)"},children:[a.jsx(E.div,{...q.float,className:"w-16 h-16 mx-auto mb-6",style:{color:"var(--text-muted)"},children:a.jsx(ih,{size:40})}),a.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)"},children:"Ничего не найдено"}),a.jsx("p",{className:"mb-6 text-sm sm:text-base",style:{color:"var(--text-muted)"},children:"Попробуйте изменить критерии поиска или сбросить фильтры."}),a.jsxs(E.button,{...q.buttonTap,onClick:b,className:"inline-flex items-center gap-2 px-6 py-3.5 rounded-full font-bold text-sm",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"#ffffff",border:"none",boxShadow:"0 6px 20px rgba(255, 107, 214, 0.3)"},children:[a.jsx(sg,{size:16})," Сбросить все фильтры"]})]})]})]})}function o1({characterId:e,parentReviewId:t,replyToName:n,onSubmit:r,onCancel:s,autoFocus:i=!1}){const{user:o}=de(),{addReview:l}=uo(),[c,u]=p.useState(""),[d,f]=p.useState(!1),[h,g]=p.useState(null),v=p.useRef(null);p.useEffect(()=>{i&&v.current&&v.current.focus()},[i]),p.useEffect(()=>{v.current&&(v.current.style.height="auto",v.current.style.height=`${v.current.scrollHeight}px`)},[c]);const w=async b=>{if(b.preventDefault(),c.trim().length===0||!o)return;f(!0),g(null);const m=n?`@${n} ${c.trim()}`:c.trim();try{await l({characterId:e,comment:m,parentReview:t})?(u(""),r()):g("Не удалось опубликовать комментарий.")}catch{g("Произошла ошибка.")}finally{f(!1)}};return o?a.jsxs("form",{onSubmit:w,className:"flex items-start gap-3",children:[a.jsx("img",{src:o.avatar||`https://ui-avatars.com/api/?name=${o.nickname}&background=random`,alt:"Ваш аватар",className:"w-10 h-10 rounded-full border-2 border-default mt-1 shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"rounded-xl border border-default bg-item focus-within:ring-2 focus-within:ring-accent-primary transition-all overflow-hidden",children:a.jsx("textarea",{ref:v,value:c,onChange:b=>u(b.target.value),placeholder:n?`Ответ пользователю ${n}...`:"Что вы думаете?",className:"w-full bg-transparent p-3 outline-none resize-none text-sm text-text-primary placeholder:text-text-muted max-h-40",rows:1,disabled:d})}),a.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[s&&a.jsx(E.button,{type:"button",onClick:s,disabled:d,className:"px-4 py-2 text-xs font-semibold text-text-muted hover:text-text-primary rounded-lg transition-colors",whileTap:{scale:.95},children:"Отмена"}),a.jsx(E.button,{type:"submit",disabled:d||c.trim().length===0,className:"w-10 h-10 flex items-center justify-center rounded-full text-white transition-opacity disabled:opacity-50 disabled:cursor-not-allowed shadow-button",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))"},whileTap:{scale:.95},"aria-label":"Отправить",children:d?a.jsx(go,{size:16,className:"animate-spin"}):a.jsx(yo,{size:16})})]}),h&&a.jsx("p",{className:"text-xs text-red-400 mt-1",children:h})]})]}):null}const Ko={ThumbsUp:e=>a.jsx(e1,{size:14,...e}),ThumbsDown:e=>a.jsx(Jv,{size:14,...e}),MessageSquare:e=>a.jsx(Za,{size:14,...e}),ChevronDown:e=>a.jsx(y4,{size:14,...e})};function a1({review:e,characterId:t}){var m,y;const{user:n}=de(),{toggleReviewLike:r,toggleReviewDislike:s}=uo(),[i,o]=p.useState(!1),[l,c]=p.useState(!1),u=e.author,d=(u==null?void 0:u.nickname)||e.userName,f=(u==null?void 0:u.avatar)||`https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(d)}`,h=n&&((m=e.likesBy)==null?void 0:m.includes(n.id)),g=n&&((y=e.dislikesBy)==null?void 0:y.includes(n.id)),v=(e.replyToName?e.comment.replace(`@${e.replyToName}`,""):e.comment).trim(),w=!!e.parentReview,b=()=>{var x,j;return a.jsxs("div",{className:`rounded-xl border backdrop-blur-sm overflow-hidden ${w?"bg-reply":"bg-item"}`,children:[a.jsxs("div",{className:"p-3.5",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"font-semibold text-sm text-text-primary",children:d}),e.replyToName&&a.jsxs("div",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent-primary/20 text-accent-primary border border-accent-primary/30",children:["Ответ для: ",e.replyToName]})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed text-text-secondary mt-1.5",children:v||" "})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2.5 border-t border-default",children:[a.jsxs(E.button,{...q.buttonTap,onClick:()=>r(e.id),disabled:!n,className:`flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full transition-colors ${h?"bg-green-500/20 text-green-300":"bg-white/5 text-text-muted hover:bg-white/10 hover:text-white"}`,children:[a.jsx(Ko.ThumbsUp,{})," ",a.jsx("span",{children:((x=e.likesBy)==null?void 0:x.length)||0})]}),a.jsxs(E.button,{...q.buttonTap,onClick:()=>s(e.id),disabled:!n,className:`flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full transition-colors ${g?"bg-red-500/20 text-red-300":"bg-white/5 text-text-muted hover:bg-white/10 hover:text-white"}`,children:[a.jsx(Ko.ThumbsDown,{})," ",a.jsx("span",{children:((j=e.dislikesBy)==null?void 0:j.length)||0})]}),n&&a.jsxs(E.button,{...q.buttonTap,onClick:()=>o(k=>!k),className:"ml-auto flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full bg-white/5 text-accent-primary hover:bg-white/10 hover:text-white transition-colors",children:[a.jsx(Ko.MessageSquare,{})," ",a.jsx("span",{children:i?"Отмена":"Ответить"})]})]})]})};return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("img",{src:f,alt:d,className:"w-10 h-10 rounded-full border-2 border-default flex-shrink-0 bg-item"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[b(),a.jsx(Le,{children:i&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-3 overflow-hidden",children:a.jsx(o1,{characterId:t,parentReviewId:e.id,replyToName:d,onSubmit:()=>o(!1),onCancel:()=>o(!1),autoFocus:!0})})}),e.replies&&e.replies.length>0&&a.jsxs(E.button,{...q.buttonTap,onClick:()=>c(x=>!x),className:"flex items-center gap-1.5 text-xs font-medium text-text-muted hover:text-accent-primary transition-colors mt-3",children:[a.jsx(E.div,{animate:{rotate:l?180:0},children:a.jsx(Ko.ChevronDown,{})}),l?"Скрыть ответы":`Показать ответы (${e.replies.length})`]})]})]}),a.jsx(Le,{children:l&&e.replies&&e.replies.length>0&&a.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"pt-4 space-y-4 overflow-hidden",children:e.replies.map(x=>a.jsx(a1,{review:x,characterId:t},x.id))})})]})}const ld=I.memo(({value:e=0,onChange:t,size:n=24,readOnly:r=!1})=>{const[s,i]=p.useState(!1),o=p.useCallback(l=>{r||e===l||(t==null||t(l),i(!0),setTimeout(()=>i(!1),600))},[t,r,e]);return a.jsx("div",{className:"flex items-center gap-1","aria-label":r?`Оценка: ${e} из 5`:"Выставить рейтинг",children:a.jsx(E.div,{className:"flex items-center gap-1",animate:s?q.starPulse.animate:{},transition:q.starPulse.transition,children:Array.from({length:5}).map((l,c)=>{const u=c+1,d=e>=u;return a.jsx("button",{type:"button","aria-label":`${u} ${u===1?"звезда":"звезды"}`,onClick:()=>o(u),disabled:r,className:"focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-full p-1 transition-transform active:scale-90",children:a.jsx("div",{style:{width:n,height:n,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(rE,{filled:d,color:d?"var(--star-filled)":"var(--text-muted)",size:n,style:{filter:d?"drop-shadow(0 0 12px rgba(var(--star-glow-rgb), 0.6))":"none",transition:"all 0.2s ease"}})})},u)})})})});ld.displayName="StarRating";function l1(){const e=tt(),{characterId:t=""}=X2(),{user:n,toggleFavorite:r}=de(),{characters:s,loading:i}=$e(),{reviews:o,addReview:l,updateReview:c,loading:u}=uo(),[d,f]=p.useState(!0),[h,g]=p.useState(0),[v,w]=p.useState(!1),[b,m]=p.useState(!1),[y,x]=p.useState(!1),[j,k]=p.useState(15),{scrollY:S}=lr(),C=sn(S,[0,500],[.35,.1]),T=sn(S,[0,300],[0,-25]),M=sn(S,[0,200],[1,1.05]),N=p.useMemo(()=>s.find(P=>P.id===t),[s,t]),{avgRating:D,reviewsCount:V}=p.useMemo(()=>{const P=o.filter(K=>K.characterId===t&&K.rating&&K.rating>0);return P.length===0?{avgRating:0,reviewsCount:0}:{avgRating:P.reduce((K,ne)=>K+(ne.rating||0),0)/P.length,reviewsCount:P.length}},[o,t]);p.useEffect(()=>{if(i||u){f(!0);return}(async()=>{var $;if(n&&N){try{const K=await G.collection("reviews").getFirstListItem(`character_id = "${t}" && user_id = "${n.id}"`,{requestKey:`user-rating-${t}-${n.id}`});g(K.rating||0)}catch{g(0)}m((($=n==null?void 0:n.favorites)==null?void 0:$.includes(N.id))||!1)}f(!1)})()},[t,n,N,i,u]);const F=async()=>{!n||!N||v||(w(!0),await r(N.id),m(!b),x(!0),setTimeout(()=>x(!1),400),w(!1))},te=p.useCallback(async P=>{if(n)try{let $;try{$=await G.collection("reviews").getFirstListItem(`character_id = "${t}" && user_id = "${n.id}"`)}catch{}$?await c($.id,{rating:P}):await l({characterId:t,rating:P,comment:""}),g(P)}catch($){console.error("Failed to update rating:",$)}},[n,t,c,l]),fe=p.useCallback(()=>{},[]),Fe=p.useMemo(()=>o.filter(P=>P.characterId===t&&P.comment&&P.comment.trim()),[o,t]),Q=p.useMemo(()=>{var ne;const P=new Map(Fe.map(U=>[U.id,{...U,replies:[]}])),$=[];for(const U of P.values())if(U.parentReview&&P.has(U.parentReview)){const le=P.get(U.parentReview);U.replyToName=((ne=le.author)==null?void 0:ne.nickname)||le.userName,le.replies.push(U)}else $.push(U);const K=U=>{U.sort((le,dt)=>new Date(le.createdAt).getTime()-new Date(dt.createdAt).getTime());for(const le of U)le.replies.length>1&&K(le.replies)};for(const U of P.values())U.replies.length>1&&K(U.replies);return $.sort((U,le)=>new Date(le.createdAt).getTime()-new Date(U.createdAt).getTime())},[Fe]);return i||u||d||!N?a.jsx("div",{children:"Загрузка..."}):a.jsxs("div",{className:"relative min-h-screen p-3 sm:p-5 font-body text-text-primary bg-dark",children:[a.jsx(Ye,{intensity:C}),a.jsx(E.button,{...q.buttonTap,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},onClick:()=>e(-1),className:"fixed top-6 left-6 z-50 w-14 h-14 rounded-full flex items-center justify-center bg-floating backdrop-blur-lg shadow-glass","aria-label":"Назад",children:a.jsx(tE,{})}),a.jsxs(E.div,{initial:"initial",animate:"animate",variants:q.fadeInUp(),className:"relative z-10 w-full max-w-4xl mx-auto space-y-8",children:[a.jsx(E.div,{style:{scale:M},className:"w-full aspect-square rounded-xl overflow-hidden relative shadow-2xl",children:a.jsx("img",{src:N.photo,alt:N.name,className:"w-full h-full object-cover",loading:"lazy"})}),a.jsxs(E.div,{variants:q.fadeInUp(.1),className:"space-y-6 text-center",children:[a.jsx(E.h1,{style:{y:T},className:"text-4xl sm:text-5xl md:text-6xl font-black leading-tight bg-gradient-to-r from-white via-accent-primary to-accent-secondary bg-clip-text text-transparent font-heading",children:N.name}),a.jsx("p",{className:"text-xl sm:text-2xl font-medium text-text-secondary",children:N.occupation}),a.jsx("p",{className:"text-base sm:text-lg leading-relaxed max-w-2xl mx-auto px-2 text-text-muted",style:{lineHeight:"1.75"},children:N.description}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-3 my-4",children:[a.jsx(ro,{icon:a.jsx(oE,{}),text:N.gender==="male"?"Мужчина":"Женщина",colorClass:"bg-badge-male text-white"}),a.jsx(ro,{icon:N.ageGroup==="immortal"?a.jsx(lE,{}):a.jsx(aE,{}),text:N.ageGroup==="immortal"?"Бессмертный":n1(N.age),colorClass:N.ageGroup==="immortal"?"bg-badge-immortal text-dark":"bg-badge-age text-white"})]}),N.category&&N.category.length>0&&a.jsx("div",{className:"flex flex-wrap justify-center gap-2.5 my-2",children:a.jsx(Le,{children:N.category.map((P,$)=>a.jsx(E.div,{variants:q.fadeInStagger($*.05),initial:"initial",animate:"animate",children:a.jsx(no,{text:P,isCategory:!0})},P))})}),N.tags.length>0&&a.jsx("div",{className:"flex flex-wrap justify-center gap-2.5 my-2",children:a.jsx(Le,{children:N.tags.map((P,$)=>a.jsx(E.div,{variants:q.fadeInStagger($*.05),initial:"initial",animate:"animate",children:a.jsx(no,{text:P})},P))})}),n&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx(E.button,{...q.buttonTap,animate:y?q.buttonPulse.animate:{},transition:q.buttonPulse.transition,onClick:F,disabled:v,"aria-label":b?"Удалить из избранного":"Добавить в избранное",className:`inline-flex items-center gap-2.5 px-7 py-4 rounded-full font-bold text-sm relative transition-smooth ${b?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white shadow-button":"bg-accent-primary/10 text-text-primary border-2 border-accent-primary"}`,children:v?a.jsx(s1,{}):a.jsxs(a.Fragment,{children:[" ",a.jsx(nE,{filled:b})," ",b?"В избранном":"В избранное"," "]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx(pt,{delay:.2,children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[a.jsx("h4",{className:"text-xs uppercase tracking-widest text-text-muted",children:"Общий рейтинг"}),a.jsx("div",{className:"text-4xl font-extrabold text-star-filled",children:D>0?D.toFixed(1):"—"}),a.jsx(ld,{value:D,readOnly:!0,size:28}),a.jsxs("div",{className:"text-xs text-text-muted",children:["На основе ",V," ",V===1?"оценки":"оценок"]})]})}),n&&a.jsxs(pt,{delay:.3,children:[a.jsx("h2",{className:"text-lg font-bold mb-4 text-center text-text-primary",children:h>0?"💖 Ваша оценка":"Поставьте оценку!"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(ld,{value:h,onChange:te,size:36})})]})]}),N.fullDescription&&a.jsxs(pt,{delay:.4,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"📜 Описание"}),a.jsx("div",{className:"prose prose-sm prose-invert max-w-none prose-p:my-1 prose-h2:my-2 prose-h3:my-1",dangerouslySetInnerHTML:{__html:N.fullDescription}})]}),N.links&&N.links.length>0&&a.jsxs(pt,{delay:.5,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🔗 Ссылки"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:N.links.map((P,$)=>P.url&&P.label&&a.jsxs(E.a,{variants:q.fadeInStagger($*.05),initial:"initial",animate:"animate",href:P.url,target:"_blank",rel:"noopener noreferrer",className:"flex w-full items-center justify-center gap-2 rounded-xl p-4 font-medium bg-item hover:bg-glass-hover border transition-smooth",whileHover:{scale:1.03},children:[a.jsx("span",{children:P.label}),a.jsx(iE,{})]},$))})]}),a.jsxs(pt,{delay:.6,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"💭 Комментарии"}),n&&a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-badge-tag border",children:a.jsx(o1,{characterId:t,onSubmit:fe})}),a.jsx("div",{className:"space-y-6",children:Q.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx(E.div,{...q.float,className:"w-16 h-16 mx-auto mb-6 text-text-muted",children:a.jsx(sE,{})}),a.jsx("p",{className:"text-xl font-medium mb-2 text-text-secondary",children:"Будьте первым!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Le,{children:Q.slice(0,j).map(P=>a.jsx(E.div,{variants:q.fadeInUp(0),initial:"initial",animate:"animate",exit:"initial",layout:!0,children:a.jsx(a1,{review:P,characterId:t})},P.id))}),Q.length>j&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(E.button,{...q.buttonTap,onClick:()=>k(P=>P+20),className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-medium bg-glass hover:bg-glass-hover border transition-smooth",children:[a.jsx(cE,{size:16}),"Показать ещё"]})})]})})]})]})]})}I.memo(l1);const xe={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},ci={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}},pE=e=>e?new Date(e):new Date(0),mE=e=>{const t=new Date;if(e==="all")return new Date(0);const n=new Date(t);return e==="30d"&&n.setDate(t.getDate()-30),e==="7d"&&n.setDate(t.getDate()-7),n};function Fc({label:e,active:t,onClick:n}){return a.jsx(E.button,{...ci.buttonTap,onClick:n,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300",style:t?{background:`linear-gradient(135deg, ${xe.colors.accent.primary}, ${xe.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:xe.shadows.button}:{background:xe.colors.background.glass,color:xe.colors.text.primary,border:`1px solid ${xe.colors.border}`,boxShadow:xe.shadows.glass},children:a.jsx("span",{children:e})})}function gE(e){const t=[{gradient:"linear-gradient(135deg, #ffd700, #ffcc00)",shadow:"0 4px 16px rgba(255, 215, 0, 0.4)"},{gradient:"linear-gradient(135deg, #c0c0c0, #a9a9a9)",shadow:"0 4px 16px rgba(192, 192, 192, 0.4)"},{gradient:"linear-gradient(135deg, #cd7f32, #b87333)",shadow:"0 4px 16px rgba(205, 127, 50, 0.4)"}];if(e<3){const n=t[e];return{background:n.gradient,boxShadow:n.shadow,border:"none",color:"#0a0a12"}}return{background:xe.colors.background.glass,border:`1px solid ${xe.colors.border}`,boxShadow:xe.shadows.glass,color:xe.colors.text.primary}}function yE(){const e=tt(),{characters:t,loadCharacters:n}=$e(),{reviews:r}=uo(),[s,i]=p.useState("30d"),{scrollY:o}=lr(),l=sn(o,[0,500],[.3,.1]);p.useEffect(()=>{t!=null&&t.length||n==null||n()},[]);const c=mE(s),u=p.useMemo(()=>{const d=(r||[]).filter(v=>typeof v.rating=="number"&&v.rating>0&&pE(v.createdAt)>=c),f=d.length>0?d.reduce((v,w)=>v+(w.rating||0),0)/d.length:0,h=3,g=(t||[]).map(v=>{const w=d.filter(x=>x.characterId===v.id),b=w.length,m=b?w.reduce((x,j)=>x+(j.rating||0),0)/b:0,y=b===0?0:b/(b+h)*m+h/(b+h)*f;return{id:v.id,name:v.name||"Без названия",occupation:v.occupation||"",rating:y,avatar:v.photo||""}});return g.sort((v,w)=>w.rating-v.rating||v.name.localeCompare(w.name)),g},[t,r,c]);return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:xe.fonts.body,backgroundColor:xe.colors.background.dark},children:[a.jsx(Ye,{intensity:l}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...ci.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:xe.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🏆 Рейтинг персонажей"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:xe.colors.text.muted},children:"Самые популярные персонажи по версии пользователей"})]}),a.jsx(E.div,{...ci.fadeInUp(.2),className:"mb-8",children:a.jsx("div",{className:"rounded-2xl border backdrop-blur-xl p-4",style:{background:xe.colors.background.glass,borderColor:xe.colors.border,boxShadow:xe.shadows.glass},children:a.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[a.jsx(Fc,{label:"За неделю",active:s==="7d",onClick:()=>i("7d")}),a.jsx(Fc,{label:"За месяц",active:s==="30d",onClick:()=>i("30d")}),a.jsx(Fc,{label:"Всё время",active:s==="all",onClick:()=>i("all")})]})})}),a.jsx(Le,{children:a.jsx(E.ul,{className:"flex flex-col gap-4",children:u.map((d,f)=>a.jsx(E.li,{...ci.fadeInUp(.3+f*.05),children:a.jsxs(E.button,{...ci.buttonTap,onClick:()=>e(`/characters/${d.id}`),className:"w-full flex items-center justify-between rounded-2xl px-4 py-4 text-left transition-all duration-300",style:gE(f),children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden border",style:{borderColor:xe.colors.border},children:d.avatar?a.jsx("img",{src:d.avatar,alt:d.name,className:"h-full w-full object-cover",loading:"lazy"}):a.jsx("div",{className:"h-full w-full bg-black/30 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:"👤"})})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-sm font-bold leading-tight truncate",style:{color:f<3?"#0a0a12":xe.colors.text.primary},children:[f+1,". ",d.name]}),a.jsx("div",{className:"text-xs truncate",style:{color:f<3?"rgba(10, 10, 18, 0.8)":xe.colors.text.muted},children:d.occupation})]})]}),a.jsx("div",{className:"font-bold text-sm tabular-nums",style:{color:f<3?"#0a0a12":xe.colors.text.primary},children:d.rating>0?d.rating.toFixed(2):"—"})]})},d.id))})})]})]})}const c1=e=>e===0?"immortal":e>=45?"45+":"18+",xE="p-2 rounded-lg border border-white/10 bg-white/5 text-sm hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed",fr=({cmd:e,arg:t,icon:n,title:r})=>{const s=i=>{i.preventDefault(),document.execCommand(e,!1,t)};return a.jsx("button",{type:"button",onMouseDown:s,className:xE,title:r,children:n})},vE=({value:e,onChange:t,placeholder:n})=>{const r=p.useRef(null);p.useEffect(()=>{const i=r.current;i&&i.innerHTML!==e&&(i.innerHTML=e)},[e]);const s=i=>{t(i.currentTarget.innerHTML)};return a.jsxs("div",{className:"rounded-xl border border-white/15 bg-black/[.15] focus-within:ring-2 focus-within:ring-[var(--accent)]/50",children:[a.jsxs("div",{className:"p-2 border-b border-white/15 flex flex-wrap gap-1",children:[a.jsx(fr,{cmd:"bold",icon:a.jsx(c4,{size:16}),title:"Жирный"}),a.jsx(fr,{cmd:"italic",icon:a.jsx(W4,{size:16}),title:"Курсив"}),a.jsx(fr,{cmd:"formatBlock",arg:"h2",icon:a.jsx(F4,{size:16}),title:"Заголовок 2"}),a.jsx(fr,{cmd:"formatBlock",arg:"h3",icon:a.jsx(O4,{size:16}),title:"Заголовок 3"}),a.jsx(fr,{cmd:"insertUnorderedList",icon:a.jsx(X4,{size:16}),title:"Маркированный список"}),a.jsx(fr,{cmd:"insertOrderedList",icon:a.jsx(q4,{size:16}),title:"Нумерованный список"}),a.jsx(fr,{cmd:"formatBlock",arg:"blockquote",icon:a.jsx(hT,{size:16}),title:"Цитата"})]}),a.jsx("div",{ref:r,contentEditable:!0,onInput:s,"data-placeholder":n,className:"prose prose-sm prose-invert max-w-none prose-p:my-1 prose-h2:my-2 prose-h3:my-1 min-h-[250px] p-4 outline-none empty:before:content-[attr(data-placeholder)] empty:before:text-slate-400 empty:before:opacity-80"})]})},wE="w-full rounded-lg px-4 py-2.5 bg-white/5 border border-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50 transition-all",bE="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-medium text-sm bg-white/10 border border-white/20 text-text-secondary hover:bg-white/20 transition-all",ag=({allTags:e,selectedTags:t,onChange:n})=>{const[r,s]=p.useState(""),i=p.useMemo(()=>{if(!r)return[];const u=r.toLowerCase();return e.filter(d=>!t.includes(d)&&d.toLowerCase().includes(u)).slice(0,5)},[r,e,t]),o=u=>{const d=u.trim();d&&!t.includes(d)&&n([...t,d]),s("")},l=u=>{n(t.filter(d=>d!==u))},c=u=>{u.key==="Enter"&&(u.preventDefault(),o(r))};return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(u=>a.jsxs(E.div,{layout:!0,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs",style:{borderColor:"var(--border-color)",background:"rgba(255,255,255,0.05)"},children:[u,a.jsx("button",{type:"button","aria-label":`Удалить тег ${u}`,onClick:()=>l(u),className:"p-0.5 opacity-80 hover:opacity-100",children:a.jsx(Wt,{size:14})})]},u))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",value:r,onChange:u=>s(u.target.value),onKeyDown:c,placeholder:"Добавить тег...",className:wE}),a.jsx(Le,{children:i.length>0&&a.jsx(E.ul,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-10 w-full mt-1 bg-dark border border-white/20 rounded-lg shadow-lg overflow-hidden",children:i.map(u=>a.jsx("li",{onMouseDown:d=>{d.preventDefault(),o(u)},className:"px-4 py-2 cursor-pointer hover:bg-white/10",children:u},u))})})]}),a.jsx("button",{type:"button",onClick:()=>o(r),className:bE,children:"Добавить"})]})]})},lg="var(--accent-primary)",cg="var(--accent-secondary)",ug="var(--border-color)",yr="w-full rounded-lg px-4 py-2.5 bg-white/5 border border-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50 transition-all",kE=yr+" pr-10 appearance-none",jE="block w-full text-sm text-white/90 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2 file:text-white hover:bg-white/20 transition-colors",dg="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-bold text-sm text-white transition-all duration-300",qo="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-medium text-sm bg-white/10 border border-white/20 text-text-secondary hover:bg-white/20 transition-all";function CE(){const{characters:e,addCharacter:t,updateCharacter:n,deleteCharacter:r}=$e(),{user:s}=de(),[i,o]=p.useState(null),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState(!1),[g,v]=p.useState(null),[w,b]=p.useState({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,ageGroup:"18+",tags:[],links:[],category:[]}),m=p.useMemo(()=>{const N=new Set;return e.forEach(D=>{(D.tags||[]).forEach(V=>N.add(V))}),Array.from(N).sort()},[e]),y=p.useMemo(()=>{const N=new Set;return e.forEach(D=>{(D.category||[]).forEach(V=>N.add(V))}),Array.from(N).sort()},[e]),x=()=>{b({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,ageGroup:"18+",tags:[],links:[],category:[]}),v(null),o(null)},j=N=>{o(N),c(!0),b(N),window.scrollTo({top:0,behavior:"smooth"})},k=async N=>{var D;if(N.preventDefault(),!w.name){d({type:"error",text:"Имя персонажа обязательно."});return}h(!0),d(null);try{const V=new FormData;Object.entries(w).forEach(([F,te])=>{F!=="photo"&&(F==="tags"||F==="links"||F==="category"?V.append(F,JSON.stringify(te||[])):te!=null&&V.append(F,String(te)))}),V.set("ageGroup",String(c1(Number(w.age??18)))),g&&V.append("photo",g),i?(await n(i.id,V),d({type:"success",text:"Персонаж обновлён"})):(V.append("createdBy",s.id),V.append("rating","0"),V.append("reviewCount","0"),await t(V),d({type:"success",text:"Персонаж добавлен"})),x(),c(!1),v(null)}catch(V){console.error("Ошибка сохранения:",V);const F=((D=V==null?void 0:V.response)==null?void 0:D.message)||(V==null?void 0:V.message)||"Ошибка сохранения";d({type:"error",text:F})}finally{h(!1),setTimeout(()=>d(null),4e3)}},S=()=>b(N=>({...N,links:[...N.links||[],{label:"",url:""}]})),C=(N,D,V)=>{b(F=>({...F,links:(F.links||[]).map((te,fe)=>fe===N?{...te,[D]:V}:te)}))},T=N=>{b(D=>({...D,links:(D.links||[]).filter((V,F)=>F!==N)}))},M=async N=>{confirm("Удалить персонажа? Это действие необратимо.")&&await r(N)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление персонажами"}),a.jsxs(E.button,{...q.buttonTap,onClick:()=>{x(),c(!0)},className:dg,style:{background:`linear-gradient(135deg, ${lg}, ${cg})`},children:[a.jsx(Ja,{size:16})," Добавить"]})]}),l&&a.jsx(pt,{delay:.1,children:a.jsxs("form",{onSubmit:k,className:"space-y-5",children:[a.jsx("h3",{className:"text-lg font-bold",children:i?`Редактирование: ${i.name}`:"Новый персонаж"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Имя"}),a.jsx("input",{type:"text",value:w.name||"",onChange:N=>b({...w,name:N.target.value}),className:yr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Профессия"}),a.jsx("input",{type:"text",value:w.occupation||"",onChange:N=>b({...w,occupation:N.target.value}),className:yr})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Короткое описание"}),a.jsx("input",{type:"text",value:w.description||"",onChange:N=>b({...w,description:N.target.value}),className:yr})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Полное описание"}),a.jsx(vE,{value:w.fullDescription||"",onChange:N=>b(D=>({...D,fullDescription:N})),placeholder:"Начните вводить описание персонажа..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Пол"}),a.jsxs("select",{value:w.gender||"female",onChange:N=>b({...w,gender:N.target.value}),className:kE,children:[a.jsx("option",{value:"female",children:"Женский"}),a.jsx("option",{value:"male",children:"Мужской"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Возраст"}),a.jsx("input",{type:"number",value:Number(w.age??18),onChange:N=>{const D=N.target.value,V=D===""?0:Math.max(0,Number(D));b({...w,age:V})},className:yr,min:0})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Категории"}),a.jsx(ag,{allTags:y,selectedTags:w.category||[],onChange:N=>b(D=>({...D,category:N}))})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Теги"}),a.jsx(ag,{allTags:m,selectedTags:w.tags||[],onChange:N=>b(D=>({...D,tags:N}))})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Ссылки"}),a.jsxs("div",{className:"space-y-3",children:[(w.links||[]).map((N,D)=>a.jsxs("div",{className:"p-3 rounded-lg border grid grid-cols-1 sm:grid-cols-2 gap-3",style:{borderColor:ug},children:[a.jsx("input",{type:"text",placeholder:"Текст кнопки",value:N.label,onChange:V=>C(D,"label",V.target.value),className:yr}),a.jsx("input",{type:"url",placeholder:"URL (https://...)",value:N.url,onChange:V=>C(D,"url",V.target.value),className:yr}),a.jsx("button",{type:"button",onClick:()=>T(D),className:"sm:col-span-2 text-xs text-red-400 hover:text-red-300 transition-colors text-left",children:"Удалить"})]},D)),a.jsx("button",{type:"button",onClick:S,className:qo,children:"+ Добавить ссылку"})]})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Фото"}),a.jsx("input",{type:"file",onChange:N=>{var D;return v(((D=N.target.files)==null?void 0:D[0])||null)},className:jE})]})]}),u&&a.jsx("p",{className:"mt-4 text-sm "+(u.type==="error"?"text-red-400":"text-emerald-400"),children:u.text}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:[a.jsx(E.button,{type:"button",...q.buttonTap,onClick:()=>{x(),c(!1)},className:qo,children:"Отмена"}),a.jsx(E.button,{type:"submit",...q.buttonTap,disabled:f,className:`${dg} flex-1`,style:{background:`linear-gradient(135deg, ${lg}, ${cg})`},children:f?"Сохранение...":"Сохранить"})]})]})}),a.jsx("div",{className:"space-y-4",children:e.map(N=>a.jsx(pt,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:N.photo||"https://placehold.co/80x80?text=%20",alt:N.name,className:"w-16 h-16 rounded-xl object-cover border",style:{borderColor:ug}}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:N.name}),a.jsx("div",{className:"text-sm opacity-80 truncate",children:N.occupation})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(E.button,{...q.buttonTap,onClick:()=>j(N),className:qo,children:a.jsx(vo,{size:16})}),a.jsx(E.button,{...q.buttonTap,onClick:()=>M(N.id),className:`${qo} !text-red-400 hover:!bg-red-500/20`,children:a.jsx(lh,{size:16})})]})]})},N.id))})]})}var SE=Object.defineProperty,NE=(e,t,n)=>t in e?SE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dc=(e,t,n)=>(NE(e,typeof t!="symbol"?t+"":t,n),n);let TE=class{constructor(){Dc(this,"current",this.detect()),Dc(this,"handoffState","pending"),Dc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},on=new TE;function Ml(e){var t,n;return on.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Rl(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Pn(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Rl(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Pn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function uh(){let[e]=p.useState(Pn);return p.useEffect(()=>()=>e.dispose(),[e]),e}let Ke=(e,t)=>{on.isServer?p.useEffect(e,t):p.useLayoutEffect(e,t)};function zr(e){let t=p.useRef(e);return Ke(()=>{t.current=e},[e]),t}let oe=function(e){let t=zr(e);return I.useCallback((...n)=>t.current(...n),[t])},EE=p.createContext(void 0);function PE(){return p.useContext(EE)}function cd(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Tn(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Tn),r}var rl=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(rl||{}),Un=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Un||{});function Mt(){let e=AE();return p.useCallback(t=>LE({mergeRefs:e,...t}),[e])}function LE({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??ME;let c=u1(t,e);if(i)return Yo(c,n,r,o,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Yo(f,n,r,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return Tn(d?0:1,{0(){return null},1(){return Yo({...f,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return Yo(c,n,r,o,l)}function Yo(e,t={},n,r,s){let{as:i=n,children:o,refName:l="ref",...c}=Oc(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let h=!1,g=[];for(let[v,w]of Object.entries(t))typeof w=="boolean"&&(h=!0),w===!0&&g.push(v.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(h){f["data-headlessui-state"]=g.join(" ");for(let v of g)f[`data-${v}`]=""}}if(i===p.Fragment&&(Object.keys(xr(c)).length>0||Object.keys(xr(f)).length>0))if(!p.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(xr(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(xr(c)).concat(Object.keys(xr(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,g=h==null?void 0:h.className,v=typeof g=="function"?(...m)=>cd(g(...m),c.className):cd(g,c.className),w=v?{className:v}:{},b=u1(d.props,xr(Oc(c,["ref"])));for(let m in f)m in b&&delete f[m];return p.cloneElement(d,Object.assign({},b,f,u,{ref:s(RE(d),u.ref)},w))}return p.createElement(i,Object.assign({},Oc(c,["ref"]),i!==p.Fragment&&u,i!==p.Fragment&&f),d)}function AE(){let e=p.useRef([]),t=p.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function ME(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function u1(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...i){let o=n[r];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function ut(e){var t;return Object.assign(p.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function xr(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Oc(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function RE(e){return I.version.split(".")[0]>="19"?e.props.ref:e.ref}let IE="span";var sl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(sl||{});function $E(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Mt()({ourProps:i,theirProps:s,slot:{},defaultTag:IE,name:"Hidden"})}let ud=ut($E);function d1(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Jn(e){return d1(e)&&"tagName"in e}function Or(e){return Jn(e)&&"accessKey"in e}function zn(e){return Jn(e)&&"tabIndex"in e}function FE(e){return Jn(e)&&"style"in e}function DE(e){return Or(e)&&e.nodeName==="IFRAME"}function OE(e){return Or(e)&&e.nodeName==="INPUT"}let f1=Symbol();function _E(e,t=!0){return Object.assign(e,{[f1]:t})}function cn(...e){let t=p.useRef(e);p.useEffect(()=>{t.current=e},[e]);let n=oe(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[f1]))?void 0:n}let dh=p.createContext(null);dh.displayName="DescriptionContext";function h1(){let e=p.useContext(dh);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,h1),t}return e}function VE(){let[e,t]=p.useState([]);return[e.length>0?e.join(" "):void 0,p.useMemo(()=>function(n){let r=oe(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=p.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return I.createElement(dh.Provider,{value:s},n.children)},[t])]}let BE="p";function UE(e,t){let n=p.useId(),r=PE(),{id:s=`headlessui-description-${n}`,...i}=e,o=h1(),l=cn(t);Ke(()=>o.register(s),[s,o.register]);let c=r||!1,u=p.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),d={ref:l,...o.props,id:s};return Mt()({ourProps:d,theirProps:i,slot:u,defaultTag:BE,name:o.name||"Description"})}let zE=ut(UE),WE=Object.assign(zE,{});var p1=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(p1||{});let HE=p.createContext(()=>{});function GE({value:e,children:t}){return I.createElement(HE.Provider,{value:e},t)}let m1=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var KE=Object.defineProperty,qE=(e,t,n)=>t in e?KE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YE=(e,t,n)=>(qE(e,t+"",n),n),g1=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},jt=(e,t,n)=>(g1(e,t,"read from private field"),n?n.call(e):t.get(e)),_c=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},fg=(e,t,n,r)=>(g1(e,t,"write to private field"),t.set(e,n),n),Xt,ui,di;let XE=class{constructor(t){_c(this,Xt,{}),_c(this,ui,new m1(()=>new Set)),_c(this,di,new Set),YE(this,"disposables",Pn()),fg(this,Xt,t),on.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return jt(this,Xt)}subscribe(t,n){if(on.isServer)return()=>{};let r={selector:t,callback:n,current:t(jt(this,Xt))};return jt(this,di).add(r),this.disposables.add(()=>{jt(this,di).delete(r)})}on(t,n){return on.isServer?()=>{}:(jt(this,ui).get(t).add(n),this.disposables.add(()=>{jt(this,ui).get(t).delete(n)}))}send(t){let n=this.reduce(jt(this,Xt),t);if(n!==jt(this,Xt)){fg(this,Xt,n);for(let r of jt(this,di)){let s=r.selector(jt(this,Xt));y1(r.current,s)||(r.current=s,r.callback(s))}for(let r of jt(this,ui).get(t.type))r(jt(this,Xt),t)}}};Xt=new WeakMap,ui=new WeakMap,di=new WeakMap;function y1(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Vc(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Vc(e.entries(),t.entries()):hg(e)&&hg(t)?Vc(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Vc(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function hg(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var QE=Object.defineProperty,ZE=(e,t,n)=>t in e?QE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pg=(e,t,n)=>(ZE(e,typeof t!="symbol"?t+"":t,n),n),JE=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(JE||{});let e3={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},t3=class x1 extends XE{constructor(){super(...arguments),pg(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),pg(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new x1({stack:[]})}reduce(t,n){return Tn(n.type,e3,t,n)}};const v1=new m1(()=>t3.new());var w1={exports:{}},b1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=p;function n3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var r3=typeof Object.is=="function"?Object.is:n3,s3=wo.useSyncExternalStore,i3=wo.useRef,o3=wo.useEffect,a3=wo.useMemo,l3=wo.useDebugValue;b1.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=i3(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=a3(function(){function c(g){if(!u){if(u=!0,d=g,g=r(g),s!==void 0&&o.hasValue){var v=o.value;if(s(v,g))return f=v}return f=g}if(v=f,r3(d,g))return v;var w=r(g);return s!==void 0&&s(v,w)?(d=g,v):(d=g,f=w)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var l=s3(e,i[0],i[1]);return o3(function(){o.hasValue=!0,o.value=l},[l]),l3(l),l};w1.exports=b1;var c3=w1.exports;function k1(e,t,n=y1){return c3.useSyncExternalStoreWithSelector(oe(r=>e.subscribe(u3,r)),oe(()=>e.state),oe(()=>e.state),oe(t),n)}function u3(e){return e}function bo(e,t){let n=p.useId(),r=v1.get(t),[s,i]=k1(r,p.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Ke(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?s:!0:!1}let dd=new Map,Ei=new Map;function mg(e){var t;let n=(t=Ei.get(e))!=null?t:0;return Ei.set(e,n+1),n!==0?()=>gg(e):(dd.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>gg(e))}function gg(e){var t;let n=(t=Ei.get(e))!=null?t:1;if(n===1?Ei.delete(e):Ei.set(e,n-1),n!==1)return;let r=dd.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,dd.delete(e))}function d3(e,{allowed:t,disallowed:n}={}){let r=bo(e,"inert-others");Ke(()=>{var s,i;if(!r)return;let o=Pn();for(let c of(s=n==null?void 0:n())!=null?s:[])c&&o.add(mg(c));let l=(i=t==null?void 0:t())!=null?i:[];for(let c of l){if(!c)continue;let u=Ml(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let f of d.children)l.some(h=>f.contains(h))||o.add(mg(f));d=d.parentElement}}return o.dispose},[r,t,n])}function f3(e,t,n){let r=zr(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});p.useEffect(()=>{if(!e)return;let s=t===null?null:Or(t)?t:t.current;if(!s)return;let i=Pn();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,r,e])}let il=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),h3=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var yn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(yn||{}),fd=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(fd||{}),p3=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(p3||{});function m3(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(il)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function g3(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(h3)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var j1=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(j1||{});function y3(e,t=0){var n;return e===((n=Ml(e))==null?void 0:n.body)?!1:Tn(t,{0(){return e.matches(il)},1(){let r=e;for(;r!==null;){if(r.matches(il))return!0;r=r.parentElement}return!1}})}var x3=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(x3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function bn(e){e==null||e.focus({preventScroll:!0})}let v3=["textarea","input"].join(",");function w3(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,v3))!=null?n:!1}function b3(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Pi(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?b3(e):e:t&64?g3(e):m3(e);s.length>0&&o.length>1&&(o=o.filter(g=>!s.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===g:v===g))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=o.length,h;do{if(d>=f||d+f<=0)return 0;let g=c+d;if(t&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}h=o[g],h==null||h.focus(u),d+=l}while(h!==i.activeElement);return t&6&&w3(h)&&h.select(),2}function C1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function k3(){return/Android/gi.test(window.navigator.userAgent)}function yg(){return C1()||k3()}function Xo(e,t,n,r){let s=zr(n);p.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function S1(e,t,n,r){let s=zr(n);p.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const xg=30;function j3(e,t,n){let r=zr(n),s=p.useCallback(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let f of d)if(f!==null&&(f.contains(u)||l.composed&&l.composedPath().includes(f)))return;return!y3(u,j1.Loose)&&u.tabIndex!==-1&&l.preventDefault(),r.current(l,u)},[r,t]),i=p.useRef(null);Xo(e,"pointerdown",l=>{var c,u;yg()||(i.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target)},!0),Xo(e,"pointerup",l=>{if(yg()||!i.current)return;let c=i.current;return i.current=null,s(l,()=>c)},!0);let o=p.useRef({x:0,y:0});Xo(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),Xo(e,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=xg||Math.abs(c.y-o.current.y)>=xg))return s(l,()=>zn(l.target)?l.target:null)},!0),S1(e,"blur",l=>s(l,()=>DE(window.document.activeElement)?window.document.activeElement:null),!0)}function Il(...e){return p.useMemo(()=>Ml(...e),[...e])}function N1(e,t,n,r){let s=zr(n);p.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function C3(e){return p.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function S3(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=t[s].call(n,...i);o&&(n=o,r.forEach(l=>l()))}}}function N3(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-s);n.style(r,"paddingRight",`${i}px`)}}}function T3(){return C1()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Pn();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(zn(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);zn(d)&&!r(d)&&(o=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(zn(l.target)&&FE(l.target))if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(zn(l.target)){if(OE(l.target))return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function E3(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function P3(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Nr=S3(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Pn(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:P3(n)},s=[T3(),N3(),E3()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Nr.subscribe(()=>{let e=Nr.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Nr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Nr.dispatch("TEARDOWN",n)}});function L3(e,t,n=()=>({containers:[]})){let r=C3(Nr),s=t?r.get(t):void 0,i=s?s.count>0:!1;return Ke(()=>{if(!(!t||!e))return Nr.dispatch("PUSH",t,n),()=>Nr.dispatch("POP",t,n)},[e,t]),i}function A3(e,t,n=()=>[document.body]){let r=bo(e,"scroll-lock");L3(r,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function M3(e=0){let[t,n]=p.useState(e),r=p.useCallback(c=>n(c),[t]),s=p.useCallback(c=>n(u=>u|c),[t]),i=p.useCallback(c=>(t&c)===c,[t]),o=p.useCallback(c=>n(u=>u&~c),[n]),l=p.useCallback(c=>n(u=>u^c),[n]);return{flags:t,setFlag:r,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}var R3={},vg,wg;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((vg=process==null?void 0:R3)==null?void 0:vg.NODE_ENV)==="test"&&typeof((wg=Element==null?void 0:Element.prototype)==null?void 0:wg.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var I3=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(I3||{});function $3(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function F3(e,t,n,r){let[s,i]=p.useState(n),{hasFlag:o,addFlag:l,removeFlag:c}=M3(e&&s?3:0),u=p.useRef(!1),d=p.useRef(!1),f=uh();return Ke(()=>{var h;if(e){if(n&&i(!0),!t){n&&l(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),D3(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){d.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var g;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,c(7),n||i(!1),(g=r==null?void 0:r.end)==null||g.call(r,n))}})}},[e,n,t,f]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function D3(e,{prepare:t,run:n,done:r,inFlight:s}){let i=Pn();return _3(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(O3(e,r))})}),i.dispose}function O3(e,t){var n,r;let s=Pn();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{i||t()}),s.dispose)}function _3(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function fh(e,t){let n=p.useRef([]),r=oe(e);p.useEffect(()=>{let s=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let l=r(t,s);return n.current=t,l}},[r,...t])}let $l=p.createContext(null);$l.displayName="OpenClosedContext";var Bt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Bt||{});function Fl(){return p.useContext($l)}function V3({value:e,children:t}){return I.createElement($l.Provider,{value:e},t)}function B3({children:e}){return I.createElement($l.Provider,{value:null},e)}function U3(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let On=[];U3(()=>{function e(t){if(!zn(t.target)||t.target===document.body||On[0]===t.target)return;let n=t.target;n=n.closest(il),On.unshift(n??t.target),On=On.filter(r=>r!=null&&r.isConnected),On.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function T1(e){let t=oe(e),n=p.useRef(!1);p.useEffect(()=>(n.current=!1,()=>{n.current=!0,Rl(()=>{n.current&&t()})}),[t])}function z3(){let e=typeof document>"u";return(t=>t.useSyncExternalStore)(Fg)(()=>()=>{},()=>!1,()=>!e)}function ko(){let e=z3(),[t,n]=p.useState(on.isHandoffComplete);return t&&on.isHandoffComplete===!1&&n(!1),p.useEffect(()=>{t!==!0&&n(!0)},[t]),p.useEffect(()=>on.handoff(),[]),e?!1:t}let E1=p.createContext(!1);function W3(){return p.useContext(E1)}function bg(e){return I.createElement(E1.Provider,{value:e.force},e.children)}function H3(e){let t=W3(),n=p.useContext(L1),[r,s]=p.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(on.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return p.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),p.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let P1=p.Fragment,G3=ut(function(e,t){let{ownerDocument:n=null,...r}=e,s=p.useRef(null),i=cn(_E(g=>{s.current=g}),t),o=Il(s),l=n??o,c=H3(l),[u]=p.useState(()=>{var g;return on.isServer?null:(g=l==null?void 0:l.createElement("div"))!=null?g:null}),d=p.useContext(hd),f=ko();Ke(()=>{!c||!u||c.contains(u)||(u.setAttribute("data-headlessui-portal",""),c.appendChild(u))},[c,u]),Ke(()=>{if(u&&d)return d.register(u)},[d,u]),T1(()=>{var g;!c||!u||(d1(u)&&c.contains(u)&&c.removeChild(u),c.childNodes.length<=0&&((g=c.parentElement)==null||g.removeChild(c)))});let h=Mt();return f?!c||!u?null:_y.createPortal(h({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:P1,name:"Portal"}),u):null});function K3(e,t){let n=cn(t),{enabled:r=!0,ownerDocument:s,...i}=e,o=Mt();return r?I.createElement(G3,{...i,ownerDocument:s,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:P1,name:"Portal"})}let q3=p.Fragment,L1=p.createContext(null);function Y3(e,t){let{target:n,...r}=e,s={ref:cn(t)},i=Mt();return I.createElement(L1.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:q3,name:"Popover.Group"}))}let hd=p.createContext(null);function X3(){let e=p.useContext(hd),t=p.useRef([]),n=oe(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=oe(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=p.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,p.useMemo(()=>function({children:i}){return I.createElement(hd.Provider,{value:s},i)},[s])]}let Q3=ut(K3),A1=ut(Y3),Z3=Object.assign(Q3,{Group:A1});function J3(e,t=typeof document<"u"?document.defaultView:null,n){let r=bo(e,"escape");N1(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===p1.Escape&&n(s))})}function eP(){var e;let[t]=p.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=p.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Ke(()=>{if(!t)return;function s(i){r(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function tP({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Il(n),s=oe(()=>{var i,o;let l=[];for(let c of e)c!==null&&(Jn(c)?l.push(c):"current"in c&&Jn(c.current)&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])c!==document.body&&c!==document.head&&Jn(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||l.some(u=>c.contains(u))||l.push(c));return l});return{resolveContainers:s,contains:oe(i=>s().some(o=>o.contains(i)))}}let M1=p.createContext(null);function kg({children:e,node:t}){let[n,r]=p.useState(null),s=R1(t??n);return I.createElement(M1.Provider,{value:s},e,s===null&&I.createElement(ud,{features:sl.Hidden,ref:i=>{var o,l;if(i){for(let c of(l=(o=Ml(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&Jn(c)&&c!=null&&c.contains(i)){r(c);break}}}}))}function R1(e=null){var t;return(t=p.useContext(M1))!=null?t:e}function hh(){let e=p.useRef(!1);return Ke(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var fi=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(fi||{});function nP(){let e=p.useRef(0);return S1(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function I1(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Jn(n.current)&&t.add(n.current);return t}let rP="div";var wr=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(wr||{});function sP(e,t){let n=p.useRef(null),r=cn(n,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:l=15,...c}=e;ko()||(l=0);let u=Il(n);lP(l,{ownerDocument:u});let d=cP(l,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:i});uP(l,{ownerDocument:u,container:n,containers:o,previousActiveElement:d});let f=nP(),h=oe(y=>{if(!Or(n.current))return;let x=n.current;(j=>j())(()=>{Tn(f.current,{[fi.Forwards]:()=>{Pi(x,yn.First,{skipElements:[y.relatedTarget,i]})},[fi.Backwards]:()=>{Pi(x,yn.Last,{skipElements:[y.relatedTarget,i]})}})})}),g=bo(!!(l&2),"focus-trap#tab-lock"),v=uh(),w=p.useRef(!1),b={ref:r,onKeyDown(y){y.key=="Tab"&&(w.current=!0,v.requestAnimationFrame(()=>{w.current=!1}))},onBlur(y){if(!(l&4))return;let x=I1(o);Or(n.current)&&x.add(n.current);let j=y.relatedTarget;zn(j)&&j.dataset.headlessuiFocusGuard!=="true"&&($1(x,j)||(w.current?Pi(n.current,Tn(f.current,{[fi.Forwards]:()=>yn.Next,[fi.Backwards]:()=>yn.Previous})|yn.WrapAround,{relativeTo:y.target}):zn(y.target)&&bn(y.target)))}},m=Mt();return I.createElement(I.Fragment,null,g&&I.createElement(ud,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:sl.Focusable}),m({ourProps:b,theirProps:c,defaultTag:rP,name:"FocusTrap"}),g&&I.createElement(ud,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:sl.Focusable}))}let iP=ut(sP),oP=Object.assign(iP,{features:wr});function aP(e=!0){let t=p.useRef(On.slice());return fh(([n],[r])=>{r===!0&&n===!1&&Rl(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=On.slice())},[e,On,t]),oe(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function lP(e,{ownerDocument:t}){let n=!!(e&8),r=aP(n);fh(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&bn(r())},[n]),T1(()=>{n&&bn(r())})}function cP(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let i=p.useRef(null),o=bo(!!(e&1),"focus-trap#initial-focus"),l=hh();return fh(()=>{if(e===0)return;if(!o){s!=null&&s.current&&bn(s.current);return}let c=n.current;c&&Rl(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(c.contains(u)){i.current=u;return}if(r!=null&&r.current)bn(r.current);else{if(e&16){if(Pi(c,yn.First|yn.AutoFocus)!==fd.Error)return}else if(Pi(c,yn.First)!==fd.Error)return;if(s!=null&&s.current&&(bn(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function uP(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let i=hh(),o=!!(e&4);N1(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!i.current)return;let c=I1(r);Or(n.current)&&c.add(n.current);let u=s.current;if(!u)return;let d=l.target;Or(d)?$1(c,d)?(s.current=d,bn(d)):(l.preventDefault(),l.stopPropagation(),bn(u)):bn(s.current)},!0)}function $1(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function F1(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:O1)!==p.Fragment||I.Children.count(e.children)===1}let Dl=p.createContext(null);Dl.displayName="TransitionContext";var dP=(e=>(e.Visible="visible",e.Hidden="hidden",e))(dP||{});function fP(){let e=p.useContext(Dl);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function hP(){let e=p.useContext(Ol);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ol=p.createContext(null);Ol.displayName="NestingContext";function _l(e){return"children"in e?_l(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function D1(e,t){let n=zr(e),r=p.useRef([]),s=hh(),i=uh(),o=oe((g,v=Un.Hidden)=>{let w=r.current.findIndex(({el:b})=>b===g);w!==-1&&(Tn(v,{[Un.Unmount](){r.current.splice(w,1)},[Un.Hidden](){r.current[w].state="hidden"}}),i.microTask(()=>{var b;!_l(r)&&s.current&&((b=n.current)==null||b.call(n))}))}),l=oe(g=>{let v=r.current.find(({el:w})=>w===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>o(g,Un.Unmount)}),c=p.useRef([]),u=p.useRef(Promise.resolve()),d=p.useRef({enter:[],leave:[]}),f=oe((g,v,w)=>{c.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([b])=>b!==g)),t==null||t.chains.current[v].push([g,new Promise(b=>{c.current.push(b)})]),t==null||t.chains.current[v].push([g,new Promise(b=>{Promise.all(d.current[v].map(([m,y])=>y)).then(()=>b())})]),v==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(v)):w(v)}),h=oe((g,v,w)=>{Promise.all(d.current[v].splice(0).map(([b,m])=>m)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>w(v))});return p.useMemo(()=>({children:r,register:l,unregister:o,onStart:f,onStop:h,wait:u,chains:d}),[l,o,r,f,h,d,u])}let O1=p.Fragment,_1=rl.RenderStrategy;function pP(e,t){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:c,enter:u,enterFrom:d,enterTo:f,entered:h,leave:g,leaveFrom:v,leaveTo:w,...b}=e,[m,y]=p.useState(null),x=p.useRef(null),j=F1(e),k=cn(...j?[x,t,y]:t===null?[]:[t]),S=(n=b.unmount)==null||n?Un.Unmount:Un.Hidden,{show:C,appear:T,initial:M}=fP(),[N,D]=p.useState(C?"visible":"hidden"),V=hP(),{register:F,unregister:te}=V;Ke(()=>F(x),[F,x]),Ke(()=>{if(S===Un.Hidden&&x.current){if(C&&N!=="visible"){D("visible");return}return Tn(N,{hidden:()=>te(x),visible:()=>F(x)})}},[N,x,F,te,C,S]);let fe=ko();Ke(()=>{if(j&&fe&&N==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,N,fe,j]);let Fe=M&&!T,Q=T&&C&&M,A=p.useRef(!1),P=D1(()=>{A.current||(D("hidden"),te(x))},V),$=oe(Kt=>{A.current=!0;let Wr=Kt?"enter":"leave";P.onStart(x,Wr,cr=>{cr==="enter"?i==null||i():cr==="leave"&&(l==null||l())})}),K=oe(Kt=>{let Wr=Kt?"enter":"leave";A.current=!1,P.onStop(x,Wr,cr=>{cr==="enter"?o==null||o():cr==="leave"&&(c==null||c())}),Wr==="leave"&&!_l(P)&&(D("hidden"),te(x))});p.useEffect(()=>{j&&s||($(C),K(C))},[C,j,s]);let ne=!(!s||!j||!fe||Fe),[,U]=F3(ne,m,C,{start:$,end:K}),le=xr({ref:k,className:((r=cd(b.className,Q&&u,Q&&d,U.enter&&u,U.enter&&U.closed&&d,U.enter&&!U.closed&&f,U.leave&&g,U.leave&&!U.closed&&v,U.leave&&U.closed&&w,!U.transition&&C&&h))==null?void 0:r.trim())||void 0,...$3(U)}),dt=0;N==="visible"&&(dt|=Bt.Open),N==="hidden"&&(dt|=Bt.Closed),C&&N==="hidden"&&(dt|=Bt.Opening),!C&&N==="visible"&&(dt|=Bt.Closing);let Rt=Mt();return I.createElement(Ol.Provider,{value:P},I.createElement(V3,{value:dt},Rt({ourProps:le,theirProps:b,defaultTag:O1,features:_1,visible:N==="visible",name:"Transition.Child"})))}function mP(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,o=p.useRef(null),l=F1(e),c=cn(...l?[o,t]:t===null?[]:[t]);ko();let u=Fl();if(n===void 0&&u!==null&&(n=(u&Bt.Open)===Bt.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=p.useState(n?"visible":"hidden"),h=D1(()=>{n||f("hidden")}),[g,v]=p.useState(!0),w=p.useRef([n]);Ke(()=>{g!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),v(!1))},[w,n]);let b=p.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);Ke(()=>{n?f("visible"):!_l(h)&&o.current!==null&&f("hidden")},[n,h]);let m={unmount:s},y=oe(()=>{var k;g&&v(!1),(k=e.beforeEnter)==null||k.call(e)}),x=oe(()=>{var k;g&&v(!1),(k=e.beforeLeave)==null||k.call(e)}),j=Mt();return I.createElement(Ol.Provider,{value:h},I.createElement(Dl.Provider,{value:b},j({ourProps:{...m,as:p.Fragment,children:I.createElement(V1,{ref:c,...m,...i,beforeEnter:y,beforeLeave:x})},theirProps:{},defaultTag:p.Fragment,features:_1,visible:d==="visible",name:"Transition"})))}function gP(e,t){let n=p.useContext(Dl)!==null,r=Fl()!==null;return I.createElement(I.Fragment,null,!n&&r?I.createElement(pd,{ref:t,...e}):I.createElement(V1,{ref:t,...e}))}let pd=ut(mP),V1=ut(pP),ph=ut(gP),xa=Object.assign(pd,{Child:ph,Root:pd});var yP=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(yP||{}),xP=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(xP||{});let vP={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},mh=p.createContext(null);mh.displayName="DialogContext";function Vl(e){let t=p.useContext(mh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Vl),n}return t}function wP(e,t){return Tn(t.type,vP,e,t)}let jg=ut(function(e,t){let n=p.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...f}=e,h=p.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(h.current||(h.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=Fl();s===void 0&&g!==null&&(s=(g&Bt.Open)===Bt.Open);let v=p.useRef(null),w=cn(v,t),b=Il(v),m=s?0:1,[y,x]=p.useReducer(wP,{titleId:null,descriptionId:null,panelRef:p.createRef()}),j=oe(()=>i(!1)),k=oe(U=>x({type:0,id:U})),S=ko()?m===0:!1,[C,T]=X3(),M={get current(){var U;return(U=y.panelRef.current)!=null?U:v.current}},N=R1(),{resolveContainers:D}=tP({mainTreeNode:N,portals:C,defaultContainers:[M]}),V=g!==null?(g&Bt.Closing)===Bt.Closing:!1;d3(u||V?!1:S,{allowed:oe(()=>{var U,le;return[(le=(U=v.current)==null?void 0:U.closest("[data-headlessui-portal]"))!=null?le:null]}),disallowed:oe(()=>{var U;return[(U=N==null?void 0:N.closest("body > *:not(#headlessui-portal-root)"))!=null?U:null]})});let F=v1.get(null);Ke(()=>{if(S)return F.actions.push(r),()=>F.actions.pop(r)},[F,r,S]);let te=k1(F,p.useCallback(U=>F.selectors.isTop(U,r),[F,r]));j3(te,D,U=>{U.preventDefault(),j()}),J3(te,b==null?void 0:b.defaultView,U=>{U.preventDefault(),U.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),j()}),A3(u||V?!1:S,b,D),f3(S,v,j);let[fe,Fe]=VE(),Q=p.useMemo(()=>[{dialogState:m,close:j,setTitleId:k,unmount:d},y],[m,y,j,k,d]),A=p.useMemo(()=>({open:m===0}),[m]),P={ref:w,id:r,role:l,tabIndex:-1,"aria-modal":u?void 0:m===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":fe,unmount:d},$=!eP(),K=wr.None;S&&!u&&(K|=wr.RestoreFocus,K|=wr.TabLock,c&&(K|=wr.AutoFocus),$&&(K|=wr.InitialFocus));let ne=Mt();return I.createElement(B3,null,I.createElement(bg,{force:!0},I.createElement(Z3,null,I.createElement(mh.Provider,{value:Q},I.createElement(A1,{target:v},I.createElement(bg,{force:!1},I.createElement(Fe,{slot:A},I.createElement(T,null,I.createElement(oP,{initialFocus:o,initialFocusFallback:v,containers:D,features:K},I.createElement(GE,{value:j},ne({ourProps:P,theirProps:f,slot:A,defaultTag:bP,features:kP,visible:m===0,name:"Dialog"})))))))))))}),bP="div",kP=rl.RenderStrategy|rl.Static;function jP(e,t){let{transition:n=!1,open:r,...s}=e,i=Fl(),o=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?I.createElement(kg,null,I.createElement(xa,{show:r,transition:n,unmount:s.unmount},I.createElement(jg,{ref:t,...s}))):I.createElement(kg,null,I.createElement(jg,{ref:t,open:r,...s}))}let CP="div";function SP(e,t){let n=p.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:l},c]=Vl("Dialog.Panel"),u=cn(t,c.panelRef),d=p.useMemo(()=>({open:o===0}),[o]),f=oe(b=>{b.stopPropagation()}),h={ref:u,id:r,onClick:f},g=s?ph:p.Fragment,v=s?{unmount:l}:{},w=Mt();return I.createElement(g,{...v},w({ourProps:h,theirProps:i,slot:d,defaultTag:CP,name:"Dialog.Panel"}))}let NP="div";function TP(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:i}]=Vl("Dialog.Backdrop"),o=p.useMemo(()=>({open:s===0}),[s]),l={ref:t,"aria-hidden":!0},c=n?ph:p.Fragment,u=n?{unmount:i}:{},d=Mt();return I.createElement(c,{...u},d({ourProps:l,theirProps:r,slot:o,defaultTag:NP,name:"Dialog.Backdrop"}))}let EP="h2";function PP(e,t){let n=p.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:o}]=Vl("Dialog.Title"),l=cn(t);p.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=p.useMemo(()=>({open:i===0}),[i]),u={ref:l,id:r};return Mt()({ourProps:u,theirProps:s,slot:c,defaultTag:EP,name:"Dialog.Title"})}let LP=ut(jP),AP=ut(SP);ut(TP);let MP=ut(PP),Bc=Object.assign(LP,{Panel:AP,Title:MP,Description:WE});const RP="#f7cfe1",vr="rgba(255,255,255,0.10)";function Uc({elevated:e=!1}={}){return{background:`
      radial-gradient(600px 260px at 0% 0%, rgba(247, 207, 225,0.10), transparent 60%),
      radial-gradient(600px 260px at 100% 100%, rgba(120,140,255,0.09), transparent 60%),
      rgba(255,255,255,${e?.09:.07})
    `,border:`1px solid ${vr}`,boxShadow:"none",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}const Jr="w-full rounded-xl px-4 py-2.5 bg-black/[.15] border border-white/15 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50",IP=Jr+" pr-10 appearance-none",$P="block w-full text-sm text-white/90 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2 file:text-white hover:file:bg-white/20";function FP(){const{users:e,loadUsers:t,updateUser:n}=$e(),[r,s]=p.useState(!1),[i,o]=p.useState(null),[l,c]=p.useState({}),[u,d]=p.useState(null),[f,h]=p.useState("");p.useEffect(()=>{e.length||t()},[e.length,t]);const g=m=>{o(m),c({nickname:m.nickname,username:m.username,email:m.email,role:m.role}),d(null),h(""),s(!0)},v=()=>{s(!1),o(null)},w=async()=>{var j;if(!i)return;if(h(""),l.newPassword&&l.newPassword!==l.newPasswordConfirm){h("Пароли не совпадают!");return}if(l.newPassword&&(((j=l.newPassword)==null?void 0:j.length)||0)<8){h("Новый пароль должен содержать не менее 8 символов.");return}const m=new FormData;l.nickname&&l.nickname!==i.nickname&&m.append("nickname",String(l.nickname)),l.username&&l.username!==i.username&&m.append("username",String(l.username)),l.email&&l.email!==i.email&&m.append("email",String(l.email)),l.role&&l.role!==i.role&&m.append("role",String(l.role)),l.newPassword&&m.append("password",String(l.newPassword)),u&&m.append("avatar",u);let y=!1;for(const k of m.entries()){y=!0;break}if(!y){h("Нет изменений для сохранения.");return}await n(i.id,m)?(await t(),v()):h("Не удалось сохранить изменения.")},b=async m=>{await n(m.id,{is_blocked:!m.isBlocked}),await t()};return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление пользователями"}),a.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-slate-300",children:[a.jsx(tl,{className:"h-5 w-5"}),a.jsxs("span",{children:["Всего: ",e.length]})]})]}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(m=>a.jsxs("div",{className:"rounded-2xl p-4 sm:p-5",style:Uc(),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:m.avatar||"https://placehold.co/64x64?text=U",alt:m.nickname||m.username,className:"w-14 h-14 rounded-2xl object-cover border",style:{borderColor:vr}}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:m.nickname||"Без имени"}),a.jsxs("div",{className:"text-sm opacity-80 truncate",children:["@",m.username]}),a.jsx("div",{className:"text-sm opacity-70 truncate",children:m.email}),a.jsxs("div",{className:"mt-1 text-xs inline-flex items-center gap-2",children:[a.jsxs("span",{className:"px-2 py-0.5 rounded-lg border",style:{borderColor:vr},children:["Роль: ",a.jsx("b",{children:m.role})]}),m.isBlocked&&a.jsx("span",{className:"px-2 py-0.5 rounded-lg border",style:{borderColor:vr,color:"#fca5a5"},children:"Заблокирован"})]})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 sm:flex sm:gap-3",children:[a.jsxs("button",{onClick:()=>g(m),className:"w-full rounded-xl px-4 py-2 border font-medium flex items-center justify-center gap-2",style:{borderColor:vr,background:"rgba(255,255,255,0.03)"},children:[a.jsx(vo,{size:16}),"Редактировать"]}),a.jsxs("button",{onClick:()=>b(m),className:"w-full rounded-xl px-4 py-2 border font-medium flex items-center justify-center gap-2",style:{borderColor:vr,background:"rgba(255,255,255,0.03)"},children:[m.isBlocked?a.jsx(J4,{size:16}):a.jsx(Ts,{size:16}),m.isBlocked?"Разблокировать":"Заблокировать"]})]})]},m.id))}),a.jsx(xa,{appear:!0,show:r,as:p.Fragment,children:a.jsxs(Bc,{as:"div",className:"relative z-50",onClose:v,children:[a.jsx(xa.Child,{as:p.Fragment,enter:"ease-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-end sm:items-center justify-center p-2 sm:p-4 text-center",children:a.jsx(xa.Child,{as:p.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-6 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-6 sm:translate-y-0 sm:scale-95",children:a.jsxs(Bc.Panel,{className:"w-full sm:max-w-lg sm:rounded-2xl text-left align-middle transition-all",style:Uc({elevated:!0}),children:[a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs(Bc.Title,{className:"text-lg font-bold leading-6 mb-4",children:["Редактировать: ",i==null?void 0:i.nickname]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Никнейм"}),a.jsx("input",{type:"text",value:l.nickname||"",onChange:m=>c({...l,nickname:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Логин"}),a.jsx("input",{type:"text",value:l.username||"",onChange:m=>c({...l,username:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Email"}),a.jsx("input",{type:"email",value:l.email||"",onChange:m=>c({...l,email:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Роль"}),a.jsxs("select",{value:l.role,onChange:m=>c({...l,role:m.target.value}),className:IP,children:[a.jsx("option",{value:"user",children:"Пользователь"}),a.jsx("option",{value:"admin",children:"Администратор"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Новый пароль"}),a.jsx("input",{type:"password",placeholder:"Новый пароль (оставьте пустым)",value:l.newPassword||"",onChange:m=>c({...l,newPassword:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Подтвердите пароль"}),a.jsx("input",{type:"password",placeholder:"Подтвердите пароль",value:l.newPasswordConfirm||"",onChange:m=>c({...l,newPasswordConfirm:m.target.value}),className:Jr})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Новый аватар"}),a.jsx("input",{type:"file",onChange:m=>{var y;return d(((y=m.target.files)==null?void 0:y[0])||null)},className:$P})]})]}),f&&a.jsx("p",{className:"text-sm text-red-400 mt-3",children:f})]}),a.jsxs("div",{className:"sticky bottom-0 w-full flex gap-2 p-3 sm:p-4",style:{...Uc(),borderTopLeftRadius:0,borderTopRightRadius:0},children:[a.jsx("button",{onClick:v,className:"w-1/2 rounded-xl px-4 py-2 border font-medium",style:{borderColor:vr,background:"rgba(255,255,255,0.03)"},children:"Отмена"}),a.jsx("button",{onClick:w,className:"w-1/2 rounded-xl px-4 py-2 font-semibold text-black",style:{background:RP},children:"Сохранить"})]})]})})})})]})})]})}const hr="w-full rounded-lg px-4 py-2.5 bg-white/5 border border-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50 transition-all",Cg="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-bold text-sm text-white transition-all duration-300 bg-gradient-to-r from-accent-primary to-accent-secondary",Qo="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-medium text-sm bg-white/10 border border-white/20 text-text-secondary hover:bg-white/20 transition-all";function DP(){const{shopItems:e,addShopItem:t,updateShopItem:n,deleteShopItem:r}=$e(),[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState({name:"",description:"",price:0,category:"",isActive:!0,actionButtons:[]}),h=()=>{f({name:"",description:"",price:0,category:"",isActive:!0,actionButtons:[]}),u(null),i(null),l(!1)},g=x=>{i(x),f({...x,actionButtons:Array.isArray(x.actionButtons)?x.actionButtons:[]}),l(!0),window.scrollTo({top:0,behavior:"smooth"})},v=async x=>{x.preventDefault();const j=new FormData;Object.entries(d).forEach(([k,S])=>{k!=="image"&&(k==="actionButtons"?j.append(k,JSON.stringify(S||[])):S!=null&&j.append(k,String(S)))}),c&&j.append("image",c),s?await n(s.id,j):await t(j),h()},w=async x=>{window.confirm("Вы уверены, что хотите удалить этот товар?")&&await r(x)},b=()=>{f(x=>({...x,actionButtons:[...x.actionButtons||[],{label:"Купить",url:""}]}))},m=(x,j,k)=>{f(S=>({...S,actionButtons:(S.actionButtons||[]).map((C,T)=>T===x?{...C,[j]:k}:C)}))},y=x=>{f(j=>({...j,actionButtons:(j.actionButtons||[]).filter((k,S)=>S!==x)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление магазином"}),a.jsxs(E.button,{...q.buttonTap,onClick:()=>{h(),l(!0)},className:Cg,children:[a.jsx(Ja,{size:16})," Добавить товар"]})]}),o&&a.jsx(pt,{delay:.1,children:a.jsxs("form",{onSubmit:v,className:"space-y-5",children:[a.jsx("h3",{className:"text-lg font-bold",children:s?`Редактирование: ${s.name}`:"Новый товар"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Название"}),a.jsx("input",{type:"text",value:d.name,onChange:x=>f({...d,name:x.target.value}),className:hr,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Цена (в рублях)"}),a.jsx("input",{type:"number",value:d.price,onChange:x=>f({...d,price:Number(x.target.value)}),className:hr,required:!0})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Категория"}),a.jsx("input",{type:"text",value:d.category,onChange:x=>f({...d,category:x.target.value}),className:hr})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Описание"}),a.jsx("textarea",{value:d.description,onChange:x=>f({...d,description:x.target.value}),className:hr,rows:3})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Изображение"}),a.jsx("input",{type:"file",onChange:x=>{var j;return u(((j=x.target.files)==null?void 0:j[0])||null)},className:`${hr} p-0 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2.5 file:text-white hover:file:bg-white/20 transition-colors`})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Кнопки действий"}),a.jsxs("div",{className:"space-y-3",children:[(d.actionButtons||[]).map((x,j)=>a.jsxs("div",{className:"p-3 rounded-lg border border-white/10 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Текст кнопки",value:x.label,onChange:k=>m(j,"label",k.target.value),className:hr}),a.jsx("input",{type:"url",placeholder:"URL (https://...)",value:x.url,onChange:k=>m(j,"url",k.target.value),className:hr}),a.jsx("button",{type:"button",onClick:()=>y(j),className:"sm:col-span-2 text-xs text-red-400 hover:text-red-300 transition-colors text-left",children:"Удалить кнопку"})]},j)),a.jsx("button",{type:"button",onClick:b,className:Qo,children:"+ Добавить кнопку"})]})]}),a.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d.isActive,onChange:x=>f({...d,isActive:x.target.checked}),id:"isActiveCheckbox",className:"w-4 h-4"}),a.jsx("label",{htmlFor:"isActiveCheckbox",className:"text-sm",children:"Активный товар"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:[a.jsx(E.button,{type:"button",...q.buttonTap,onClick:h,className:Qo,children:"Отмена"}),a.jsx(E.button,{type:"submit",...q.buttonTap,className:`${Cg} flex-1`,children:"Сохранить товар"})]})]})}),a.jsx("div",{className:"space-y-4",children:e.map(x=>a.jsx(pt,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:x.image,alt:x.name,className:"w-16 h-16 rounded-xl object-cover border border-white/10"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:x.name}),a.jsxs("div",{className:"text-sm opacity-80 truncate",children:[x.price," ₽"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(E.button,{...q.buttonTap,onClick:()=>g(x),className:Qo,children:a.jsx(vo,{size:16})}),a.jsx(E.button,{...q.buttonTap,onClick:()=>w(x.id),className:`${Qo} !text-red-400 hover:!bg-red-500/20`,children:a.jsx(lh,{size:16})})]})]})},x.id))})]})}const md="#f7cfe1",gd="rgba(255,255,255,0.10)";function qr({elevated:e=!1,active:t=!1}={}){const n=e?.09:.07,r=e?"0 14px 36px rgba(0,0,0,0.40)":"0 8px 22px rgba(0,0,0,0.30)";return{background:`
      radial-gradient(600px 260px at 0% 0%, rgba(247, 207, 225,0.10), transparent 60%),
      radial-gradient(600px 260px at 100% 100%, rgba(120,140,255,0.09), transparent 60%),
      rgba(255,255,255,${n})
    `,border:`1px solid ${t?md:gd}`,boxShadow:t?`${r}, inset 0 0 0 1px ${md}`:r,backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}function OP(){const{users:e,characters:t,loadUsers:n,loadCharacters:r}=$e(),[s,i]=p.useState("users"),[o,l]=p.useState("");p.useEffect(()=>{e!=null&&e.length||n==null||n(),t!=null&&t.length||r==null||r()},[]);const c=p.useMemo(()=>{const d=[];return(e||[]).forEach(f=>{var g;const h=f==null?void 0:f.avatar;h&&typeof h=="string"&&h.includes("/api/files/")&&d.push({id:`${f.id}-avatar`,collectionName:"users",recordId:f.id,fileName:((g=h.split("/").pop())==null?void 0:g.split("?")[0])||"avatar",fileUrl:h,contextName:f.nickname||f.username||"Пользователь"})}),(t||[]).forEach(f=>{var g;const h=f==null?void 0:f.photo;h&&typeof h=="string"&&h.includes("/api/files/")&&d.push({id:`${f.id}-photo`,collectionName:"characters",recordId:f.id,fileName:((g=h.split("/").pop())==null?void 0:g.split("?")[0])||"photo",fileUrl:h,contextName:f.name||"Персонаж"})}),d},[e,t]),u=p.useMemo(()=>{const d=o.toLowerCase();return c.filter(f=>f.collectionName===s).filter(f=>f.fileName.toLowerCase().includes(d)||f.contextName.toLowerCase().includes(d))},[c,s,o]);return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-3 gap-2.5",children:[a.jsxs("div",{className:"rounded-2xl p-1 flex",style:qr(),children:[a.jsxs("button",{onClick:()=>i("users"),className:"w-1/2 px-3 py-2 rounded-xl text-sm font-medium flex items-center justify-center gap-2",style:qr({active:s==="users"}),children:[a.jsx(Fr,{size:16})," Пользователи"]}),a.jsxs("button",{onClick:()=>i("characters"),className:"w-1/2 px-3 py-2 rounded-xl text-sm font-medium flex items-center justify-center gap-2",style:qr({active:s==="characters"}),children:[a.jsx(Dr,{size:16})," Персонажи"]})]}),a.jsxs("div",{className:"sm:col-span-2 rounded-2xl p-2 flex items-center gap-2",style:qr(),children:[a.jsx(sh,{size:16}),a.jsx("input",{value:o,onChange:d=>l(d.target.value),placeholder:"Поиск по имени файла или объекту…",className:"w-full bg-transparent outline-none text-sm placeholder-white/70"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2.5",children:u.map(d=>a.jsxs("div",{className:"rounded-2xl p-3 sm:p-4",style:qr(),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:d.fileUrl,alt:d.fileName,className:"w-16 h-16 rounded-xl object-cover border",style:{borderColor:gd}}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:d.fileName}),a.jsxs("div",{className:"text-xs opacity-80 truncate",children:[d.collectionName," • ",d.contextName]})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>{var f;return(f=navigator.clipboard)==null?void 0:f.writeText(d.fileUrl)},className:"rounded-xl px-3 py-2 border text-sm font-medium flex items-center justify-center gap-2",style:{borderColor:gd,background:"rgba(255,255,255,0.03)"},children:[a.jsx(C4,{size:16})," Копировать URL"]}),a.jsxs("a",{href:d.fileUrl,target:"_blank",rel:"noreferrer",className:"rounded-xl px-3 py-2 text-sm font-semibold text-black flex items-center justify-center gap-2",style:{background:md},children:[a.jsx(E4,{size:16})," Открыть"]})]})]},d.id))}),u.length===0&&a.jsx("div",{className:"mt-4 rounded-2xl p-5 text-center opacity-70",style:qr(),children:"Ничего не найдено."})]})}const _P="#f7cfe1",Sg="rgba(255,255,255,0.10)",B1="w-full rounded-xl px-4 py-2.5 bg-black/[.15] border border-white/15 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50",VP=B1+" min-h-[120px] resize-y";function BP(){const{newsletters:e,loadNewsletters:t,addNewsletter:n,updateNewsletter:r,deleteNewsletter:s}=$e(),{user:i}=de(),[o,l]=p.useState({title:"",content:"",imageFile:null}),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,g]=p.useState("");p.useEffect(()=>{t()},[t]);const v=y=>{u(y),l({title:y.title,content:y.content,imageFile:null})},w=()=>{u(null),l({title:"",content:"",imageFile:null})},b=async y=>{confirm("Вы уверены, что хотите удалить это объявление?")&&await s(y)},m=async y=>{if(y.preventDefault(),!o.title||!o.content||!i)return;f(!0),g("");const x=new FormData;x.append("title",o.title),x.append("content",o.content),x.append("sentBy",i.id),x.append("status","sent"),o.imageFile&&x.append("image",o.imageFile);try{(c?await r(c.id,x):await n(x))?(g(c?"Объявление успешно обновлено!":"Объявление успешно создано!"),w(),y.target.reset()):g("Ошибка при сохранении объявления.")}catch{g("Произошла ошибка.")}finally{f(!1),setTimeout(()=>g(""),5e3)}};return a.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:[c?"Редактировать":"Новое"," объявление"]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Заголовок"}),a.jsx("input",{type:"text",value:o.title,onChange:y=>l(x=>({...x,title:y.target.value})),className:B1,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Сообщение (HTML)"}),a.jsx("textarea",{value:o.content,onChange:y=>l(x=>({...x,content:y.target.value})),rows:10,className:VP,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Изображение"}),a.jsx("input",{type:"file",onChange:y=>l(x=>({...x,imageFile:y.target.files?y.target.files[0]:null})),accept:"image/*",className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-white/10 file:text-white hover:file:bg-white/20"})]}),a.jsxs("div",{className:"flex space-x-2 pt-2",children:[a.jsxs("button",{type:"submit",disabled:d,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-xl hover:opacity-90 transition-opacity disabled:opacity-50 font-bold text-black",style:{background:_P},children:[a.jsx(Zv,{size:18}),a.jsx("span",{children:d?"Сохранение...":c?"Сохранить":"Опубликовать"})]}),c&&a.jsx("button",{type:"button",onClick:w,className:"px-5 py-3 rounded-xl border",style:{borderColor:Sg,background:"rgba(255,255,255,0.05)"},children:a.jsx(Wt,{size:18})})]}),h&&a.jsx("p",{className:"text-center text-green-400 mt-2",children:h})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"История объявлений"}),a.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:e.length>0?e.map(y=>a.jsxs("div",{className:"p-4 rounded-xl border",style:{borderColor:Sg,background:"rgba(255,255,255,0.04)"},children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-white",children:y.title}),a.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Опубликовано: ",new Date(y.createdAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>v(y),className:"p-2 hover:bg-white/10 rounded-md text-blue-400",children:a.jsx(vo,{size:16})}),a.jsx("button",{onClick:()=>b(y.id),className:"p-2 hover:bg-white/10 rounded-md text-red-400",children:a.jsx(lh,{size:16})})]})]}),a.jsx("div",{className:"text-sm text-slate-300 line-clamp-2 prose prose-sm prose-invert",dangerouslySetInnerHTML:{__html:y.content}})]},y.id)):a.jsx("p",{className:"text-slate-400 text-center py-8",children:"Еще не было ни одного объявления."})})]})]})}const J={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},An={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function UP(){const e=tt(),t=bt(),{user:n}=de(),{users:r,characters:s}=$e(),i=new URLSearchParams(t.search).get("tab")||"characters",[o,l]=p.useState(i),{scrollY:c}=lr(),u=sn(c,[0,500],[.3,.1]);p.useEffect(()=>{const g=new URLSearchParams(t.search);g.set("tab",o),e({search:g.toString()},{replace:!0}),window.scrollTo({top:0,behavior:"smooth"})},[o,t.search,e]);const d=p.useMemo(()=>[{id:"characters",label:"Персонажи",icon:Fr},{id:"users",label:"Пользователи",icon:Dr},{id:"shop",label:"Магазин",icon:xo},{id:"broadcast",label:"Объявления",icon:to},{id:"files",label:"Файлы",icon:sh}],[]),f=p.useMemo(()=>[{label:"Пользователи",value:r.length,icon:Dr},{label:"Персонажи",value:s.length,icon:Fr}],[r.length,s.length]),h=()=>{switch(o){case"characters":return a.jsx(CE,{});case"users":return a.jsx(FP,{});case"shop":return a.jsx(DP,{});case"messages":return a.jsx(AdminSupport,{});case"broadcast":return a.jsx(BP,{});case"files":return a.jsx(OP,{});default:return null}};return n&&n.role!=="admin"?a.jsxs("div",{className:"min-h-screen w-full relative p-4",style:{fontFamily:J.fonts.body,backgroundColor:J.colors.background.dark},children:[a.jsx(Ye,{intensity:u}),a.jsx("div",{className:"max-w-screen-md mx-auto",children:a.jsxs(E.div,{...An.fadeInUp(.2),className:"rounded-3xl p-8 text-center",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass,color:J.colors.text.primary},children:[a.jsx(tl,{className:"w-16 h-16 mx-auto mb-6",style:{color:"#f87171"}}),a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Доступ запрещён"}),a.jsx("p",{className:"text-lg",style:{color:J.colors.text.muted},children:"Эта страница доступна только администраторам."})]})})]}):a.jsxs("div",{className:"min-h-screen w-full relative p-2 sm:p-4 pt-4 sm:pt-6",style:{fontFamily:J.fonts.body,backgroundColor:J.colors.background.dark},children:[a.jsx(Ye,{intensity:u}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none",children:[a.jsx("header",{className:"mb-8",children:a.jsxs(E.div,{...An.fadeInUp(.1),className:"flex items-center gap-4",children:[a.jsx(E.div,{...An.float,className:"rounded-2xl w-12 h-12 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${J.colors.accent.primary}, ${J.colors.accent.secondary})`,boxShadow:J.shadows.button},children:a.jsx(tl,{className:"w-6 h-6",style:{color:"#ffffff"}})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:J.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"Панель администратора"}),a.jsx("p",{className:"text-base sm:text-lg mt-2",style:{color:J.colors.text.muted},children:"Управляйте контентом, пользователями и сервисом"})]})]})}),a.jsx(E.div,{...An.fadeInUp(.2),className:"mb-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.map((g,v)=>a.jsx(E.div,{...An.fadeInUp(.3+v*.1),className:"rounded-2xl p-5",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"rounded-xl p-3 flex items-center justify-center",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:a.jsx(g.icon,{className:"w-6 h-6",style:{color:J.colors.text.primary}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",style:{color:J.colors.text.primary},children:g.value}),a.jsx("p",{className:"text-sm",style:{color:J.colors.text.muted},children:g.label})]})]})},g.label))}),a.jsx("nav",{className:"mb-8",children:a.jsx(E.div,{...An.fadeInUp(.4),className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:d.map(({id:g,label:v,icon:w})=>{const b=o===g;return a.jsx(E.button,{...An.buttonTap,onClick:()=>l(g),className:"w-full",children:a.jsxs("div",{className:"w-full rounded-2xl px-4 py-4 flex items-center gap-3 transition-all duration-300",style:{background:b?`linear-gradient(135deg, ${J.colors.accent.primary}, ${J.colors.accent.secondary})`:J.colors.background.glass,color:b?"#ffffff":J.colors.text.primary,boxShadow:b?J.shadows.button:J.shadows.glass,border:"none"},children:[a.jsx("div",{className:"rounded-xl p-3 flex items-center justify-center",style:{background:b?"rgba(255, 255, 255, 0.2)":J.colors.background.glass,boxShadow:b?"none":J.shadows.glass},children:a.jsx(w,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-bold text-lg truncate",children:v})]})},g)})})}),a.jsx(E.section,{...An.fadeInUp(.5),className:"rounded-3xl overflow-hidden",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:h()})]})]})}function zP({src:e,size:t=512,quality:n=.9,onCropped:r,className:s=""}){const i=p.useRef(null);return I.useEffect(()=>{if(!e){r(null);return}const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{const l=i.current;if(!l)return;l.width=t,l.height=t;const c=l.getContext("2d");if(!c)return;const u=o.naturalWidth,d=o.naturalHeight,f=Math.max(t/u,t/d),h=u*f,g=d*f,v=(t-h)/2,w=(t-g)/2;c.clearRect(0,0,t,t),c.drawImage(o,v,w,h,g),l.toBlob(b=>{if(!b){r(null);return}const m=new File([b],"avatar.webp",{type:"image/webp"});r(m)},"image/webp",n)},o.onerror=()=>r(null),o.src=e},[e,t,n,r]),a.jsxs("div",{className:["rounded-full overflow-hidden border border-white/10",s].join(" "),children:[e?a.jsx("img",{src:e,alt:"preview",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-white/5"}),a.jsx("canvas",{ref:i,className:"hidden"})]})}const be={colors:{text:{primary:"#ffffff",muted:"#b0b0b0",error:"#ff6b6b"},background:{glass:"rgba(40, 40, 50, 0.65)",item:"rgba(255,255,255,0.04)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(215, 174, 251, 0.3)"},fonts:{body:'"Geist", "Inter", system-ui, sans-serif'}},xs={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},zc=({title:e,children:t,delay:n=.2})=>a.jsxs(E.div,{...xs.fadeInUp(n),className:"rounded-2xl p-5",style:{background:be.colors.background.glass,border:`1px solid ${be.colors.border}`,boxShadow:be.shadows.glass},children:[a.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:be.colors.text.primary},children:e}),a.jsx("div",{className:"space-y-4",children:t})]}),Yr=({icon:e,error:t,...n})=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 rounded-2xl px-4 py-3",style:{background:be.colors.background.item,border:`1px solid ${be.colors.border}`},children:[a.jsx(e,{className:"w-5 h-5",style:{color:be.colors.text.muted}}),a.jsx("input",{...n,className:"bg-transparent outline-none w-full text-sm placeholder-text-muted",style:{color:be.colors.text.primary,fontFamily:be.fonts.body}})]}),t&&a.jsx("p",{className:"text-xs mt-1.5",style:{color:be.colors.text.error},children:t})]}),Xr=({children:e,variant:t="primary",...n})=>{const r={primary:{background:`linear-gradient(135deg, ${be.colors.accent.primary}, ${be.colors.accent.secondary})`,color:"#ffffff",boxShadow:be.shadows.button},secondary:{background:be.colors.background.glass,color:be.colors.text.primary,border:`1px solid ${be.colors.border}`},danger:{background:"rgba(255, 107, 107, 0.1)",color:"#ff6b6b",border:"1px solid rgba(255, 107, 107, 0.3)"}};return a.jsx(E.button,{...xs.buttonTap,...n,className:"w-full h-12 rounded-full font-bold text-sm transition-all duration-300 flex items-center justify-center gap-2",style:r[t],children:e})};function WP(){const{user:e,updateProfile:t,logout:n}=de(),[r,s]=p.useState(!1),[i,o]=p.useState(null),[l,c]=p.useState({nickname:(e==null?void 0:e.nickname)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[u,d]=p.useState({}),[f,h]=p.useState(null),[g,v]=p.useState((e==null?void 0:e.avatar)||""),[w,b]=p.useState(!1),m=p.useRef(null);p.useEffect(()=>{e&&(c(C=>({...C,nickname:e.nickname,email:e.email})),v(e.avatar||""),b(!1))},[e]);const y=(C=3e3)=>setTimeout(()=>o(null),C),x=()=>{const C={};return l.nickname.trim()||(C.nickname="Никнейм не может быть пустым"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(C.email="Некорректный email"),l.newPassword&&l.newPassword.length<8&&(C.newPassword="Пароль должен быть не менее 8 символов"),l.newPassword&&l.newPassword!==l.confirmPassword&&(C.confirmPassword="Пароли не совпадают"),d(C),Object.keys(C).length===0},j=C=>{var M;const T=(M=C.target.files)==null?void 0:M[0];T&&(b(!1),v(URL.createObjectURL(T)))},k=()=>{s(!1),d({}),h(null),b(!1),e&&(c({...l,nickname:e.nickname,email:e.email,currentPassword:"",newPassword:"",confirmPassword:""}),v(e.avatar||""))},S=async()=>{if(!x()){o({type:"error",text:"Исправьте ошибки в форме"}),y();return}const C={};if(l.nickname!==(e==null?void 0:e.nickname)&&(C.nickname=l.nickname),l.email!==(e==null?void 0:e.email)&&(C.email=l.email),f&&(C.avatarFile=f),w&&(C.avatarFile=null),l.newPassword&&l.currentPassword&&(C.oldPassword=l.currentPassword,C.password=l.newPassword),Object.keys(C).length>0){const T=await t(C);o({type:T.success?"success":"error",text:T.message}),T.success&&(s(!1),c(M=>({...M,currentPassword:"",newPassword:"",confirmPassword:""}))),y()}else s(!1)};return e?a.jsxs("div",{className:"relative min-h-screen p-2 sm:p-4",style:{fontFamily:be.fonts.body},children:[a.jsx(Ye,{intensity:.9,animated:!0}),a.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto w-full space-y-8",children:[a.jsx(E.div,{...xs.fadeInUp(.1),className:"text-center",children:a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black",style:{background:`linear-gradient(120deg, ${be.colors.text.primary} 0%, ${be.colors.accent.primary} 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Профиль"})}),i&&a.jsx(E.div,{...xs.fadeInUp(.2),className:"p-4 rounded-2xl",style:{background:i.type==="success"?"rgba(74, 222, 128, 0.1)":"rgba(255, 107, 107, 0.1)",border:`1px solid ${i.type==="success"?"rgba(74, 222, 128, 0.3)":"rgba(255, 107, 107, 0.3)"}`},children:a.jsx("p",{style:{color:i.type==="success"?"#4ade80":be.colors.text.error},children:i.text})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsx(zc,{title:"Аватар",delay:.2,children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g&&!w?a.jsx(zP,{src:g,onCropped:h,className:"w-24 h-24"}):a.jsx("div",{className:"w-24 h-24 rounded-full border border-white/10 inline-flex items-center justify-center",style:{background:`linear-gradient(135deg, ${be.colors.accent.primary}, ${be.colors.accent.secondary})`},children:a.jsx(Re,{icon:eh,size:"avatar",style:{color:"#ffffff"}})}),r&&a.jsxs("div",{className:"w-full space-y-2",children:[a.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:j,className:"hidden"}),a.jsxs(Xr,{onClick:()=>{var C;return(C=m.current)==null?void 0:C.click()},variant:"secondary",children:[a.jsx(MT,{size:16})," Выбрать"]}),a.jsxs(Xr,{onClick:()=>{v(""),h(null),b(!0)},variant:"danger",children:[a.jsx(Wt,{size:16})," Удалить"]})]})]})})}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs(zc,{title:"Данные аккаунта",delay:.3,children:[a.jsx(Yr,{icon:tl,label:"Логин",value:e.username,readOnly:!0,disabled:!0}),a.jsx(Yr,{icon:Fr,label:"Никнейм",value:l.nickname,onChange:C=>c({...l,nickname:C.target.value}),disabled:!r,error:u.nickname}),a.jsx(Yr,{icon:o4,label:"Email",type:"email",value:l.email,onChange:C=>c({...l,email:C.target.value}),disabled:!r,error:u.email})]})}),r&&a.jsx("div",{className:"md:col-span-3",children:a.jsxs(zc,{title:"Смена пароля",delay:.4,children:[a.jsx(Yr,{icon:Ts,type:"password",placeholder:"Текущий пароль",value:l.currentPassword,onChange:C=>c({...l,currentPassword:C.target.value}),error:u.currentPassword}),a.jsx(Yr,{icon:Ts,type:"password",placeholder:"Новый пароль",value:l.newPassword,onChange:C=>c({...l,newPassword:C.target.value}),error:u.newPassword}),a.jsx(Yr,{icon:Ts,type:"password",placeholder:"Подтвердите новый пароль",value:l.confirmPassword,onChange:C=>c({...l,confirmPassword:C.target.value}),error:u.confirmPassword})]})})]}),a.jsx(E.div,{...xs.fadeInUp(.5),className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?a.jsxs(a.Fragment,{children:[a.jsxs(Xr,{onClick:S,children:[a.jsx(Zv,{size:16})," Сохранить"]}),a.jsxs(Xr,{onClick:k,variant:"secondary",children:[a.jsx(Wt,{size:16})," Отмена"]})]}):a.jsxs(Xr,{onClick:()=>s(!0),children:[a.jsx(vo,{size:16})," Редактировать"]})}),a.jsx(E.div,{...xs.fadeInUp(.6),className:"pt-4",children:a.jsxs(Xr,{onClick:()=>n(),variant:"danger",children:[a.jsx(sT,{size:16})," Выйти из аккаунта"]})})]})]}):null}function HP({item:e}){const t=Array.isArray(e.actionButtons)?e.actionButtons:[];return a.jsxs("div",{className:"relative w-full h-full flex flex-col rounded-2xl overflow-hidden shadow-lg border border-white/10",style:{background:"var(--bg-glass)",fontFamily:"var(--font-family-body)"},children:[a.jsx("div",{className:"relative w-full h-0",style:{paddingTop:"100%"},children:a.jsx("img",{src:e.image,alt:e.name,className:"absolute top-0 left-0 w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[a.jsx("div",{className:"self-start mb-3 px-3 py-1 rounded-full text-xs font-semibold",style:{background:"var(--badge-tag)",color:"var(--text-secondary)",border:"1px solid var(--border-color)"},children:e.category}),a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:e.name}),a.jsx("p",{className:"text-text-secondary text-sm mb-4 line-clamp-3 flex-grow",children:e.description}),a.jsx("div",{className:"mt-auto pt-4 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.price," ₽"]}),a.jsx("div",{className:"flex items-center gap-2",children:t.length>0&&t.map(n=>a.jsxs(E.a,{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 px-4 py-2 rounded-full font-semibold text-sm",style:{background:"var(--accent-primary)",color:"var(--bg-dark)"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(jT,{className:"h-4 w-4"}),a.jsx("span",{children:n.label})]},n.label))})]})})]})]})}function GP(){const{shopItems:e,loadShopItems:t,shopItemsLoading:n}=$e(),{scrollY:r}=lr(),s=sn(r,[0,500],[.3,.1]);p.useEffect(()=>{e.length===0&&t()},[t,e.length]);const i=e.filter(o=>o.isActive);return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:"var(--font-family-body)",backgroundColor:"var(--bg-dark)",color:"var(--text-primary)"},children:[a.jsx(Ye,{intensity:s}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...q.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🛒 Магазин"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:"var(--text-muted)"},children:"Товары и услуги"})]}),n?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:Array.from({length:4}).map((o,l)=>a.jsx(Al,{},l))}):i.length>0?a.jsx(E.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:i.map(o=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:a.jsx(HP,{item:o})},o.id))}):a.jsxs(pt,{className:"text-center py-16",children:[a.jsx(E.div,{...q.float,className:"w-16 h-16 mx-auto mb-6 text-text-muted",children:a.jsx(xo,{size:40})}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Магазин временно пуст"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:"Скоро здесь появятся удивительные товары и услуги."})]})]})]})}const Se={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Zo={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function KP(){const{user:e}=de(),{characters:t,loadCharacters:n,charactersLoading:r}=$e(),s=tt(),{scrollY:i}=lr(),o=sn(i,[0,500],[.3,.1]);p.useEffect(()=>{e&&t.length===0&&n()},[n,e,t.length]);const l=u=>{s(`/characters/${u.id}`)};if(!e)return a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{fontFamily:Se.fonts.body,backgroundColor:Se.colors.background.dark},children:[a.jsx(Ye,{intensity:o}),a.jsxs("div",{className:"rounded-3xl p-8 border text-center max-w-md",style:{background:Se.colors.background.glass,borderColor:Se.colors.border,boxShadow:Se.shadows.glass,color:Se.colors.text.primary},children:[a.jsx(Ds,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Доступ запрещен"}),a.jsx("p",{className:"text-sm",style:{color:Se.colors.text.muted},children:"Войдите в систему для просмотра избранного"})]})]});const c=t.filter(u=>{var d;return(d=e.favorites)==null?void 0:d.includes(u.id)});return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:Se.fonts.body,backgroundColor:Se.colors.background.dark},children:[a.jsx(Ye,{intensity:o}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...Zo.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:Se.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"❤️ Мои избранные"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:Se.colors.text.muted},children:"Персонажи, которые покорили ваше сердце"})]}),r?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5 lg:gap-6",children:Array.from({length:8}).map((u,d)=>a.jsx(Al,{},d))}):c.length>0?a.jsx(Le,{children:a.jsx(E.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5 lg:gap-6",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:c.map((u,d)=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},transition:{duration:.6,ease:[.25,.1,.25,1],delay:d*.07},children:a.jsx(ch,{character:u,onClick:l})},u.id))})}):a.jsxs(E.div,{...Zo.fadeInUp(.2),className:"text-center py-16 lg:py-24 rounded-3xl",style:{background:Se.colors.background.glass,borderColor:Se.colors.border,boxShadow:Se.shadows.glass,color:Se.colors.text.primary},children:[a.jsx(E.div,{...Zo.float,className:"w-16 h-16 mx-auto mb-6 opacity-50",style:{color:Se.colors.text.muted},children:a.jsx(ih,{})}),a.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-3",children:"В избранном пока пусто"}),a.jsx("p",{className:"text-sm sm:text-base mb-6 max-w-md mx-auto",style:{color:Se.colors.text.muted},children:"Нажмите на сердечко на карточке персонажа, чтобы добавить его сюда."}),a.jsx(E.button,{...Zo.buttonTap,onClick:()=>s("/characters"),className:"inline-block px-6 sm:px-8 py-3 sm:py-4 rounded-full font-bold text-sm sm:text-base transition-all duration-300",style:{background:`linear-gradient(135deg, ${Se.colors.accent.primary}, ${Se.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:Se.shadows.button},children:"Перейти к персонажам"})]})]})]})}const nt={border:"rgba(255,255,255,0.12)",itemBg:"rgba(255,255,255,0.04)",accent:"#f7cfe1"},qP=({file:e,onRemove:t})=>a.jsxs("div",{className:"relative group bg-slate-700/50 p-2 rounded-lg flex items-center space-x-2 border",style:{borderColor:nt.border},children:[e.type.startsWith("image/")?a.jsx(B4,{className:"h-5 w-5 text-slate-400"}):a.jsx(sh,{className:"h-5 w-5 text-slate-400"}),a.jsx("span",{className:"text-xs text-slate-300 truncate",children:e.name}),a.jsx("button",{onClick:t,className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Wt,{size:12})})]}),YP=({msg:e,isOwn:t})=>a.jsx("div",{className:`flex w-full ${t?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-md p-3 rounded-2xl ${t?"bg-indigo-600 text-white rounded-br-none":"bg-slate-700/80 text-slate-200 rounded-bl-none"}`,children:[a.jsx("p",{className:"text-sm font-semibold",children:t?"Вы":e.userName}),a.jsx("p",{className:"text-sm mt-1 whitespace-pre-wrap break-words",children:e.content}),e.files&&e.files.length>0&&a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:e.files.map(n=>{var r;return a.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-xs underline text-cyan-300 break-all",children:(r=n.split("/").pop())==null?void 0:r.split("?")[0]},n)})}),a.jsx("p",{className:`text-xs mt-2 ${t?"text-indigo-200":"text-slate-400"} text-right`,children:new Date(e.createdAt).toLocaleTimeString()})]})});function XP({ticket:e,onBack:t}){const{user:n}=de(),{messages:r,addMessage:s,updateMessage:i}=$e(),[o,l]=p.useState(""),[c,u]=p.useState([]),d=p.useRef(null),f=p.useMemo(()=>[e,...r.filter(g=>g.parent===e.id)].sort((g,v)=>new Date(g.createdAt).getTime()-new Date(v.createdAt).getTime()),[r,e]);p.useEffect(()=>{var g;(g=d.current)==null||g.scrollIntoView({behavior:"smooth"}),f.forEach(v=>{!v.isReadByUser&&v.userId!==(n==null?void 0:n.id)&&i(v.id,{isReadByUser:!0})})},[f,i,n==null?void 0:n.id]);const h=async()=>{if(!o.trim()&&c.length===0)return;const g=new FormData;g.append("content",o),g.append("parent",e.id),g.append("isTicket","false"),c.forEach(w=>g.append("files",w)),await s(g)&&(l(""),u([]))};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full",children:a.jsx(Wv,{})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h2",{className:"text-lg font-bold text-white truncate",children:e.subject}),a.jsxs("p",{className:"text-xs text-slate-300",children:["Тикет #",e.id.slice(-6)]})]})]}),a.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto custom-scrollbar",children:[f.map(g=>a.jsx(YP,{msg:g,isOwn:g.userId===(n==null?void 0:n.id)},g.id)),a.jsx("div",{ref:d})]}),a.jsxs("div",{className:"p-4 border-t border-white/10 bg-slate-800/50",children:[c.length>0&&a.jsx("div",{className:"mb-2 grid grid-cols-2 sm:grid-cols-3 gap-2",children:c.map((g,v)=>a.jsx(qP,{file:g,onRemove:()=>u(w=>w.filter((b,m)=>m!==v))},v))}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"file",multiple:!0,id:"file-input",className:"hidden",onChange:g=>u(v=>[...v,...Array.from(g.target.files||[])])}),a.jsx("label",{htmlFor:"file-input",className:"p-3 bg-slate-700/50 rounded-full cursor-pointer hover:bg-slate-600/50 border",style:{borderColor:nt.border},children:a.jsx(Qv,{})}),a.jsx("input",{type:"text",value:o,onChange:g=>l(g.target.value),placeholder:"Напишите ответ...",className:"w-full px-4 py-3 rounded-full text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50 border bg-black/20",style:{borderColor:nt.border}}),a.jsx("button",{onClick:h,className:"p-3 rounded-full text-black",style:{background:nt.accent},children:a.jsx(yo,{})})]})]})]})}function QP({onBack:e}){const{addMessage:t}=$e(),[n,r]=p.useState(""),[s,i]=p.useState(""),[o,l]=p.useState([]),c=async()=>{if(!n.trim()||!s.trim())return;const u=new FormData;u.append("subject",n),u.append("content",s),u.append("isTicket","true"),o.forEach(f=>u.append("files",f)),await t(u)&&e()};return a.jsxs("div",{className:"p-6",children:[a.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-slate-300 hover:text-white mb-4",children:[a.jsx(Wv,{size:18}),a.jsx("span",{children:"Назад"})]}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Новый тикет"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Тема обращения",className:"w-full px-4 py-3 rounded-xl border bg-black/20 focus:ring-2 focus:ring-[var(--accent)]/50 outline-none",style:{borderColor:nt.border}}),a.jsx("textarea",{value:s,onChange:u=>i(u.target.value),rows:8,placeholder:"Опишите вашу проблему...",className:"w-full px-4 py-3 rounded-xl resize-none border bg-black/20 focus:ring-2 focus:ring-[var(--accent)]/50 outline-none",style:{borderColor:nt.border}}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{htmlFor:"new-file-input",className:"flex items-center space-x-2 cursor-pointer text-cyan-400 hover:text-cyan-300",children:[a.jsx(Qv,{size:18}),a.jsxs("span",{children:["Прикрепить файлы (",o.length,")"]})]}),a.jsx("input",{type:"file",multiple:!0,id:"new-file-input",className:"hidden",onChange:u=>l(d=>[...d,...Array.from(u.target.files||[])])}),a.jsx("button",{onClick:c,className:"px-5 py-2.5 rounded-xl font-semibold text-black",style:{background:nt.accent},children:"Отправить"})]})]})]})}function ZP(){const{user:e}=de(),{messages:t,loadMessages:n}=$e(),[r,s]=p.useState(null),[i,o]=p.useState(!1),l=bt();p.useEffect(()=>{n()},[n]),p.useEffect(()=>{var f;const d=(f=l.state)==null?void 0:f.ticketId;if(d&&t.length>0){const h=t.find(g=>g.id===d&&g.isTicket);h&&s(h)}},[l.state,t]);const c=p.useMemo(()=>{if(!e)return[];const d=t.filter(h=>h.isTicket&&h.userId===e.id),f=t.filter(h=>!h.isTicket);return d.map(h=>{const v=[h,...f.filter(w=>w.parent===h.id)].sort((w,b)=>new Date(b.createdAt).getTime()-new Date(w.createdAt).getTime())[0];return{...h,lastActivity:v?new Date(v.createdAt):new Date(h.createdAt)}}).sort((h,g)=>g.lastActivity.getTime()-h.lastActivity.getTime())},[t,e]),u=d=>t.some(f=>f.parent===d.id&&!f.isReadByUser&&f.userId!==(e==null?void 0:e.id));return r?a.jsx("div",{className:"max-w-4xl mx-auto rounded-3xl border overflow-hidden h-[85vh]",style:{borderColor:nt.border,background:"rgba(255,255,255,0.04)"},children:a.jsx(XP,{ticket:r,onBack:()=>s(null)})}):i?a.jsx("div",{className:"max-w-4xl mx-auto rounded-3xl border",style:{borderColor:nt.border,background:"rgba(255,255,255,0.04)"},children:a.jsx(QP,{onBack:()=>o(!1)})}):a.jsx("div",{className:"min-h-screen p-2 sm:p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"relative glass rounded-3xl p-6 border border-cyan-400/20",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative p-4 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl border border-white/20 shadow-lg",children:a.jsx(G4,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:"Поддержка"}),a.jsx("p",{className:"text-slate-400",children:"Мои обращения"})]})]})})}),a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-center space-x-2 px-5 py-3 rounded-xl font-semibold text-black",style:{background:nt.accent},children:[a.jsx(Kv,{size:18}),a.jsx("span",{children:"Создать новый тикет"})]})}),a.jsx("div",{className:"rounded-2xl border p-3 space-y-3",style:{borderColor:nt.border,background:"rgba(255,255,255,0.03)"},children:c.length>0?c.map(d=>{const f=u(d);return a.jsxs("div",{onClick:()=>s(d),className:"p-4 rounded-xl cursor-pointer hover:bg-white/5 flex justify-between items-center border",style:{borderColor:f?nt.accent:nt.border,background:nt.itemBg},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-semibold text-white truncate max-w-xs sm:max-w-md",children:d.subject}),a.jsxs("p",{className:"text-xs text-white",children:["Тикет #",d.id.slice(-6)," • Активность: ",new Date(d.lastActivity).toLocaleString()]})]}),f&&a.jsx("div",{className:"w-2.5 h-2.5 bg-pink-400 rounded-full animate-pulse flex-shrink-0 ml-4"})]},d.id)}):a.jsx("div",{className:"text-center text-slate-400 py-8",children:a.jsx("p",{children:"У вас еще нет обращений."})})})]})})}function JP(){const{pathname:e}=bt(),t=p.useRef(null);return p.useEffect(()=>{e!==t.current&&(window.scrollTo(0,0),t.current=e)},[e]),p.useEffect(()=>{const n=()=>{sessionStorage.setItem("scrollPosition",window.scrollY.toString())};window.addEventListener("scroll",n,{passive:!0});const r=sessionStorage.getItem("scrollPosition");return r&&window.scrollTo(0,parseInt(r)),()=>{window.removeEventListener("scroll",n)}},[]),null}const Yt=({label:e,icon:t,isActive:n,onClick:r,activeColorClass:s})=>a.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all duration-300 border
      ${n?`${s} text-white border-transparent shadow-lg`:"text-slate-300 bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[t,a.jsx("span",{children:e})]});function e6(){const{filteredUserCharacters:e,filters:t,setFilters:n,loading:r,loadUserCharacters:s}=rx(),{user:i}=de(),o=tt(),[l,c]=p.useState(t.search),u=r1(l,500);p.useEffect(()=>{n({...t,search:u})},[u,n]),p.useEffect(()=>{!r&&e.length===0&&s()},[r,e.length,s]);const d=(b,m)=>{b!=="search"&&n({...t,[b]:m})},f=()=>{c(""),n({search:"",gender:"all",ageGroup:"all",sortBy:"newest"})},[h,g]=p.useState(!1),v=b=>{o(`/characters/${b.id}`)},w=()=>{o("/submit-character")};return a.jsx("div",{className:"min-h-screen relative p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-screen-xl mx-auto relative z-10",children:[a.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"glass rounded-3xl p-4 sm:p-6 mb-8 border border-white/10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 w-full sm:w-auto",children:[a.jsx(yT,{className:"absolute left-5 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 z-10"}),a.jsx("input",{type:"text",placeholder:"Найти персонажа...",value:l,onChange:b=>c(b.target.value),className:"w-full pl-14 pr-4 py-3 bg-slate-800/50 border border-transparent rounded-full text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 transition-all"})]}),a.jsx("button",{onClick:()=>g(!h),className:"p-3 bg-slate-800/50 rounded-full text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors flex-shrink-0",children:a.jsx(ST,{className:"h-5 w-5"})}),i&&a.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-5 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-full font-semibold hover:from-green-600 hover:to-emerald-600 transition-all flex-shrink-0",children:[a.jsx(Kv,{className:"h-5 w-5"}),a.jsx("span",{children:"Предложить своего"})]})]}),a.jsx(Le,{children:h&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"border-t border-white/10 pt-4 mt-4 space-y-5",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Пол"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Yt,{label:"Все",icon:a.jsx(Dr,{size:16}),isActive:t.gender==="all",onClick:()=>d("gender","all"),activeColorClass:"bg-slate-600"}),a.jsx(Yt,{label:"Мужчины",icon:a.jsx(Xv,{size:16}),isActive:t.gender==="male",onClick:()=>d("gender","male"),activeColorClass:"bg-blue-600"}),a.jsx(Yt,{label:"Девушки",icon:a.jsx(t1,{size:16}),isActive:t.gender==="female",onClick:()=>d("gender","female"),activeColorClass:"bg-pink-600"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Возраст"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Yt,{label:"Все",icon:a.jsx(Dr,{size:16}),isActive:t.ageGroup==="all",onClick:()=>d("ageGroup","all"),activeColorClass:"bg-slate-600"}),a.jsx(Yt,{label:"18+",icon:a.jsx(rg,{size:16}),isActive:t.ageGroup==="18+",onClick:()=>d("ageGroup","18+"),activeColorClass:"bg-green-600"}),a.jsx(Yt,{label:"45+",icon:a.jsx(rg,{size:16}),isActive:t.ageGroup==="45+",onClick:()=>d("ageGroup","45+"),activeColorClass:"bg-teal-600"}),a.jsx(Yt,{label:"Бессмертные",icon:a.jsx(oh,{size:16}),isActive:t.ageGroup==="immortal",onClick:()=>d("ageGroup","immortal"),activeColorClass:"bg-indigo-600"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Сортировка"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Yt,{label:"Стандартно",icon:a.jsx(ad,{size:16}),isActive:t.sortBy==="newest",onClick:()=>d("sortBy","newest"),activeColorClass:"bg-slate-600"}),a.jsx(Yt,{label:"По рейтингу",icon:a.jsx(ah,{size:16}),isActive:t.sortBy==="rating",onClick:()=>d("sortBy","rating"),activeColorClass:"bg-yellow-600"}),a.jsx(Yt,{label:"По имени",icon:a.jsx(zv,{size:16}),isActive:t.sortBy==="name",onClick:()=>d("sortBy","name"),activeColorClass:"bg-sky-600"})]})]})]})})})]}),r?a.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((b,m)=>a.jsx(Al,{},m))}):e.length>0?a.jsx(E.div,{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:e.map(b=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:a.jsx(ch,{character:b,onClick:v})},b.id))}):a.jsxs("div",{className:"text-center py-20 glass rounded-3xl border border-white/10",children:[a.jsx(ih,{className:"h-24 w-24 text-slate-500 mx-auto mb-6"}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:"Персонажи не найдены"}),a.jsx("p",{className:"text-slate-400 mb-8 text-lg",children:"Попробуйте изменить критерии поиска."}),a.jsx("button",{onClick:f,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-cyan-500 text-white rounded-2xl font-semibold hover:opacity-90 transition-opacity",children:"Сбросить фильтры"})]})]})})}function t6(){var x,j;const{user:e}=de(),{addUserCharacter:t}=rx(),n=tt(),[r,s]=p.useState(null),[i,o]=p.useState({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,ageGroup:"18+",tags:[],links:[]}),[l,c]=p.useState(!1),[u,d]=p.useState(null);if(!e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass rounded-3xl p-8 border border-red-500/20 text-center",children:[a.jsx(Ja,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Доступ запрещен"}),a.jsx("p",{className:"text-slate-400",children:"Войдите в систему, чтобы предложить персонажа"})]})});const f=k=>{const{name:S,value:C}=k.target;o({...i,[S]:C})},h=k=>{const S=parseInt(k.target.value,10),C=isNaN(S)?0:Math.max(0,S);o({...i,age:C,ageGroup:c1(C)})},g=()=>{const k=prompt("Введите новый тег:");k&&o(S=>({...S,tags:[...S.tags||[],k.trim()]}))},v=k=>{o(S=>({...S,tags:(S.tags||[]).filter((C,T)=>T!==k)}))},w=()=>{o(k=>({...k,links:[...k.links||[],{label:"",url:""}]}))},b=(k,S,C)=>{o(T=>({...T,links:(T.links||[]).map((M,N)=>N===k?{...M,[S]:C}:M)}))},m=k=>{o(S=>({...S,links:(S.links||[]).filter((C,T)=>T!==k)}))},y=async k=>{var C,T;if(k.preventDefault(),!((C=i.name)!=null&&C.trim())||!((T=i.occupation)!=null&&T.trim())||!r){d({type:"error",text:"Пожалуйста, заполните обязательные поля: Имя, Профессия и Фото."});return}c(!0),d(null);const S=new FormData;Object.entries(i).forEach(([M,N])=>{M==="tags"||M==="links"?S.append(M,JSON.stringify(N)):N!=null&&S.append(M,String(N))}),r&&S.append("photo",r),S.append("createdBy",e.id);try{await t(S)?(d({type:"success",text:"Ваш персонаж успешно отправлен на рассмотрение!"}),o({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,ageGroup:"18+",tags:[],links:[]}),s(null),k.target.reset(),setTimeout(()=>n("/user-characters"),3e3)):d({type:"error",text:"Ошибка при отправке персонажа. Попробуйте еще раз."})}catch(M){console.error("Ошибка при отправке персонажа:",M),d({type:"error",text:"Произошла ошибка при отправке."})}finally{c(!1)}};return a.jsxs("div",{className:"min-h-screen p-4 lg:p-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"relative glass rounded-3xl p-6 lg:p-8 border border-green-400/20 shadow-2xl",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative p-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl border border-white/20 shadow-2xl",children:a.jsx(Ja,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-black bg-gradient-to-r from-white via-green-200 to-emerald-200 bg-clip-text text-transparent mb-2",children:"Предложить персонажа"}),a.jsx("p",{className:"text-slate-400",children:"Добавьте своего уникального AI-персонажа в каталог"})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto glass rounded-3xl border border-white/10 overflow-hidden",children:a.jsxs("form",{onSubmit:y,className:"p-6 lg:p-8 space-y-6",children:[u&&a.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:`mb-4 p-4 rounded-2xl border text-sm ${u.type==="success"?"bg-green-500/20 border-green-500/30 text-green-300":"bg-red-500/20 border-red-500/30 text-red-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[u.type==="success"?a.jsx(Check,{className:"h-4 w-4"}):a.jsx(Wt,{className:"h-4 w-4"}),a.jsx("span",{children:u.text})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Имя ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:i.name||"",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50",placeholder:"Введите имя персонажа",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Профессия ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",name:"occupation",value:i.occupation||"",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50",placeholder:"Введите профессию",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Краткое описание"}),a.jsx("textarea",{name:"description",value:i.description||"",onChange:f,rows:3,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50 resize-none",placeholder:"Краткое описание персонажа"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Полное описание"}),a.jsx("textarea",{name:"fullDescription",value:i.fullDescription||"",onChange:f,rows:4,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50 resize-none",placeholder:"Подробное описание персонажа"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Фотография ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"file",required:!0,onChange:k=>s(k.target.files?k.target.files[0]:null),accept:"image/*",className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-500/10 file:text-green-300 hover:file:bg-green-500/20"}),r&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:URL.createObjectURL(r),alt:"Превью",className:"w-24 h-24 rounded-xl object-cover"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Пол"}),a.jsxs("select",{name:"gender",value:i.gender||"female",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500/50",children:[a.jsx("option",{value:"female",children:"Женский"}),a.jsx("option",{value:"male",children:"Мужской"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Возраст"}),a.jsx("input",{type:"number",name:"age",value:i.age||0,onChange:h,className:"w-full px-4 py-3 glass rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500/50",min:"0"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Введите 0, если персонаж бессмертный."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Теги"}),a.jsx("button",{type:"button",onClick:g,className:"text-sm text-green-400 hover:text-white transition-colors",children:"+ Добавить тег"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(x=i.tags)==null?void 0:x.map((k,S)=>a.jsxs("span",{className:"flex items-center space-x-1 px-3 py-1 bg-green-500/20 text-green-300 rounded-lg text-sm",children:[a.jsx("span",{children:k}),a.jsx("button",{type:"button",onClick:()=>v(S),className:"text-green-400 hover:text-red-400 transition-colors",children:a.jsx(Wt,{className:"h-3 w-3"})})]},S))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Ссылки"}),a.jsx("button",{type:"button",onClick:w,className:"text-sm text-cyan-400 hover:text-white transition-colors",children:"+ Добавить ссылку"})]}),a.jsx("div",{className:"space-y-2",children:(j=i.links)==null?void 0:j.map((k,S)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",placeholder:"Название ссылки",value:k.label,onChange:C=>b(S,"label",C.target.value),className:"flex-1 px-3 py-2 glass rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 text-sm"}),a.jsx("input",{type:"url",placeholder:"https://example.com",value:k.url,onChange:C=>b(S,"url",C.target.value),className:"flex-1 px-3 py-2 glass rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 text-sm"}),a.jsx("button",{type:"button",onClick:()=>m(S),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Wt,{className:"h-4 w-4"})})]},S))})]})]})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center space-x-2 px-6 py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all disabled:opacity-50 font-bold text-lg",children:l?a.jsx(go,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(yo,{className:"h-5 w-5"}),a.jsx("span",{children:"Отправить персонажа"})]})})]})})]})}const W={colors:{text:{primary:"#ffffff",secondary:"#e0e0e0",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",glassHover:"rgba(50, 50, 65, 0.8)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb"},notification:{reply:"#4ade80",status:"#a78bfa",admin:"#fbbf24",order:"#4ade80",message:"#fbbf24",userChar:"#2dd4bf",like:"#4ade80",dislike:"#f87171",support:"#a78bfa",default:"#6b7280"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",accent:"0 4px 16px rgba(215, 174, 251, 0.4)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Qr={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}},n6=({type:e,isUnread:t})=>{const n=()=>{switch(e){case"reply":return a.jsx(Za,{className:"w-5 h-5"});case"status_change":return a.jsx(IT,{className:"w-5 h-5"});case"admin_reply":return a.jsx(to,{className:"w-5 h-5"});case"new_order":return a.jsx(d4,{className:"w-5 h-5"});case"new_message":return a.jsx(Za,{className:"w-5 h-5"});case"new_user_character":return a.jsx(FT,{className:"w-5 h-5"});case"like":return a.jsx(e1,{className:"w-5 h-5"});case"dislike":return a.jsx(Jv,{className:"w-5 h-5"});case"support_reply":return a.jsx(to,{className:"w-5 h-5"});default:return a.jsx(Ll,{className:"w-5 h-5"})}},r=()=>{switch(e){case"reply":return W.colors.notification.reply;case"status_change":return W.colors.notification.status;case"admin_reply":return W.colors.notification.admin;case"new_order":return W.colors.notification.order;case"new_message":return W.colors.notification.message;case"new_user_character":return W.colors.notification.userChar;case"like":return W.colors.notification.like;case"dislike":return W.colors.notification.dislike;case"support_reply":return W.colors.notification.support;default:return W.colors.notification.default}};return a.jsx("div",{className:"p-3 rounded-full flex items-center justify-center transition-all duration-300",style:{background:t?r():W.colors.background.glass,color:t?"#0a0a12":W.colors.text.primary,boxShadow:t?`0 4px 16px ${r()}40`:W.shadows.glass,border:`1px solid ${t?r():W.colors.border}`},children:n()})};function r6(){const{user:e,isAdmin:t}=de(),{notifications:n,newsletters:r,markNotificationAsRead:s,loadNotifications:i,loadNewsletters:o}=$e(),l=tt(),[c,u]=p.useState(null),{scrollY:d}=lr(),f=sn(d,[0,500],[.3,.1]);p.useEffect(()=>{e&&(i(),o())},[e,i,o]);const h=w=>{if(w.itemType==="notification"){if(w.isRead||s(w.id),t)switch(w.type){case"new_order":l("/admin",{state:{initialTab:"orders"}});return;case"new_message":l("/admin",{state:{initialTab:"messages"}});return;case"new_user_character":l("/admin",{state:{initialTab:"user-characters"}});return}(w.type==="reply"||w.type==="status_change"||w.type==="like"||w.type==="dislike")&&l(`/characters/${w.entityId}`),w.type==="support_reply"&&l("/support",{state:{ticketId:w.entityId}})}else u(w)},g=p.useMemo(()=>[...n.map(w=>({...w,itemType:"notification"})),...r.map(w=>({...w,itemType:"newsletter"}))].sort((w,b)=>new Date(b.createdAt).getTime()-new Date(w.createdAt).getTime()),[n,r]),v=p.useMemo(()=>n.filter(w=>!w.isRead).length,[n]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"min-h-screen w-full relative p-2 sm:p-4 pt-4 sm:pt-6",style:{fontFamily:W.fonts.body,backgroundColor:W.colors.background.dark},children:[a.jsx(Ye,{intensity:f}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none",children:[a.jsxs(E.div,{...Qr.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:W.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🔔 Уведомления"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:W.colors.text.muted},children:v>0?`У вас ${v} новых уведомлений`:"Нет новых уведомлений"})]}),a.jsx("div",{className:"max-w-2xl mx-auto space-y-4",children:g.length>0?a.jsx(Le,{children:g.map((w,b)=>{const m=w.itemType==="notification"&&!w.isRead;return a.jsx(E.div,{...Qr.fadeInUp(.2+b*.05),onClick:()=>h(w),className:"relative overflow-hidden rounded-2xl p-5 border transition-all duration-300 cursor-pointer",style:{background:m?W.colors.background.glassHover:W.colors.background.glass,borderColor:m?W.colors.accent.primary:W.colors.border,boxShadow:m?W.shadows.accent:W.shadows.glass},children:a.jsxs("div",{className:"flex items-start gap-4",children:[w.itemType==="notification"?a.jsx(n6,{type:w.type,isUnread:m}):a.jsx("div",{className:"p-3 rounded-full flex items-center justify-center transition-all duration-300",style:{background:W.colors.background.glass,color:W.colors.text.primary,boxShadow:W.shadows.glass,border:`1px solid ${W.colors.border}`},children:a.jsx(yo,{className:"w-5 h-5",style:{color:"#fbbf24"}})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-display font-semibold leading-tight",style:{color:m?W.colors.text.primary:W.colors.text.secondary},children:w.itemType==="notification"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold",style:{color:W.colors.text.primary},children:w.senderName})," ",w.message]}):a.jsx("span",{className:"font-bold",style:{color:W.colors.text.primary},children:w.title})}),a.jsx("p",{className:"text-xs mt-2",style:{color:W.colors.text.muted},children:new Date(w.createdAt).toLocaleString()})]}),m&&a.jsx(E.div,{...Qr.float,className:"absolute top-2 right-2 w-3 h-3 rounded-full",style:{background:W.colors.accent.primary,boxShadow:W.shadows.accent}})]})},`${w.itemType}-${w.id}`)})}):a.jsxs(E.div,{...Qr.fadeInUp(.2),className:"text-center py-16 lg:py-24 rounded-3xl",style:{background:W.colors.background.glass,borderColor:W.colors.border,boxShadow:W.shadows.glass,color:W.colors.text.primary},children:[a.jsx(E.div,{...Qr.float,className:"w-16 h-16 mx-auto mb-6 opacity-50",style:{color:W.colors.text.muted},children:a.jsx(Ll,{})}),a.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-3",children:"Здесь пока пусто"}),a.jsx("p",{className:"mb-6 max-w-md mx-auto",style:{color:W.colors.text.muted},children:"Новые уведомления будут появляться тут."})]})})]})]}),a.jsx(Le,{children:c&&a.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)"},onClick:()=>u(null),children:a.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:w=>w.stopPropagation(),className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl border",style:{background:W.colors.background.glass,borderColor:W.colors.border,boxShadow:W.shadows.glass},children:[c.image&&a.jsx("img",{src:c.image,alt:c.title,className:"w-full h-64 object-cover border-b",style:{borderColor:W.colors.border}}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black mb-2",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:W.fonts.heading},children:c.title}),a.jsxs("p",{className:"text-xs",style:{color:W.colors.text.muted},children:["От Администрации • ",new Date(c.createdAt).toLocaleString()]})]}),a.jsx(E.button,{...Qr.buttonTap,onClick:()=>u(null),className:"p-2 rounded-full",style:{background:W.colors.background.glass,color:W.colors.text.muted,border:`1px solid ${W.colors.border}`},"aria-label":"Закрыть",children:a.jsx(k4,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"prose prose-invert max-w-none",style:{color:W.colors.text.secondary,fontFamily:W.fonts.body},dangerouslySetInnerHTML:{__html:c.content||""}})]})]})})})]})}const s6=({isLoading:e})=>a.jsx(Le,{children:e&&a.jsxs(E.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"fixed inset-0 z-[1000] flex flex-col items-center justify-center",children:[a.jsx(Ye,{intensity:1,animated:!0}),a.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center",children:[a.jsx("img",{src:"/icons/icon-192x192.png",alt:"CAS Каталог",className:"w-24 h-24 mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-black",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:'"Geist", "Inter", system-ui, sans-serif'},children:"CAS Каталог"}),a.jsx("p",{className:"text-slate-400 mt-2",children:"Загрузка данных..."})]}),a.jsx(E.div,{className:"w-full max-w-xs h-1 bg-white/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:a.jsx(E.div,{className:"h-full rounded-full",style:{background:"linear-gradient(90deg, #d7aefb, #ff6bd6)"},initial:{x:"-100%"},animate:{x:"0%"},transition:{duration:1.5,ease:"easeInOut",repeat:1/0,repeatType:"loop"}})})]})});function i6({children:e}){const{user:t,loading:n}=de();return n?null:(t==null?void 0:t.role)==="admin"?a.jsx(a.Fragment,{children:e}):a.jsx(Wa,{to:"/"})}function ni({children:e}){const{user:t,loading:n}=de();return n?null:t?a.jsx(a.Fragment,{children:e}):a.jsx(Wa,{to:"/login"})}function o6(){const{loading:e}=$e(),{loading:t}=de(),n=e||t;return a.jsxs(a.Fragment,{children:[a.jsx(s6,{isLoading:n}),a.jsx(Le,{children:!n&&a.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsx(JP,{}),a.jsxs(hk,{children:[a.jsx(_e,{path:"/login",element:a.jsx(ZT,{})}),a.jsx(_e,{path:"/register",element:a.jsx(JT,{})}),a.jsxs(_e,{path:"/",element:a.jsx(QT,{}),children:[a.jsx(_e,{index:!0,element:a.jsx(Wa,{to:"/characters",replace:!0})}),a.jsx(_e,{path:"characters",element:a.jsx(hE,{})}),a.jsx(_e,{path:"characters/:characterId",element:a.jsx(l1,{})}),a.jsx(_e,{path:"rating",element:a.jsx(yE,{})}),a.jsx(_e,{path:"shop",element:a.jsx(GP,{})}),a.jsx(_e,{path:"profile",element:a.jsx(ni,{children:a.jsx(WP,{})})}),a.jsx(_e,{path:"favorites",element:a.jsx(ni,{children:a.jsx(KP,{})})}),a.jsx(_e,{path:"support",element:a.jsx(ni,{children:a.jsx(ZP,{})})}),a.jsx(_e,{path:"notifications",element:a.jsx(ni,{children:a.jsx(r6,{})})}),a.jsx(_e,{path:"user-characters",element:a.jsx(e6,{})}),a.jsx(_e,{path:"submit-character",element:a.jsx(ni,{children:a.jsx(t6,{})})}),a.jsx(_e,{path:"admin",element:a.jsx(i6,{children:a.jsx(UP,{})})})]}),a.jsx(_e,{path:"*",element:a.jsx(Wa,{to:"/",replace:!0})})]})]})})]})}function a6(){return a.jsx(wk,{children:a.jsx(Uk,{children:a.jsx(Wk,{children:a.jsx(Hk,{children:a.jsx(Kk,{children:a.jsx(o6,{})})})})})})}Wc.createRoot(document.getElementById("root")).render(a.jsx(I.StrictMode,{children:a.jsx(a6,{})}));
