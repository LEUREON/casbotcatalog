function iw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ow(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mg={exports:{}},fl={},Ig={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=Symbol.for("react.element"),aw=Symbol.for("react.portal"),lw=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),uw=Symbol.for("react.profiler"),dw=Symbol.for("react.provider"),fw=Symbol.for("react.context"),hw=Symbol.for("react.forward_ref"),pw=Symbol.for("react.suspense"),mw=Symbol.for("react.memo"),gw=Symbol.for("react.lazy"),kh=Symbol.iterator;function yw(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var $g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fg=Object.assign,Dg={};function Bs(e,t,n){this.props=e,this.context=t,this.refs=Dg,this.updater=n||$g}Bs.prototype.isReactComponent={};Bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Og(){}Og.prototype=Bs.prototype;function Cd(e,t,n){this.props=e,this.context=t,this.refs=Dg,this.updater=n||$g}var Sd=Cd.prototype=new Og;Sd.constructor=Cd;Fg(Sd,Bs.prototype);Sd.isPureReactComponent=!0;var jh=Array.isArray,_g=Object.prototype.hasOwnProperty,Nd={current:null},Vg={key:!0,ref:!0,__self:!0,__source:!0};function Bg(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)_g.call(t,r)&&!Vg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:co,type:e,key:i,ref:o,props:s,_owner:Nd.current}}function xw(e,t){return{$$typeof:co,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Td(e){return typeof e=="object"&&e!==null&&e.$$typeof===co}function vw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ch=/\/+/g;function Kl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vw(""+e.key):t.toString(36)}function oa(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case co:case aw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Kl(o,0):r,jh(s)?(n="",e!=null&&(n=e.replace(Ch,"$&/")+"/"),oa(s,t,n,"",function(u){return u})):s!=null&&(Td(s)&&(s=xw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ch,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",jh(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Kl(i,l);o+=oa(i,t,n,c,s)}else if(c=yw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Kl(i,l++),o+=oa(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Po(e,t,n){if(e==null)return e;var r=[],s=0;return oa(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ww(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},aa={transition:null},bw={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:aa,ReactCurrentOwner:Nd};function zg(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Po,forEach:function(e,t,n){Po(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Po(e,function(){t++}),t},toArray:function(e){return Po(e,function(t){return t})||[]},only:function(e){if(!Td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Bs;Z.Fragment=lw;Z.Profiler=uw;Z.PureComponent=Cd;Z.StrictMode=cw;Z.Suspense=pw;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bw;Z.act=zg;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fg({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Nd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_g.call(t,c)&&!Vg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:co,type:e.type,key:s,ref:i,props:r,_owner:o}};Z.createContext=function(e){return e={$$typeof:fw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dw,_context:e},e.Consumer=e};Z.createElement=Bg;Z.createFactory=function(e){var t=Bg.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:hw,render:e}};Z.isValidElement=Td;Z.lazy=function(e){return{$$typeof:gw,_payload:{_status:-1,_result:e},_init:ww}};Z.memo=function(e,t){return{$$typeof:mw,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=aa.transition;aa.transition={};try{e()}finally{aa.transition=t}};Z.unstable_act=zg;Z.useCallback=function(e,t){return tt.current.useCallback(e,t)};Z.useContext=function(e){return tt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return tt.current.useEffect(e,t)};Z.useId=function(){return tt.current.useId()};Z.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return tt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};Z.useRef=function(e){return tt.current.useRef(e)};Z.useState=function(e){return tt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return tt.current.useTransition()};Z.version="18.3.1";Ig.exports=Z;var p=Ig.exports;const M=ow(p),qc=iw({__proto__:null,default:M},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw=p,jw=Symbol.for("react.element"),Cw=Symbol.for("react.fragment"),Sw=Object.prototype.hasOwnProperty,Nw=kw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tw={key:!0,ref:!0,__self:!0,__source:!0};function Ug(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Sw.call(t,r)&&!Tw.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jw,type:e,key:i,ref:o,props:s,_owner:Nw.current}}fl.Fragment=Cw;fl.jsx=Ug;fl.jsxs=Ug;Mg.exports=fl;var a=Mg.exports,Yc={},Wg={exports:{}},bt={},Hg={exports:{}},Kg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,O){var U=A.length;A.push(O);e:for(;0<U;){var I=U-1>>>1,K=A[I];if(0<s(K,O))A[I]=O,A[U]=K,U=I;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var O=A[0],U=A.pop();if(U!==O){A[0]=U;e:for(var I=0,K=A.length,G=K>>>1;I<G;){var Ie=2*(I+1)-1,se=A[Ie],be=Ie+1,Ct=A[be];if(0>s(se,U))be<K&&0>s(Ct,se)?(A[I]=Ct,A[be]=U,I=be):(A[I]=se,A[Ie]=U,I=Ie);else if(be<K&&0>s(Ct,U))A[I]=Ct,A[be]=U,I=be;else break e}}return O}function s(A,O){var U=A.sortIndex-O.sortIndex;return U!==0?U:A.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,y=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(A){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=A)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function k(A){if(w=!1,g(A),!x)if(n(c)!==null)x=!0,Xe(j);else{var O=n(u);O!==null&&ee(k,O.startTime-A)}}function j(A,O){x=!1,w&&(w=!1,m(N),N=-1),y=!0;var U=h;try{for(g(O),f=n(c);f!==null&&(!(f.expirationTime>O)||A&&!$());){var I=f.callback;if(typeof I=="function"){f.callback=null,h=f.priorityLevel;var K=I(f.expirationTime<=O);O=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&r(c),g(O)}else r(c);f=n(c)}if(f!==null)var G=!0;else{var Ie=n(u);Ie!==null&&ee(k,Ie.startTime-O),G=!1}return G}finally{f=null,h=U,y=!1}}var C=!1,S=null,N=-1,R=5,T=-1;function $(){return!(e.unstable_now()-T<R)}function F(){if(S!==null){var A=e.unstable_now();T=A;var O=!0;try{O=S(!0,A)}finally{O?Q():(C=!1,S=null)}}else C=!1}var Q;if(typeof v=="function")Q=function(){v(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ce=re.port2;re.port1.onmessage=F,Q=function(){ce.postMessage(null)}}else Q=function(){b(F,0)};function Xe(A){S=A,C||(C=!0,Q())}function ee(A,O){N=b(function(){A(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,Xe(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var U=h;h=O;try{return A()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,O){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=h;h=A;try{return O()}finally{h=U}},e.unstable_scheduleCallback=function(A,O,U){var I=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?I+U:I):U=I,A){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,A={id:d++,callback:O,priorityLevel:A,startTime:U,expirationTime:K,sortIndex:-1},U>I?(A.sortIndex=U,t(u,A),n(c)===null&&A===n(u)&&(w?(m(N),N=-1):w=!0,ee(k,U-I))):(A.sortIndex=K,t(c,A),x||y||(x=!0,Xe(j))),A},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(A){var O=h;return function(){var U=h;h=O;try{return A.apply(this,arguments)}finally{h=U}}}})(Kg);Hg.exports=Kg;var Ew=Hg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=p,wt=Ew;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gg=new Set,Fi={};function zr(e,t){As(e,t),As(e+"Capture",t)}function As(e,t){for(Fi[e]=t,e=0;e<t.length;e++)Gg.add(t[e])}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=Object.prototype.hasOwnProperty,Rw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sh={},Nh={};function Aw(e){return Xc.call(Nh,e)?!0:Xc.call(Sh,e)?!1:Rw.test(e)?Nh[e]=!0:(Sh[e]=!0,!1)}function Lw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mw(e,t,n,r){if(t===null||typeof t>"u"||Lw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ed=/[\-:]([a-z])/g;function Pd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ed,Pd);We[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ed,Pd);We[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ed,Pd);We[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rd(e,t,n,r){var s=We.hasOwnProperty(t)?We[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mw(t,n,s,r)&&(n=null),r||s===null?Aw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ro=Symbol.for("react.element"),ns=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),Ad=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),qg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),Ld=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),Jc=Symbol.for("react.suspense_list"),Md=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Xg=Symbol.for("react.offscreen"),Th=Symbol.iterator;function Xs(e){return e===null||typeof e!="object"?null:(e=Th&&e[Th]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Gl;function ai(e){if(Gl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gl=t&&t[1]||""}return`
`+Gl+e}var ql=!1;function Yl(e,t){if(!e||ql)return"";ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ql=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ai(e):""}function Iw(e){switch(e.tag){case 5:return ai(e.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return e=Yl(e.type,!1),e;case 11:return e=Yl(e.type.render,!1),e;case 1:return e=Yl(e.type,!0),e;default:return""}}function eu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rs:return"Fragment";case ns:return"Portal";case Qc:return"Profiler";case Ad:return"StrictMode";case Zc:return"Suspense";case Jc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yg:return(e.displayName||"Context")+".Consumer";case qg:return(e._context.displayName||"Context")+".Provider";case Ld:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Md:return t=e.displayName||null,t!==null?t:eu(e.type)||"Memo";case $n:t=e._payload,e=e._init;try{return eu(e(t))}catch{}}return null}function $w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eu(t);case 8:return t===Ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fw(e){var t=Qg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ao(e){e._valueTracker||(e._valueTracker=Fw(e))}function Zg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Qg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tu(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Eh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jg(e,t){t=t.checked,t!=null&&Rd(e,"checked",t,!1)}function nu(e,t){Jg(e,t);var n=nr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ru(e,t.type,n):t.hasOwnProperty("defaultValue")&&ru(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ph(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ru(e,t,n){(t!=="number"||Sa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var li=Array.isArray;function ks(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function su(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(li(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nr(n)}}function e0(e,t){var n=nr(t.value),r=nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ah(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lo,n0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Di(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dw=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(e){Dw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yi[t]=yi[e]})});function r0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yi.hasOwnProperty(e)&&yi[e]?(""+t).trim():t+"px"}function s0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=r0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ow=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ou(e,t){if(t){if(Ow[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function au(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=null;function Id(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cu=null,js=null,Cs=null;function Lh(e){if(e=ho(e)){if(typeof cu!="function")throw Error(P(280));var t=e.stateNode;t&&(t=yl(t),cu(e.stateNode,e.type,t))}}function i0(e){js?Cs?Cs.push(e):Cs=[e]:js=e}function o0(){if(js){var e=js,t=Cs;if(Cs=js=null,Lh(e),t)for(e=0;e<t.length;e++)Lh(t[e])}}function a0(e,t){return e(t)}function l0(){}var Xl=!1;function c0(e,t,n){if(Xl)return e(t,n);Xl=!0;try{return a0(e,t,n)}finally{Xl=!1,(js!==null||Cs!==null)&&(l0(),o0())}}function Oi(e,t){var n=e.stateNode;if(n===null)return null;var r=yl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var uu=!1;if(kn)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){uu=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{uu=!1}function _w(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xi=!1,Na=null,Ta=!1,du=null,Vw={onError:function(e){xi=!0,Na=e}};function Bw(e,t,n,r,s,i,o,l,c){xi=!1,Na=null,_w.apply(Vw,arguments)}function zw(e,t,n,r,s,i,o,l,c){if(Bw.apply(this,arguments),xi){if(xi){var u=Na;xi=!1,Na=null}else throw Error(P(198));Ta||(Ta=!0,du=u)}}function Ur(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function u0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Mh(e){if(Ur(e)!==e)throw Error(P(188))}function Uw(e){var t=e.alternate;if(!t){if(t=Ur(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Mh(s),e;if(i===r)return Mh(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function d0(e){return e=Uw(e),e!==null?f0(e):null}function f0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f0(e);if(t!==null)return t;e=e.sibling}return null}var h0=wt.unstable_scheduleCallback,Ih=wt.unstable_cancelCallback,Ww=wt.unstable_shouldYield,Hw=wt.unstable_requestPaint,Pe=wt.unstable_now,Kw=wt.unstable_getCurrentPriorityLevel,$d=wt.unstable_ImmediatePriority,p0=wt.unstable_UserBlockingPriority,Ea=wt.unstable_NormalPriority,Gw=wt.unstable_LowPriority,m0=wt.unstable_IdlePriority,hl=null,tn=null;function qw(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Qw,Yw=Math.log,Xw=Math.LN2;function Qw(e){return e>>>=0,e===0?32:31-(Yw(e)/Xw|0)|0}var Mo=64,Io=4194304;function ci(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ci(l):(i&=o,i!==0&&(r=ci(i)))}else o=n&~s,o!==0?r=ci(o):i!==0&&(r=ci(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ht(t),s=1<<n,r|=e[n],t&=~s;return r}function Zw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ht(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Zw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function g0(){var e=Mo;return Mo<<=1,!(Mo&4194240)&&(Mo=64),e}function Ql(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function uo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=n}function eb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ht(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Fd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function y0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var x0,Dd,v0,w0,b0,hu=!1,$o=[],Kn=null,Gn=null,qn=null,_i=new Map,Vi=new Map,Dn=[],tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $h(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":_i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function Zs(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ho(t),t!==null&&Dd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nb(e,t,n,r,s){switch(t){case"focusin":return Kn=Zs(Kn,e,t,n,r,s),!0;case"dragenter":return Gn=Zs(Gn,e,t,n,r,s),!0;case"mouseover":return qn=Zs(qn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return _i.set(i,Zs(_i.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vi.set(i,Zs(Vi.get(i)||null,e,t,n,r,s)),!0}return!1}function k0(e){var t=jr(e.target);if(t!==null){var n=Ur(t);if(n!==null){if(t=n.tag,t===13){if(t=u0(n),t!==null){e.blockedOn=t,b0(e.priority,function(){v0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function la(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lu=r,n.target.dispatchEvent(r),lu=null}else return t=ho(n),t!==null&&Dd(t),e.blockedOn=n,!1;t.shift()}return!0}function Fh(e,t,n){la(e)&&n.delete(t)}function rb(){hu=!1,Kn!==null&&la(Kn)&&(Kn=null),Gn!==null&&la(Gn)&&(Gn=null),qn!==null&&la(qn)&&(qn=null),_i.forEach(Fh),Vi.forEach(Fh)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,rb)))}function Bi(e){function t(s){return Js(s,e)}if(0<$o.length){Js($o[0],e);for(var n=1;n<$o.length;n++){var r=$o[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Kn!==null&&Js(Kn,e),Gn!==null&&Js(Gn,e),qn!==null&&Js(qn,e),_i.forEach(t),Vi.forEach(t),n=0;n<Dn.length;n++)r=Dn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)k0(n),n.blockedOn===null&&Dn.shift()}var Ss=En.ReactCurrentBatchConfig,Ra=!0;function sb(e,t,n,r){var s=oe,i=Ss.transition;Ss.transition=null;try{oe=1,Od(e,t,n,r)}finally{oe=s,Ss.transition=i}}function ib(e,t,n,r){var s=oe,i=Ss.transition;Ss.transition=null;try{oe=4,Od(e,t,n,r)}finally{oe=s,Ss.transition=i}}function Od(e,t,n,r){if(Ra){var s=pu(e,t,n,r);if(s===null)ac(e,t,r,Aa,n),$h(e,r);else if(nb(s,e,t,n,r))r.stopPropagation();else if($h(e,r),t&4&&-1<tb.indexOf(e)){for(;s!==null;){var i=ho(s);if(i!==null&&x0(i),i=pu(e,t,n,r),i===null&&ac(e,t,r,Aa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ac(e,t,r,null,n)}}var Aa=null;function pu(e,t,n,r){if(Aa=null,e=Id(r),e=jr(e),e!==null)if(t=Ur(e),t===null)e=null;else if(n=t.tag,n===13){if(e=u0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Aa=e,null}function j0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kw()){case $d:return 1;case p0:return 4;case Ea:case Gw:return 16;case m0:return 536870912;default:return 16}default:return 16}}var Bn=null,_d=null,ca=null;function C0(){if(ca)return ca;var e,t=_d,n=t.length,r,s="value"in Bn?Bn.value:Bn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ca=s.slice(e,1<r?1-r:void 0)}function ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fo(){return!0}function Dh(){return!1}function kt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fo:Dh,this.isPropagationStopped=Dh,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=kt(zs),fo=we({},zs,{view:0,detail:0}),ob=kt(fo),Zl,Jl,ei,pl=we({},fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Zl=e.screenX-ei.screenX,Jl=e.screenY-ei.screenY):Jl=Zl=0,ei=e),Zl)},movementY:function(e){return"movementY"in e?e.movementY:Jl}}),Oh=kt(pl),ab=we({},pl,{dataTransfer:0}),lb=kt(ab),cb=we({},fo,{relatedTarget:0}),ec=kt(cb),ub=we({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),db=kt(ub),fb=we({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hb=kt(fb),pb=we({},zs,{data:0}),_h=kt(pb),mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yb[e])?!!t[e]:!1}function Bd(){return xb}var vb=we({},fo,{key:function(e){if(e.key){var t=mb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bd,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wb=kt(vb),bb=we({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vh=kt(bb),kb=we({},fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bd}),jb=kt(kb),Cb=we({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sb=kt(Cb),Nb=we({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tb=kt(Nb),Eb=[9,13,27,32],zd=kn&&"CompositionEvent"in window,vi=null;kn&&"documentMode"in document&&(vi=document.documentMode);var Pb=kn&&"TextEvent"in window&&!vi,S0=kn&&(!zd||vi&&8<vi&&11>=vi),Bh=" ",zh=!1;function N0(e,t){switch(e){case"keyup":return Eb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ss=!1;function Rb(e,t){switch(e){case"compositionend":return T0(t);case"keypress":return t.which!==32?null:(zh=!0,Bh);case"textInput":return e=t.data,e===Bh&&zh?null:e;default:return null}}function Ab(e,t){if(ss)return e==="compositionend"||!zd&&N0(e,t)?(e=C0(),ca=_d=Bn=null,ss=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S0&&t.locale!=="ko"?null:t.data;default:return null}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lb[e.type]:t==="textarea"}function E0(e,t,n,r){i0(r),t=La(t,"onChange"),0<t.length&&(n=new Vd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wi=null,zi=null;function Mb(e){_0(e,0)}function ml(e){var t=as(e);if(Zg(t))return e}function Ib(e,t){if(e==="change")return t}var P0=!1;if(kn){var tc;if(kn){var nc="oninput"in document;if(!nc){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),nc=typeof Wh.oninput=="function"}tc=nc}else tc=!1;P0=tc&&(!document.documentMode||9<document.documentMode)}function Hh(){wi&&(wi.detachEvent("onpropertychange",R0),zi=wi=null)}function R0(e){if(e.propertyName==="value"&&ml(zi)){var t=[];E0(t,zi,e,Id(e)),c0(Mb,t)}}function $b(e,t,n){e==="focusin"?(Hh(),wi=t,zi=n,wi.attachEvent("onpropertychange",R0)):e==="focusout"&&Hh()}function Fb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ml(zi)}function Db(e,t){if(e==="click")return ml(t)}function Ob(e,t){if(e==="input"||e==="change")return ml(t)}function _b(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:_b;function Ui(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xc.call(t,s)||!qt(e[s],t[s]))return!1}return!0}function Kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gh(e,t){var n=Kh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kh(n)}}function A0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?A0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L0(){for(var e=window,t=Sa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sa(e.document)}return t}function Ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vb(e){var t=L0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&A0(n.ownerDocument.documentElement,n)){if(r!==null&&Ud(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Gh(n,i);var o=Gh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bb=kn&&"documentMode"in document&&11>=document.documentMode,is=null,mu=null,bi=null,gu=!1;function qh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gu||is==null||is!==Sa(r)||(r=is,"selectionStart"in r&&Ud(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bi&&Ui(bi,r)||(bi=r,r=La(mu,"onSelect"),0<r.length&&(t=new Vd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=is)))}function Do(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var os={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionend:Do("Transition","TransitionEnd")},rc={},M0={};kn&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function gl(e){if(rc[e])return rc[e];if(!os[e])return e;var t=os[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M0)return rc[e]=t[n];return e}var I0=gl("animationend"),$0=gl("animationiteration"),F0=gl("animationstart"),D0=gl("transitionend"),O0=new Map,Yh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(e,t){O0.set(e,t),zr(t,[e])}for(var sc=0;sc<Yh.length;sc++){var ic=Yh[sc],zb=ic.toLowerCase(),Ub=ic[0].toUpperCase()+ic.slice(1);ir(zb,"on"+Ub)}ir(I0,"onAnimationEnd");ir($0,"onAnimationIteration");ir(F0,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(D0,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function Xh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zw(r,t,void 0,e),e.currentTarget=null}function _0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Xh(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Xh(s,l,u),i=c}}}if(Ta)throw e=du,Ta=!1,du=null,e}function fe(e,t){var n=t[bu];n===void 0&&(n=t[bu]=new Set);var r=e+"__bubble";n.has(r)||(V0(t,e,2,!1),n.add(r))}function oc(e,t,n){var r=0;t&&(r|=4),V0(n,e,r,t)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){if(!e[Oo]){e[Oo]=!0,Gg.forEach(function(n){n!=="selectionchange"&&(Wb.has(n)||oc(n,!1,e),oc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oo]||(t[Oo]=!0,oc("selectionchange",!1,t))}}function V0(e,t,n,r){switch(j0(t)){case 1:var s=sb;break;case 4:s=ib;break;default:s=Od}n=s.bind(null,t,n,e),s=void 0,!uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ac(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=jr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}c0(function(){var u=i,d=Id(n),f=[];e:{var h=O0.get(e);if(h!==void 0){var y=Vd,x=e;switch(e){case"keypress":if(ua(n)===0)break e;case"keydown":case"keyup":y=wb;break;case"focusin":x="focus",y=ec;break;case"focusout":x="blur",y=ec;break;case"beforeblur":case"afterblur":y=ec;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jb;break;case I0:case $0:case F0:y=db;break;case D0:y=Sb;break;case"scroll":y=ob;break;case"wheel":y=Tb;break;case"copy":case"cut":case"paste":y=hb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Vh}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var v=u,g;v!==null;){g=v;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=Oi(v,m),k!=null&&w.push(Hi(v,k,g)))),b)break;v=v.return}0<w.length&&(h=new y(h,x,null,n,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==lu&&(x=n.relatedTarget||n.fromElement)&&(jr(x)||x[jn]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?jr(x):null,x!==null&&(b=Ur(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(w=Oh,k="onMouseLeave",m="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=Vh,k="onPointerLeave",m="onPointerEnter",v="pointer"),b=y==null?h:as(y),g=x==null?h:as(x),h=new w(k,v+"leave",y,n,d),h.target=b,h.relatedTarget=g,k=null,jr(d)===u&&(w=new w(m,v+"enter",x,n,d),w.target=g,w.relatedTarget=b,k=w),b=k,y&&x)t:{for(w=y,m=x,v=0,g=w;g;g=qr(g))v++;for(g=0,k=m;k;k=qr(k))g++;for(;0<v-g;)w=qr(w),v--;for(;0<g-v;)m=qr(m),g--;for(;v--;){if(w===m||m!==null&&w===m.alternate)break t;w=qr(w),m=qr(m)}w=null}else w=null;y!==null&&Qh(f,h,y,w,!1),x!==null&&b!==null&&Qh(f,b,x,w,!0)}}e:{if(h=u?as(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var j=Ib;else if(Uh(h))if(P0)j=Ob;else{j=Fb;var C=$b}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Db);if(j&&(j=j(e,u))){E0(f,j,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&ru(h,"number",h.value)}switch(C=u?as(u):window,e){case"focusin":(Uh(C)||C.contentEditable==="true")&&(is=C,mu=u,bi=null);break;case"focusout":bi=mu=is=null;break;case"mousedown":gu=!0;break;case"contextmenu":case"mouseup":case"dragend":gu=!1,qh(f,n,d);break;case"selectionchange":if(Bb)break;case"keydown":case"keyup":qh(f,n,d)}var S;if(zd)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ss?N0(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(S0&&n.locale!=="ko"&&(ss||N!=="onCompositionStart"?N==="onCompositionEnd"&&ss&&(S=C0()):(Bn=d,_d="value"in Bn?Bn.value:Bn.textContent,ss=!0)),C=La(u,N),0<C.length&&(N=new _h(N,e,null,n,d),f.push({event:N,listeners:C}),S?N.data=S:(S=T0(n),S!==null&&(N.data=S)))),(S=Pb?Rb(e,n):Ab(e,n))&&(u=La(u,"onBeforeInput"),0<u.length&&(d=new _h("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}_0(f,t)})}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function La(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oi(e,n),i!=null&&r.unshift(Hi(e,i,s)),i=Oi(e,t),i!=null&&r.push(Hi(e,i,s))),e=e.return}return r}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Oi(n,i),c!=null&&o.unshift(Hi(n,c,l))):s||(c=Oi(n,i),c!=null&&o.push(Hi(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Hb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function Zh(e){return(typeof e=="string"?e:""+e).replace(Hb,`
`).replace(Kb,"")}function _o(e,t,n){if(t=Zh(t),Zh(e)!==t&&n)throw Error(P(425))}function Ma(){}var yu=null,xu=null;function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,Jh=typeof Promise=="function"?Promise:void 0,qb=typeof queueMicrotask=="function"?queueMicrotask:typeof Jh<"u"?function(e){return Jh.resolve(null).then(e).catch(Yb)}:wu;function Yb(e){setTimeout(function(){throw e})}function lc(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Bi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bi(t)}function Yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Us=Math.random().toString(36).slice(2),en="__reactFiber$"+Us,Ki="__reactProps$"+Us,jn="__reactContainer$"+Us,bu="__reactEvents$"+Us,Xb="__reactListeners$"+Us,Qb="__reactHandles$"+Us;function jr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ep(e);e!==null;){if(n=e[en])return n;e=ep(e)}return t}e=n,n=e.parentNode}return null}function ho(e){return e=e[en]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function as(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function yl(e){return e[Ki]||null}var ku=[],ls=-1;function or(e){return{current:e}}function he(e){0>ls||(e.current=ku[ls],ku[ls]=null,ls--)}function ue(e,t){ls++,ku[ls]=e.current,e.current=t}var rr={},Ye=or(rr),lt=or(!1),Mr=rr;function Ls(e,t){var n=e.type.contextTypes;if(!n)return rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ct(e){return e=e.childContextTypes,e!=null}function Ia(){he(lt),he(Ye)}function tp(e,t,n){if(Ye.current!==rr)throw Error(P(168));ue(Ye,t),ue(lt,n)}function B0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,$w(e)||"Unknown",s));return we({},n,r)}function $a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,Mr=Ye.current,ue(Ye,e),ue(lt,lt.current),!0}function np(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=B0(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=e,he(lt),he(Ye),ue(Ye,e)):he(lt),ue(lt,n)}var gn=null,xl=!1,cc=!1;function z0(e){gn===null?gn=[e]:gn.push(e)}function Zb(e){xl=!0,z0(e)}function ar(){if(!cc&&gn!==null){cc=!0;var e=0,t=oe;try{var n=gn;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gn=null,xl=!1}catch(s){throw gn!==null&&(gn=gn.slice(e+1)),h0($d,ar),s}finally{oe=t,cc=!1}}return null}var cs=[],us=0,Fa=null,Da=0,Pt=[],Rt=0,Ir=null,xn=1,vn="";function mr(e,t){cs[us++]=Da,cs[us++]=Fa,Fa=e,Da=t}function U0(e,t,n){Pt[Rt++]=xn,Pt[Rt++]=vn,Pt[Rt++]=Ir,Ir=e;var r=xn;e=vn;var s=32-Ht(r)-1;r&=~(1<<s),n+=1;var i=32-Ht(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xn=1<<32-Ht(t)+s|n<<s|r,vn=i+e}else xn=1<<i|n<<s|r,vn=e}function Wd(e){e.return!==null&&(mr(e,1),U0(e,1,0))}function Hd(e){for(;e===Fa;)Fa=cs[--us],cs[us]=null,Da=cs[--us],cs[us]=null;for(;e===Ir;)Ir=Pt[--Rt],Pt[Rt]=null,vn=Pt[--Rt],Pt[Rt]=null,xn=Pt[--Rt],Pt[Rt]=null}var xt=null,yt=null,me=!1,zt=null;function W0(e,t){var n=At(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,yt=Yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ir!==null?{id:xn,overflow:vn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=At(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,yt=null,!0):!1;default:return!1}}function ju(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cu(e){if(me){var t=yt;if(t){var n=t;if(!rp(e,t)){if(ju(e))throw Error(P(418));t=Yn(n.nextSibling);var r=xt;t&&rp(e,t)?W0(r,n):(e.flags=e.flags&-4097|2,me=!1,xt=e)}}else{if(ju(e))throw Error(P(418));e.flags=e.flags&-4097|2,me=!1,xt=e}}}function sp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function Vo(e){if(e!==xt)return!1;if(!me)return sp(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vu(e.type,e.memoizedProps)),t&&(t=yt)){if(ju(e))throw H0(),Error(P(418));for(;t;)W0(e,t),t=Yn(t.nextSibling)}if(sp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){yt=Yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=xt?Yn(e.stateNode.nextSibling):null;return!0}function H0(){for(var e=yt;e;)e=Yn(e.nextSibling)}function Ms(){yt=xt=null,me=!1}function Kd(e){zt===null?zt=[e]:zt.push(e)}var Jb=En.ReactCurrentBatchConfig;function ti(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Bo(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ip(e){var t=e._init;return t(e._payload)}function K0(e){function t(m,v){if(e){var g=m.deletions;g===null?(m.deletions=[v],m.flags|=16):g.push(v)}}function n(m,v){if(!e)return null;for(;v!==null;)t(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function s(m,v){return m=Jn(m,v),m.index=0,m.sibling=null,m}function i(m,v,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<v?(m.flags|=2,v):g):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,v,g,k){return v===null||v.tag!==6?(v=gc(g,m.mode,k),v.return=m,v):(v=s(v,g),v.return=m,v)}function c(m,v,g,k){var j=g.type;return j===rs?d(m,v,g.props.children,k,g.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$n&&ip(j)===v.type)?(k=s(v,g.props),k.ref=ti(m,v,g),k.return=m,k):(k=ya(g.type,g.key,g.props,null,m.mode,k),k.ref=ti(m,v,g),k.return=m,k)}function u(m,v,g,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=yc(g,m.mode,k),v.return=m,v):(v=s(v,g.children||[]),v.return=m,v)}function d(m,v,g,k,j){return v===null||v.tag!==7?(v=Rr(g,m.mode,k,j),v.return=m,v):(v=s(v,g),v.return=m,v)}function f(m,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=gc(""+v,m.mode,g),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ro:return g=ya(v.type,v.key,v.props,null,m.mode,g),g.ref=ti(m,null,v),g.return=m,g;case ns:return v=yc(v,m.mode,g),v.return=m,v;case $n:var k=v._init;return f(m,k(v._payload),g)}if(li(v)||Xs(v))return v=Rr(v,m.mode,g,null),v.return=m,v;Bo(m,v)}return null}function h(m,v,g,k){var j=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(m,v,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ro:return g.key===j?c(m,v,g,k):null;case ns:return g.key===j?u(m,v,g,k):null;case $n:return j=g._init,h(m,v,j(g._payload),k)}if(li(g)||Xs(g))return j!==null?null:d(m,v,g,k,null);Bo(m,g)}return null}function y(m,v,g,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,l(v,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ro:return m=m.get(k.key===null?g:k.key)||null,c(v,m,k,j);case ns:return m=m.get(k.key===null?g:k.key)||null,u(v,m,k,j);case $n:var C=k._init;return y(m,v,g,C(k._payload),j)}if(li(k)||Xs(k))return m=m.get(g)||null,d(v,m,k,j,null);Bo(v,k)}return null}function x(m,v,g,k){for(var j=null,C=null,S=v,N=v=0,R=null;S!==null&&N<g.length;N++){S.index>N?(R=S,S=null):R=S.sibling;var T=h(m,S,g[N],k);if(T===null){S===null&&(S=R);break}e&&S&&T.alternate===null&&t(m,S),v=i(T,v,N),C===null?j=T:C.sibling=T,C=T,S=R}if(N===g.length)return n(m,S),me&&mr(m,N),j;if(S===null){for(;N<g.length;N++)S=f(m,g[N],k),S!==null&&(v=i(S,v,N),C===null?j=S:C.sibling=S,C=S);return me&&mr(m,N),j}for(S=r(m,S);N<g.length;N++)R=y(S,m,N,g[N],k),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?N:R.key),v=i(R,v,N),C===null?j=R:C.sibling=R,C=R);return e&&S.forEach(function($){return t(m,$)}),me&&mr(m,N),j}function w(m,v,g,k){var j=Xs(g);if(typeof j!="function")throw Error(P(150));if(g=j.call(g),g==null)throw Error(P(151));for(var C=j=null,S=v,N=v=0,R=null,T=g.next();S!==null&&!T.done;N++,T=g.next()){S.index>N?(R=S,S=null):R=S.sibling;var $=h(m,S,T.value,k);if($===null){S===null&&(S=R);break}e&&S&&$.alternate===null&&t(m,S),v=i($,v,N),C===null?j=$:C.sibling=$,C=$,S=R}if(T.done)return n(m,S),me&&mr(m,N),j;if(S===null){for(;!T.done;N++,T=g.next())T=f(m,T.value,k),T!==null&&(v=i(T,v,N),C===null?j=T:C.sibling=T,C=T);return me&&mr(m,N),j}for(S=r(m,S);!T.done;N++,T=g.next())T=y(S,m,N,T.value,k),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?N:T.key),v=i(T,v,N),C===null?j=T:C.sibling=T,C=T);return e&&S.forEach(function(F){return t(m,F)}),me&&mr(m,N),j}function b(m,v,g,k){if(typeof g=="object"&&g!==null&&g.type===rs&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ro:e:{for(var j=g.key,C=v;C!==null;){if(C.key===j){if(j=g.type,j===rs){if(C.tag===7){n(m,C.sibling),v=s(C,g.props.children),v.return=m,m=v;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$n&&ip(j)===C.type){n(m,C.sibling),v=s(C,g.props),v.ref=ti(m,C,g),v.return=m,m=v;break e}n(m,C);break}else t(m,C);C=C.sibling}g.type===rs?(v=Rr(g.props.children,m.mode,k,g.key),v.return=m,m=v):(k=ya(g.type,g.key,g.props,null,m.mode,k),k.ref=ti(m,v,g),k.return=m,m=k)}return o(m);case ns:e:{for(C=g.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(m,v.sibling),v=s(v,g.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else t(m,v);v=v.sibling}v=yc(g,m.mode,k),v.return=m,m=v}return o(m);case $n:return C=g._init,b(m,v,C(g._payload),k)}if(li(g))return x(m,v,g,k);if(Xs(g))return w(m,v,g,k);Bo(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(m,v.sibling),v=s(v,g),v.return=m,m=v):(n(m,v),v=gc(g,m.mode,k),v.return=m,m=v),o(m)):n(m,v)}return b}var Is=K0(!0),G0=K0(!1),Oa=or(null),_a=null,ds=null,Gd=null;function qd(){Gd=ds=_a=null}function Yd(e){var t=Oa.current;he(Oa),e._currentValue=t}function Su(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){_a=e,Gd=ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(Gd!==e)if(e={context:e,memoizedValue:t,next:null},ds===null){if(_a===null)throw Error(P(308));ds=e,_a.dependencies={lanes:0,firstContext:e}}else ds=ds.next=e;return t}var Cr=null;function Xd(e){Cr===null?Cr=[e]:Cr.push(e)}function q0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xd(t)):(n.next=s.next,s.next=n),t.interleaved=n,Cn(e,r)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fn=!1;function Qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Cn(e,n)}return s=r.interleaved,s===null?(t.next=t,Xd(r)):(t.next=s.next,s.next=t),r.interleaved=t,Cn(e,n)}function da(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fd(e,n)}}function op(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var s=e.updateQueue;Fn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,y=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,w=l;switch(h=t,y=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){f=x.call(y,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,h=typeof x=="function"?x.call(y,f,h):x,h==null)break e;f=we({},f,h);break e;case 2:Fn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Fr|=o,e.lanes=o,e.memoizedState=f}}function ap(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var po={},nn=or(po),Gi=or(po),qi=or(po);function Sr(e){if(e===po)throw Error(P(174));return e}function Zd(e,t){switch(ue(qi,t),ue(Gi,e),ue(nn,po),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:iu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=iu(t,e)}he(nn),ue(nn,t)}function $s(){he(nn),he(Gi),he(qi)}function X0(e){Sr(qi.current);var t=Sr(nn.current),n=iu(t,e.type);t!==n&&(ue(Gi,e),ue(nn,n))}function Jd(e){Gi.current===e&&(he(nn),he(Gi))}var ye=or(0);function Ba(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uc=[];function ef(){for(var e=0;e<uc.length;e++)uc[e]._workInProgressVersionPrimary=null;uc.length=0}var fa=En.ReactCurrentDispatcher,dc=En.ReactCurrentBatchConfig,$r=0,ve=null,$e=null,Oe=null,za=!1,ki=!1,Yi=0,e2=0;function He(){throw Error(P(321))}function tf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qt(e[n],t[n]))return!1;return!0}function nf(e,t,n,r,s,i){if($r=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?s2:i2,e=n(r,s),ki){i=0;do{if(ki=!1,Yi=0,25<=i)throw Error(P(301));i+=1,Oe=$e=null,t.updateQueue=null,fa.current=o2,e=n(r,s)}while(ki)}if(fa.current=Ua,t=$e!==null&&$e.next!==null,$r=0,Oe=$e=ve=null,za=!1,t)throw Error(P(300));return e}function rf(){var e=Yi!==0;return Yi=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ve.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function $t(){if($e===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Oe===null?ve.memoizedState:Oe.next;if(t!==null)Oe=t,$e=e;else{if(e===null)throw Error(P(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Oe===null?ve.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Xi(e,t){return typeof t=="function"?t(e):t}function fc(e){var t=$t(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if(($r&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ve.lanes|=d,Fr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,qt(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ve.lanes|=i,Fr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hc(e){var t=$t(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);qt(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Q0(){}function Z0(e,t){var n=ve,r=$t(),s=t(),i=!qt(r.memoizedState,s);if(i&&(r.memoizedState=s,ot=!0),r=r.queue,sf(ty.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Qi(9,ey.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(P(349));$r&30||J0(n,t,s)}return s}function J0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ey(e,t,n,r){t.value=n,t.getSnapshot=r,ny(t)&&ry(e)}function ty(e,t,n){return n(function(){ny(t)&&ry(e)})}function ny(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qt(e,n)}catch{return!0}}function ry(e){var t=Cn(e,1);t!==null&&Kt(t,e,1,-1)}function lp(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},t.queue=e,e=e.dispatch=r2.bind(null,ve,e),[t.memoizedState,e]}function Qi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sy(){return $t().memoizedState}function ha(e,t,n,r){var s=Jt();ve.flags|=e,s.memoizedState=Qi(1|t,n,void 0,r===void 0?null:r)}function vl(e,t,n,r){var s=$t();r=r===void 0?null:r;var i=void 0;if($e!==null){var o=$e.memoizedState;if(i=o.destroy,r!==null&&tf(r,o.deps)){s.memoizedState=Qi(t,n,i,r);return}}ve.flags|=e,s.memoizedState=Qi(1|t,n,i,r)}function cp(e,t){return ha(8390656,8,e,t)}function sf(e,t){return vl(2048,8,e,t)}function iy(e,t){return vl(4,2,e,t)}function oy(e,t){return vl(4,4,e,t)}function ay(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ly(e,t,n){return n=n!=null?n.concat([e]):null,vl(4,4,ay.bind(null,t,e),n)}function of(){}function cy(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uy(e,t){var n=$t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dy(e,t,n){return $r&21?(qt(n,t)||(n=g0(),ve.lanes|=n,Fr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function t2(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=dc.transition;dc.transition={};try{e(!1),t()}finally{oe=n,dc.transition=r}}function fy(){return $t().memoizedState}function n2(e,t,n){var r=Zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hy(e))py(t,n);else if(n=q0(e,t,n,r),n!==null){var s=Je();Kt(n,e,r,s),my(n,t,r)}}function r2(e,t,n){var r=Zn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hy(e))py(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qt(l,o)){var c=t.interleaved;c===null?(s.next=s,Xd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=q0(e,t,s,r),n!==null&&(s=Je(),Kt(n,e,r,s),my(n,t,r))}}function hy(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function py(e,t){ki=za=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function my(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fd(e,n)}}var Ua={readContext:It,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},s2={readContext:It,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:cp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ha(4194308,4,ay.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=n2.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:lp,useDebugValue:of,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=lp(!1),t=e[0];return e=t2.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,s=Jt();if(me){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),_e===null)throw Error(P(349));$r&30||J0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,cp(ty.bind(null,r,i,e),[e]),r.flags|=2048,Qi(9,ey.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Jt(),t=_e.identifierPrefix;if(me){var n=vn,r=xn;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=e2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},i2={readContext:It,useCallback:cy,useContext:It,useEffect:sf,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:uy,useReducer:fc,useRef:sy,useState:function(){return fc(Xi)},useDebugValue:of,useDeferredValue:function(e){var t=$t();return dy(t,$e.memoizedState,e)},useTransition:function(){var e=fc(Xi)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Q0,useSyncExternalStore:Z0,useId:fy,unstable_isNewReconciler:!1},o2={readContext:It,useCallback:cy,useContext:It,useEffect:sf,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:oy,useMemo:uy,useReducer:hc,useRef:sy,useState:function(){return hc(Xi)},useDebugValue:of,useDeferredValue:function(e){var t=$t();return $e===null?t.memoizedState=e:dy(t,$e.memoizedState,e)},useTransition:function(){var e=hc(Xi)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Q0,useSyncExternalStore:Z0,useId:fy,unstable_isNewReconciler:!1};function Vt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wl={isMounted:function(e){return(e=e._reactInternals)?Ur(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),s=Zn(e),i=wn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Xn(e,i,s),t!==null&&(Kt(t,e,s,r),da(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),s=Zn(e),i=wn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Xn(e,i,s),t!==null&&(Kt(t,e,s,r),da(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=Zn(e),s=wn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xn(e,s,r),t!==null&&(Kt(t,e,r,n),da(t,e,r))}};function up(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ui(n,r)||!Ui(s,i):!0}function gy(e,t,n){var r=!1,s=rr,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(s=ct(t)?Mr:Ye.current,r=t.contextTypes,i=(r=r!=null)?Ls(e,s):rr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function dp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wl.enqueueReplaceState(t,t.state,null)}function Tu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=It(i):(i=ct(t)?Mr:Ye.current,s.context=Ls(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&wl.enqueueReplaceState(s,s.state,null),Va(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fs(e,t){try{var n="",r=t;do n+=Iw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Eu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var a2=typeof WeakMap=="function"?WeakMap:Map;function yy(e,t,n){n=wn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ha||(Ha=!0,Ou=r),Eu(e,t)},n}function xy(e,t,n){n=wn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Eu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Eu(e,t),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function fp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new a2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=b2.bind(null,e,t,n),t.then(e,e))}function hp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wn(-1,1),t.tag=2,Xn(n,t,1))),n.lanes|=1),e)}var l2=En.ReactCurrentOwner,ot=!1;function Qe(e,t,n,r){t.child=e===null?G0(t,null,n,r):Is(t,e.child,n,r)}function mp(e,t,n,r,s){n=n.render;var i=t.ref;return Ns(t,s),r=nf(e,t,n,r,i,s),n=rf(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(me&&n&&Wd(t),t.flags|=1,Qe(e,t,r,s),t.child)}function gp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vy(e,t,i,r,s)):(e=ya(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ui,n(o,r)&&e.ref===t.ref)return Sn(e,t,s)}return t.flags|=1,e=Jn(i,r),e.ref=t.ref,e.return=t,t.child=e}function vy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ui(i,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,Sn(e,t,s)}return Pu(e,t,n,r,s)}function wy(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(hs,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(hs,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(hs,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(hs,mt),mt|=r;return Qe(e,t,s,n),t.child}function by(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pu(e,t,n,r,s){var i=ct(n)?Mr:Ye.current;return i=Ls(t,i),Ns(t,s),n=nf(e,t,n,r,i,s),r=rf(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sn(e,t,s)):(me&&r&&Wd(t),t.flags|=1,Qe(e,t,n,s),t.child)}function yp(e,t,n,r,s){if(ct(n)){var i=!0;$a(t)}else i=!1;if(Ns(t,s),t.stateNode===null)pa(e,t),gy(t,n,r),Tu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=It(u):(u=ct(n)?Mr:Ye.current,u=Ls(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&dp(t,o,r,u),Fn=!1;var h=t.memoizedState;o.state=h,Va(t,r,o,s),c=t.memoizedState,l!==r||h!==c||lt.current||Fn?(typeof d=="function"&&(Nu(t,n,d,r),c=t.memoizedState),(l=Fn||up(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Y0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Vt(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=It(c):(c=ct(n)?Mr:Ye.current,c=Ls(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&dp(t,o,r,c),Fn=!1,h=t.memoizedState,o.state=h,Va(t,r,o,s);var x=t.memoizedState;l!==f||h!==x||lt.current||Fn?(typeof y=="function"&&(Nu(t,n,y,r),x=t.memoizedState),(u=Fn||up(t,n,u,r,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,i,s)}function Ru(e,t,n,r,s,i){by(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&np(t,n,!1),Sn(e,t,i);r=t.stateNode,l2.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Is(t,e.child,null,i),t.child=Is(t,null,l,i)):Qe(e,t,l,i),t.memoizedState=r.state,s&&np(t,n,!0),t.child}function ky(e){var t=e.stateNode;t.pendingContext?tp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tp(e,t.context,!1),Zd(e,t.containerInfo)}function xp(e,t,n,r,s){return Ms(),Kd(s),t.flags|=256,Qe(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function jy(e,t,n){var r=t.pendingProps,s=ye.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ye,s&1),e===null)return Cu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jl(o,r,0,null),e=Rr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Lu(n),t.memoizedState=Au,e):af(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return c2(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Jn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jn(l,i):(i=Rr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Lu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Au,r}return i=e.child,e=i.sibling,r=Jn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function af(e,t){return t=jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zo(e,t,n,r){return r!==null&&Kd(r),Is(t,e.child,null,n),e=af(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function c2(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=pc(Error(P(422))),zo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=jl({mode:"visible",children:r.children},s,0,null),i=Rr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Is(t,e.child,null,o),t.child.memoizedState=Lu(o),t.memoizedState=Au,i);if(!(t.mode&1))return zo(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(P(419)),r=pc(i,r,void 0),zo(e,t,o,r)}if(l=(o&e.childLanes)!==0,ot||l){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Cn(e,s),Kt(r,e,s,-1))}return hf(),r=pc(Error(P(421))),zo(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=k2.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yt=Yn(s.nextSibling),xt=t,me=!0,zt=null,e!==null&&(Pt[Rt++]=xn,Pt[Rt++]=vn,Pt[Rt++]=Ir,xn=e.id,vn=e.overflow,Ir=t),t=af(t,r.children),t.flags|=4096,t)}function vp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Su(e.return,t,n)}function mc(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Cy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Qe(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vp(e,n,t);else if(e.tag===19)vp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ba(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),mc(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ba(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}mc(t,!0,n,null,i);break;case"together":mc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function u2(e,t,n){switch(t.tag){case 3:ky(t),Ms();break;case 5:X0(t);break;case 1:ct(t.type)&&$a(t);break;case 4:Zd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(Oa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?jy(e,t,n):(ue(ye,ye.current&1),e=Sn(e,t,n),e!==null?e.sibling:null);ue(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,wy(e,t,n)}return Sn(e,t,n)}var Sy,Mu,Ny,Ty;Sy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mu=function(){};Ny=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Sr(nn.current);var i=null;switch(n){case"input":s=tu(e,s),r=tu(e,r),i=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":s=su(e,s),r=su(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ma)}ou(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ty=function(e,t,n,r){n!==r&&(t.flags|=4)};function ni(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function d2(e,t,n){var r=t.pendingProps;switch(Hd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return ct(t.type)&&Ia(),Ke(t),null;case 3:return r=t.stateNode,$s(),he(lt),he(Ye),ef(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(Bu(zt),zt=null))),Mu(e,t),Ke(t),null;case 5:Jd(t);var s=Sr(qi.current);if(n=t.type,e!==null&&t.stateNode!=null)Ny(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Ke(t),null}if(e=Sr(nn.current),Vo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[en]=t,r[Ki]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<ui.length;s++)fe(ui[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Eh(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":Rh(r,i),fe("invalid",r)}ou(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&_o(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&_o(r.textContent,l,e),s=["children",""+l]):Fi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ao(r),Ph(r,i,!0);break;case"textarea":Ao(r),Ah(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ma)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[en]=t,e[Ki]=r,Sy(e,t,!1,!1),t.stateNode=e;e:{switch(o=au(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<ui.length;s++)fe(ui[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Eh(e,r),s=tu(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Rh(e,r),s=su(e,r),fe("invalid",e);break;default:s=r}ou(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?s0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&n0(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Di(e,c):typeof c=="number"&&Di(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&fe("scroll",e):c!=null&&Rd(e,i,c,o))}switch(n){case"input":Ao(e),Ph(e,r,!1);break;case"textarea":Ao(e),Ah(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nr(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ks(e,!!r.multiple,i,!1):r.defaultValue!=null&&ks(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ma)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)Ty(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=Sr(qi.current),Sr(nn.current),Vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(i=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:_o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_o(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return Ke(t),null;case 13:if(he(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&yt!==null&&t.mode&1&&!(t.flags&128))H0(),Ms(),t.flags|=98560,i=!1;else if(i=Vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[en]=t}else Ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else zt!==null&&(Bu(zt),zt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Fe===0&&(Fe=3):hf())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return $s(),Mu(e,t),e===null&&Wi(t.stateNode.containerInfo),Ke(t),null;case 10:return Yd(t.type._context),Ke(t),null;case 17:return ct(t.type)&&Ia(),Ke(t),null;case 19:if(he(ye),i=t.memoizedState,i===null)return Ke(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ni(i,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ba(e),o!==null){for(t.flags|=128,ni(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>Ds&&(t.flags|=128,r=!0,ni(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ba(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ni(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return Ke(t),null}else 2*Pe()-i.renderingStartTime>Ds&&n!==1073741824&&(t.flags|=128,r=!0,ni(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,n=ye.current,ue(ye,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return ff(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function f2(e,t){switch(Hd(t),t.tag){case 1:return ct(t.type)&&Ia(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $s(),he(lt),he(Ye),ef(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jd(t),null;case 13:if(he(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));Ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ye),null;case 4:return $s(),null;case 10:return Yd(t.type._context),null;case 22:case 23:return ff(),null;case 24:return null;default:return null}}var Uo=!1,Ge=!1,h2=typeof WeakSet=="function"?WeakSet:Set,D=null;function fs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Iu(e,t,n){try{n()}catch(r){Se(e,t,r)}}var wp=!1;function p2(e,t){if(yu=Ra,e=L0(),Ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(xu={focusedElem:e,selectionRange:n},Ra=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,b=x.memoizedState,m=t.stateNode,v=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Vt(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(k){Se(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return x=wp,wp=!1,x}function ji(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Iu(t,n,i)}s=s.next}while(s!==r)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $u(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ey(e){var t=e.alternate;t!==null&&(e.alternate=null,Ey(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Ki],delete t[bu],delete t[Xb],delete t[Qb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Py(e){return e.tag===5||e.tag===3||e.tag===4}function bp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ma));else if(r!==4&&(e=e.child,e!==null))for(Fu(e,t,n),e=e.sibling;e!==null;)Fu(e,t,n),e=e.sibling}function Du(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Du(e,t,n),e=e.sibling;e!==null;)Du(e,t,n),e=e.sibling}var ze=null,Bt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Ry(e,t,n),n=n.sibling}function Ry(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 5:Ge||fs(n,t);case 6:var r=ze,s=Bt;ze=null,Rn(e,t,n),ze=r,Bt=s,ze!==null&&(Bt?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Bt?(e=ze,n=n.stateNode,e.nodeType===8?lc(e.parentNode,n):e.nodeType===1&&lc(e,n),Bi(e)):lc(ze,n.stateNode));break;case 4:r=ze,s=Bt,ze=n.stateNode.containerInfo,Bt=!0,Rn(e,t,n),ze=r,Bt=s;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Iu(n,t,o),s=s.next}while(s!==r)}Rn(e,t,n);break;case 1:if(!Ge&&(fs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,Rn(e,t,n),Ge=r):Rn(e,t,n);break;default:Rn(e,t,n)}}function kp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new h2),t.forEach(function(r){var s=j2.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,Bt=!1;break e;case 3:ze=l.stateNode.containerInfo,Bt=!0;break e;case 4:ze=l.stateNode.containerInfo,Bt=!0;break e}l=l.return}if(ze===null)throw Error(P(160));Ry(i,o,s),ze=null,Bt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ay(t,e),t=t.sibling}function Ay(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Xt(e),r&4){try{ji(3,e,e.return),bl(3,e)}catch(w){Se(e,e.return,w)}try{ji(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:Dt(t,e),Xt(e),r&512&&n!==null&&fs(n,n.return);break;case 5:if(Dt(t,e),Xt(e),r&512&&n!==null&&fs(n,n.return),e.flags&32){var s=e.stateNode;try{Di(s,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Jg(s,i),au(l,o);var u=au(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?s0(s,f):d==="dangerouslySetInnerHTML"?n0(s,f):d==="children"?Di(s,f):Rd(s,d,f,u)}switch(l){case"input":nu(s,i);break;case"textarea":e0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ks(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?ks(s,!!i.multiple,i.defaultValue,!0):ks(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ki]=i}catch(w){Se(e,e.return,w)}}break;case 6:if(Dt(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Se(e,e.return,w)}}break;case 3:if(Dt(t,e),Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bi(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:Dt(t,e),Xt(e);break;case 13:Dt(t,e),Xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uf=Pe())),r&4&&kp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||d,Dt(t,e),Ge=u):Dt(t,e),Xt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(D=e,d=e.child;d!==null;){for(f=D=d;D!==null;){switch(h=D,y=h.child,h.tag){case 0:case 11:case 14:case 15:ji(4,h,h.return);break;case 1:fs(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:fs(h,h.return);break;case 22:if(h.memoizedState!==null){Cp(f);continue}}y!==null?(y.return=h,D=y):Cp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=r0("display",o))}catch(w){Se(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Se(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dt(t,e),Xt(e),r&4&&kp(e);break;case 21:break;default:Dt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Py(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Di(s,""),r.flags&=-33);var i=bp(e);Du(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bp(e);Fu(e,l,o);break;default:throw Error(P(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m2(e,t,n){D=e,Ly(e)}function Ly(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uo;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ge;l=Uo;var u=Ge;if(Uo=o,(Ge=c)&&!u)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?Sp(s):c!==null?(c.return=o,D=c):Sp(s);for(;i!==null;)D=i,Ly(i),i=i.sibling;D=s,Uo=l,Ge=u}jp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):jp(e)}}function jp(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Vt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ap(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ap(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Ge||t.flags&512&&$u(t)}catch(h){Se(t,t.return,h)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Cp(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Sp(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bl(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Se(t,s,c)}}var i=t.return;try{$u(t)}catch(c){Se(t,i,c)}break;case 5:var o=t.return;try{$u(t)}catch(c){Se(t,o,c)}}}catch(c){Se(t,t.return,c)}if(t===e){D=null;break}var l=t.sibling;if(l!==null){l.return=t.return,D=l;break}D=t.return}}var g2=Math.ceil,Wa=En.ReactCurrentDispatcher,lf=En.ReactCurrentOwner,Mt=En.ReactCurrentBatchConfig,ne=0,_e=null,Me=null,Ue=0,mt=0,hs=or(0),Fe=0,Zi=null,Fr=0,kl=0,cf=0,Ci=null,it=null,uf=0,Ds=1/0,mn=null,Ha=!1,Ou=null,Qn=null,Wo=!1,zn=null,Ka=0,Si=0,_u=null,ma=-1,ga=0;function Je(){return ne&6?Pe():ma!==-1?ma:ma=Pe()}function Zn(e){return e.mode&1?ne&2&&Ue!==0?Ue&-Ue:Jb.transition!==null?(ga===0&&(ga=g0()),ga):(e=oe,e!==0||(e=window.event,e=e===void 0?16:j0(e.type)),e):1}function Kt(e,t,n,r){if(50<Si)throw Si=0,_u=null,Error(P(185));uo(e,n,r),(!(ne&2)||e!==_e)&&(e===_e&&(!(ne&2)&&(kl|=n),Fe===4&&On(e,Ue)),ut(e,r),n===1&&ne===0&&!(t.mode&1)&&(Ds=Pe()+500,xl&&ar()))}function ut(e,t){var n=e.callbackNode;Jw(e,t);var r=Pa(e,e===_e?Ue:0);if(r===0)n!==null&&Ih(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ih(n),t===1)e.tag===0?Zb(Np.bind(null,e)):z0(Np.bind(null,e)),qb(function(){!(ne&6)&&ar()}),n=null;else{switch(y0(r)){case 1:n=$d;break;case 4:n=p0;break;case 16:n=Ea;break;case 536870912:n=m0;break;default:n=Ea}n=Vy(n,My.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function My(e,t){if(ma=-1,ga=0,ne&6)throw Error(P(327));var n=e.callbackNode;if(Ts()&&e.callbackNode!==n)return null;var r=Pa(e,e===_e?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ga(e,r);else{t=r;var s=ne;ne|=2;var i=$y();(_e!==e||Ue!==t)&&(mn=null,Ds=Pe()+500,Pr(e,t));do try{v2();break}catch(l){Iy(e,l)}while(!0);qd(),Wa.current=i,ne=s,Me!==null?t=0:(_e=null,Ue=0,t=Fe)}if(t!==0){if(t===2&&(s=fu(e),s!==0&&(r=s,t=Vu(e,s))),t===1)throw n=Zi,Pr(e,0),On(e,r),ut(e,Pe()),n;if(t===6)On(e,r);else{if(s=e.current.alternate,!(r&30)&&!y2(s)&&(t=Ga(e,r),t===2&&(i=fu(e),i!==0&&(r=i,t=Vu(e,i))),t===1))throw n=Zi,Pr(e,0),On(e,r),ut(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:gr(e,it,mn);break;case 3:if(On(e,r),(r&130023424)===r&&(t=uf+500-Pe(),10<t)){if(Pa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wu(gr.bind(null,e,it,mn),t);break}gr(e,it,mn);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ht(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g2(r/1960))-r,10<r){e.timeoutHandle=wu(gr.bind(null,e,it,mn),r);break}gr(e,it,mn);break;case 5:gr(e,it,mn);break;default:throw Error(P(329))}}}return ut(e,Pe()),e.callbackNode===n?My.bind(null,e):null}function Vu(e,t){var n=Ci;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=Ga(e,t),e!==2&&(t=it,it=n,t!==null&&Bu(t)),e}function Bu(e){it===null?it=e:it.push.apply(it,e)}function y2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~cf,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function Np(e){if(ne&6)throw Error(P(327));Ts();var t=Pa(e,0);if(!(t&1))return ut(e,Pe()),null;var n=Ga(e,t);if(e.tag!==0&&n===2){var r=fu(e);r!==0&&(t=r,n=Vu(e,r))}if(n===1)throw n=Zi,Pr(e,0),On(e,t),ut(e,Pe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,it,mn),ut(e,Pe()),null}function df(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(Ds=Pe()+500,xl&&ar())}}function Dr(e){zn!==null&&zn.tag===0&&!(ne&6)&&Ts();var t=ne;ne|=1;var n=Mt.transition,r=oe;try{if(Mt.transition=null,oe=1,e)return e()}finally{oe=r,Mt.transition=n,ne=t,!(ne&6)&&ar()}}function ff(){mt=hs.current,he(hs)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gb(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Hd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ia();break;case 3:$s(),he(lt),he(Ye),ef();break;case 5:Jd(r);break;case 4:$s();break;case 13:he(ye);break;case 19:he(ye);break;case 10:Yd(r.type._context);break;case 22:case 23:ff()}n=n.return}if(_e=e,Me=e=Jn(e.current,null),Ue=mt=t,Fe=0,Zi=null,cf=kl=Fr=0,it=Ci=null,Cr!==null){for(t=0;t<Cr.length;t++)if(n=Cr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Cr=null}return e}function Iy(e,t){do{var n=Me;try{if(qd(),fa.current=Ua,za){for(var r=ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}za=!1}if($r=0,Oe=$e=ve=null,ki=!1,Yi=0,lf.current=null,n===null||n.return===null){Fe=1,Zi=t,Me=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ue,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=hp(o);if(y!==null){y.flags&=-257,pp(y,o,l,i,t),y.mode&1&&fp(i,u,t),t=y,c=u;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){fp(i,u,t),hf();break e}c=Error(P(426))}}else if(me&&l.mode&1){var b=hp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),pp(b,o,l,i,t),Kd(Fs(c,l));break e}}i=c=Fs(c,l),Fe!==4&&(Fe=2),Ci===null?Ci=[i]:Ci.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=yy(i,c,t);op(i,m);break e;case 1:l=c;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qn===null||!Qn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=xy(i,l,t);op(i,k);break e}}i=i.return}while(i!==null)}Dy(n)}catch(j){t=j,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function $y(){var e=Wa.current;return Wa.current=Ua,e===null?Ua:e}function hf(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),_e===null||!(Fr&268435455)&&!(kl&268435455)||On(_e,Ue)}function Ga(e,t){var n=ne;ne|=2;var r=$y();(_e!==e||Ue!==t)&&(mn=null,Pr(e,t));do try{x2();break}catch(s){Iy(e,s)}while(!0);if(qd(),ne=n,Wa.current=r,Me!==null)throw Error(P(261));return _e=null,Ue=0,Fe}function x2(){for(;Me!==null;)Fy(Me)}function v2(){for(;Me!==null&&!Ww();)Fy(Me)}function Fy(e){var t=_y(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Dy(e):Me=t,lf.current=null}function Dy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=f2(n,t),n!==null){n.flags&=32767,Me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(n=d2(n,t,mt),n!==null){Me=n;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Fe===0&&(Fe=5)}function gr(e,t,n){var r=oe,s=Mt.transition;try{Mt.transition=null,oe=1,w2(e,t,n,r)}finally{Mt.transition=s,oe=r}return null}function w2(e,t,n,r){do Ts();while(zn!==null);if(ne&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(eb(e,i),e===_e&&(Me=_e=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wo||(Wo=!0,Vy(Ea,function(){return Ts(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mt.transition,Mt.transition=null;var o=oe;oe=1;var l=ne;ne|=4,lf.current=null,p2(e,n),Ay(n,e),Vb(xu),Ra=!!yu,xu=yu=null,e.current=n,m2(n),Hw(),ne=l,oe=o,Mt.transition=i}else e.current=n;if(Wo&&(Wo=!1,zn=e,Ka=s),i=e.pendingLanes,i===0&&(Qn=null),qw(n.stateNode),ut(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ha)throw Ha=!1,e=Ou,Ou=null,e;return Ka&1&&e.tag!==0&&Ts(),i=e.pendingLanes,i&1?e===_u?Si++:(Si=0,_u=e):Si=0,ar(),null}function Ts(){if(zn!==null){var e=y0(Ka),t=Mt.transition,n=oe;try{if(Mt.transition=null,oe=16>e?16:e,zn===null)var r=!1;else{if(e=zn,zn=null,Ka=0,ne&6)throw Error(P(331));var s=ne;for(ne|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:ji(8,d,i)}var f=d.child;if(f!==null)f.return=d,D=f;else for(;D!==null;){d=D;var h=d.sibling,y=d.return;if(Ey(d),d===u){D=null;break}if(h!==null){h.return=y,D=h;break}D=y}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ji(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,D=m;break e}D=i.return}}var v=e.current;for(D=v;D!==null;){o=D;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,D=g;else e:for(o=v;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bl(9,l)}}catch(j){Se(l,l.return,j)}if(l===o){D=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,D=k;break e}D=l.return}}if(ne=s,ar(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(hl,e)}catch{}r=!0}return r}finally{oe=n,Mt.transition=t}}return!1}function Tp(e,t,n){t=Fs(n,t),t=yy(e,t,1),e=Xn(e,t,1),t=Je(),e!==null&&(uo(e,1,t),ut(e,t))}function Se(e,t,n){if(e.tag===3)Tp(e,e,n);else for(;t!==null;){if(t.tag===3){Tp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){e=Fs(n,e),e=xy(t,e,1),t=Xn(t,e,1),e=Je(),t!==null&&(uo(t,1,e),ut(t,e));break}}t=t.return}}function b2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Ue&n)===n&&(Fe===4||Fe===3&&(Ue&130023424)===Ue&&500>Pe()-uf?Pr(e,0):cf|=n),ut(e,t)}function Oy(e,t){t===0&&(e.mode&1?(t=Io,Io<<=1,!(Io&130023424)&&(Io=4194304)):t=1);var n=Je();e=Cn(e,t),e!==null&&(uo(e,t,n),ut(e,n))}function k2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Oy(e,n)}function j2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Oy(e,n)}var _y;_y=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,u2(e,t,n);ot=!!(e.flags&131072)}else ot=!1,me&&t.flags&1048576&&U0(t,Da,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pa(e,t),e=t.pendingProps;var s=Ls(t,Ye.current);Ns(t,n),s=nf(null,t,r,e,s,n);var i=rf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ct(r)?(i=!0,$a(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qd(t),s.updater=wl,t.stateNode=s,s._reactInternals=t,Tu(t,r,e,n),t=Ru(null,t,r,!0,i,n)):(t.tag=0,me&&i&&Wd(t),Qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pa(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=S2(r),e=Vt(r,e),s){case 0:t=Pu(null,t,r,e,n);break e;case 1:t=yp(null,t,r,e,n);break e;case 11:t=mp(null,t,r,e,n);break e;case 14:t=gp(null,t,r,Vt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Vt(r,s),Pu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Vt(r,s),yp(e,t,r,s,n);case 3:e:{if(ky(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Y0(e,t),Va(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fs(Error(P(423)),t),t=xp(e,t,r,n,s);break e}else if(r!==s){s=Fs(Error(P(424)),t),t=xp(e,t,r,n,s);break e}else for(yt=Yn(t.stateNode.containerInfo.firstChild),xt=t,me=!0,zt=null,n=G0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ms(),r===s){t=Sn(e,t,n);break e}Qe(e,t,r,n)}t=t.child}return t;case 5:return X0(t),e===null&&Cu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,vu(r,s)?o=null:i!==null&&vu(r,i)&&(t.flags|=32),by(e,t),Qe(e,t,o,n),t.child;case 6:return e===null&&Cu(t),null;case 13:return jy(e,t,n);case 4:return Zd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Is(t,null,r,n):Qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Vt(r,s),mp(e,t,r,s,n);case 7:return Qe(e,t,t.pendingProps,n),t.child;case 8:return Qe(e,t,t.pendingProps.children,n),t.child;case 12:return Qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ue(Oa,r._currentValue),r._currentValue=o,i!==null)if(qt(i.value,o)){if(i.children===s.children&&!lt.current){t=Sn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=wn(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Su(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Su(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ns(t,n),s=It(s),r=r(s),t.flags|=1,Qe(e,t,r,n),t.child;case 14:return r=t.type,s=Vt(r,t.pendingProps),s=Vt(r.type,s),gp(e,t,r,s,n);case 15:return vy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Vt(r,s),pa(e,t),t.tag=1,ct(r)?(e=!0,$a(t)):e=!1,Ns(t,n),gy(t,r,s),Tu(t,r,s,n),Ru(null,t,r,!0,e,n);case 19:return Cy(e,t,n);case 22:return wy(e,t,n)}throw Error(P(156,t.tag))};function Vy(e,t){return h0(e,t)}function C2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,r){return new C2(e,t,n,r)}function pf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function S2(e){if(typeof e=="function")return pf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ld)return 11;if(e===Md)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ya(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")pf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rs:return Rr(n.children,s,i,t);case Ad:o=8,s|=8;break;case Qc:return e=At(12,n,t,s|2),e.elementType=Qc,e.lanes=i,e;case Zc:return e=At(13,n,t,s),e.elementType=Zc,e.lanes=i,e;case Jc:return e=At(19,n,t,s),e.elementType=Jc,e.lanes=i,e;case Xg:return jl(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qg:o=10;break e;case Yg:o=9;break e;case Ld:o=11;break e;case Md:o=14;break e;case $n:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=At(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Rr(e,t,n,r){return e=At(7,e,r,t),e.lanes=n,e}function jl(e,t,n,r){return e=At(22,e,r,t),e.elementType=Xg,e.lanes=n,e.stateNode={isHidden:!1},e}function gc(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function yc(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N2(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mf(e,t,n,r,s,i,o,l,c){return e=new N2(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=At(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qd(i),e}function T2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ns,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function By(e){if(!e)return rr;e=e._reactInternals;e:{if(Ur(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(ct(n))return B0(e,n,t)}return t}function zy(e,t,n,r,s,i,o,l,c){return e=mf(n,r,!0,e,s,i,o,l,c),e.context=By(null),n=e.current,r=Je(),s=Zn(n),i=wn(r,s),i.callback=t??null,Xn(n,i,s),e.current.lanes=s,uo(e,s,r),ut(e,r),e}function Cl(e,t,n,r){var s=t.current,i=Je(),o=Zn(s);return n=By(n),t.context===null?t.context=n:t.pendingContext=n,t=wn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xn(s,t,o),e!==null&&(Kt(e,s,o,i),da(e,s,o)),o}function qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ep(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gf(e,t){Ep(e,t),(e=e.alternate)&&Ep(e,t)}function E2(){return null}var Uy=typeof reportError=="function"?reportError:function(e){console.error(e)};function yf(e){this._internalRoot=e}Sl.prototype.render=yf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Cl(e,t,null,null)};Sl.prototype.unmount=yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){Cl(null,e,null,null)}),t[jn]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=w0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&k0(e)}};function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pp(){}function P2(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=qa(o);i.call(u)}}var o=zy(t,r,e,0,null,!1,!1,"",Pp);return e._reactRootContainer=o,e[jn]=o.current,Wi(e.nodeType===8?e.parentNode:e),Dr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=qa(c);l.call(u)}}var c=mf(e,0,!1,null,null,!1,!1,"",Pp);return e._reactRootContainer=c,e[jn]=c.current,Wi(e.nodeType===8?e.parentNode:e),Dr(function(){Cl(t,c,n,r)}),c}function Tl(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=qa(o);l.call(c)}}Cl(t,o,e,s)}else o=P2(n,t,e,s,r);return qa(o)}x0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ci(t.pendingLanes);n!==0&&(Fd(t,n|1),ut(t,Pe()),!(ne&6)&&(Ds=Pe()+500,ar()))}break;case 13:Dr(function(){var r=Cn(e,1);if(r!==null){var s=Je();Kt(r,e,1,s)}}),gf(e,1)}};Dd=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=Je();Kt(t,e,134217728,n)}gf(e,134217728)}};v0=function(e){if(e.tag===13){var t=Zn(e),n=Cn(e,t);if(n!==null){var r=Je();Kt(n,e,t,r)}gf(e,t)}};w0=function(){return oe};b0=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};cu=function(e,t,n){switch(t){case"input":if(nu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=yl(r);if(!s)throw Error(P(90));Zg(r),nu(r,s)}}}break;case"textarea":e0(e,n);break;case"select":t=n.value,t!=null&&ks(e,!!n.multiple,t,!1)}};a0=df;l0=Dr;var R2={usingClientEntryPoint:!1,Events:[ho,as,yl,i0,o0,df]},ri={findFiberByHostInstance:jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A2={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d0(e),e===null?null:e.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||E2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{hl=Ho.inject(A2),tn=Ho}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R2;bt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(t))throw Error(P(200));return T2(e,t,null,n)};bt.createRoot=function(e,t){if(!xf(e))throw Error(P(299));var n=!1,r="",s=Uy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mf(e,1,!1,null,null,n,!1,r,s),e[jn]=t.current,Wi(e.nodeType===8?e.parentNode:e),new yf(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=d0(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Dr(e)};bt.hydrate=function(e,t,n){if(!Nl(t))throw Error(P(200));return Tl(null,e,t,!0,n)};bt.hydrateRoot=function(e,t,n){if(!xf(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Uy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zy(t,null,e,1,n??null,s,!1,i,o),e[jn]=t.current,Wi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Sl(t)};bt.render=function(e,t,n){if(!Nl(t))throw Error(P(200));return Tl(null,e,t,!1,n)};bt.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(P(40));return e._reactRootContainer?(Dr(function(){Tl(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};bt.unstable_batchedUpdates=df;bt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Nl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Tl(e,t,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function Wy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wy)}catch(e){console.error(e)}}Wy(),Wg.exports=bt;var Hy=Wg.exports,Rp=Hy;Yc.createRoot=Rp.createRoot,Yc.hydrateRoot=Rp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ji.apply(this,arguments)}var Un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Un||(Un={}));const Ap="popstate";function L2(e){e===void 0&&(e={});function t(s,i){let{pathname:o="/",search:l="",hash:c=""}=Wr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),zu("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:Ya(i))}function r(s,i){vf(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return I2(t,n,r,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M2(){return Math.random().toString(36).substr(2,8)}function Lp(e,t){return{usr:e.state,key:e.key,idx:t}}function zu(e,t,n,r){return n===void 0&&(n=null),Ji({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wr(t):t,{state:n,key:t&&t.key||r||M2()})}function Ya(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Wr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function I2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=Un.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ji({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Un.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:m})}function h(b,m){l=Un.Push;let v=zu(w.location,b,m);n&&n(v,b),u=d()+1;let g=Lp(v,u),k=w.createHref(v);try{o.pushState(g,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&c&&c({action:l,location:w.location,delta:1})}function y(b,m){l=Un.Replace;let v=zu(w.location,b,m);n&&n(v,b),u=d();let g=Lp(v,u),k=w.createHref(v);o.replaceState(g,"",k),i&&c&&c({action:l,location:w.location,delta:0})}function x(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Ya(b);return v=v.replace(/ $/,"%20"),Re(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let w={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ap,f),c=b,()=>{s.removeEventListener(Ap,f),c=null}},createHref(b){return t(s,b)},createURL:x,encodeLocation(b){let m=x(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:y,go(b){return o.go(b)}};return w}var Mp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mp||(Mp={}));function $2(e,t,n){return n===void 0&&(n="/"),F2(e,t,n)}function F2(e,t,n,r){let s=typeof t=="string"?Wr(t):t,i=wf(s.pathname||"/",n);if(i==null)return null;let o=Ky(e);D2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Y2(i);l=K2(o[c],u)}return l}function Ky(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=er([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ky(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:W2(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Gy(i.path))s(i,o,c)}),t}function Gy(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Gy(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function D2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:H2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const O2=/^:[\w-]+$/,_2=3,V2=2,B2=1,z2=10,U2=-2,Ip=e=>e==="*";function W2(e,t){let n=e.split("/"),r=n.length;return n.some(Ip)&&(r+=U2),t&&(r+=V2),n.filter(s=>!Ip(s)).reduce((s,i)=>s+(O2.test(i)?_2:i===""?B2:z2),r)}function H2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function K2(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=G2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:er([i,f.pathname]),pathnameBase:J2(er([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=er([i,f.pathnameBase]))}return o}function G2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=l[f];return y&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function q2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),vf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Y2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function X2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Wr(e):e;return{pathname:n?n.startsWith("/")?n:Q2(n,t):t,search:ek(r),hash:tk(s)}}function Q2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bf(e,t){let n=Z2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function kf(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Wr(e):(s=Ji({},e),Re(!s.pathname||!s.pathname.includes("?"),xc("?","pathname","search",s)),Re(!s.pathname||!s.pathname.includes("#"),xc("#","pathname","hash",s)),Re(!s.search||!s.search.includes("#"),xc("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=X2(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const er=e=>e.join("/").replace(/\/\/+/g,"/"),J2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ek=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qy=["post","put","patch","delete"];new Set(qy);const rk=["get",...qy];new Set(rk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(this,arguments)}const jf=p.createContext(null),sk=p.createContext(null),lr=p.createContext(null),El=p.createContext(null),cn=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Yy=p.createContext(null);function ik(e,t){let{relative:n}=t===void 0?{}:t;Ws()||Re(!1);let{basename:r,navigator:s}=p.useContext(lr),{hash:i,pathname:o,search:l}=Qy(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:er([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Ws(){return p.useContext(El)!=null}function jt(){return Ws()||Re(!1),p.useContext(El).location}function Xy(e){p.useContext(lr).static||p.useLayoutEffect(e)}function rt(){let{isDataRoute:e}=p.useContext(cn);return e?bk():ok()}function ok(){Ws()||Re(!1);let e=p.useContext(jf),{basename:t,future:n,navigator:r}=p.useContext(lr),{matches:s}=p.useContext(cn),{pathname:i}=jt(),o=JSON.stringify(bf(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Xy(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=kf(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:er([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}const ak=p.createContext(null);function lk(e){let t=p.useContext(cn).outlet;return t&&p.createElement(ak.Provider,{value:e},t)}function ck(){let{matches:e}=p.useContext(cn),t=e[e.length-1];return t?t.params:{}}function Qy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(lr),{matches:s}=p.useContext(cn),{pathname:i}=jt(),o=JSON.stringify(bf(s,r.v7_relativeSplatPath));return p.useMemo(()=>kf(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function uk(e,t){return dk(e,t)}function dk(e,t,n,r){Ws()||Re(!1);let{navigator:s}=p.useContext(lr),{matches:i}=p.useContext(cn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=jt(),d;if(t){var f;let b=typeof t=="string"?Wr(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Re(!1),d=b}else d=u;let h=d.pathname||"/",y=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=$2(e,{pathname:y}),w=gk(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:er([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:er([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&w?p.createElement(El.Provider,{value:{location:eo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Un.Pop}},w):w}function fk(){let e=wk(),t=nk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const hk=p.createElement(fk,null);class pk extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(cn.Provider,{value:this.props.routeContext},p.createElement(Yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mk(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(jf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(cn.Provider,{value:t},r)}function gk(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Re(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:y}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let y,x=!1,w=null,b=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||hk,c&&(u<0&&h===0?(kk("route-fallback"),x=!0,b=null):u===h&&(x=!0,b=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),v=()=>{let g;return y?g=w:x?g=b:f.route.Component?g=p.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,p.createElement(mk,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:g})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(pk,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var Zy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Zy||{}),Jy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jy||{});function yk(e){let t=p.useContext(jf);return t||Re(!1),t}function xk(e){let t=p.useContext(sk);return t||Re(!1),t}function vk(e){let t=p.useContext(cn);return t||Re(!1),t}function ex(e){let t=vk(),n=t.matches[t.matches.length-1];return n.route.id||Re(!1),n.route.id}function wk(){var e;let t=p.useContext(Yy),n=xk(),r=ex();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function bk(){let{router:e}=yk(Zy.UseNavigateStable),t=ex(Jy.UseNavigateStable),n=p.useRef(!1);return Xy(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,eo({fromRouteId:t},i)))},[e,t])}const $p={};function kk(e,t,n){$p[e]||($p[e]=!0)}function jk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Xa(e){let{to:t,replace:n,state:r,relative:s}=e;Ws()||Re(!1);let{future:i,static:o}=p.useContext(lr),{matches:l}=p.useContext(cn),{pathname:c}=jt(),u=rt(),d=kf(t,bf(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Ck(e){return lk(e.context)}function Be(e){Re(!1)}function Sk(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Un.Pop,navigator:i,static:o=!1,future:l}=e;Ws()&&Re(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:eo({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Wr(r));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:x="default"}=r,w=p.useMemo(()=>{let b=wf(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:y,key:x},navigationType:s}},[c,d,f,h,y,x,s]);return w==null?null:p.createElement(lr.Provider,{value:u},p.createElement(El.Provider,{children:n,value:w}))}function Nk(e){let{children:t,location:n}=e;return uk(Uu(t),n)}new Promise(()=>{});function Uu(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,Uu(r.props.children,i));return}r.type!==Be&&Re(!1),!r.props.index||!r.props.children||Re(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Uu(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}function Tk(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ek(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pk(e,t){return e.button===0&&(!t||t==="_self")&&!Ek(e)}const Rk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ak="6";try{window.__reactRouterVersion=Ak}catch{}const Lk="startTransition",Fp=qc[Lk];function Mk(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=L2({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&Fp?Fp(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>jk(r),[r]),p.createElement(Sk,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$k=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mo=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Tk(t,Rk),{basename:y}=p.useContext(lr),x,w=!1;if(typeof u=="string"&&$k.test(u)&&(x=u,Ik))try{let g=new URL(window.location.href),k=u.startsWith("//")?new URL(g.protocol+u):new URL(u),j=wf(k.pathname,y);k.origin===g.origin&&j!=null?u=j+k.search+k.hash:w=!0}catch{}let b=ik(u,{relative:s}),m=Fk(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(g){r&&r(g),g.defaultPrevented||m(g)}return p.createElement("a",Wu({},h,{href:x||b,onClick:w||i?r:v,ref:n,target:c}))});var Dp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dp||(Dp={}));var Op;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Op||(Op={}));function Fk(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=rt(),u=jt(),d=Qy(e,{relative:o});return p.useCallback(f=>{if(Pk(f,n)){f.preventDefault();let h=r!==void 0?r:Ya(u)===Ya(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}class vt extends Error{constructor(t){var n,r,s,i;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,vt.prototype),t!==null&&typeof t=="object"&&(this.url=typeof t.url=="string"?t.url:"",this.status=typeof t.status=="number"?t.status:0,this.isAbort=!!t.isAbort,this.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?this.response=t.response:t.data!==null&&typeof t.data=="object"?this.response=t.data:this.response={}),this.originalError||t instanceof vt||(this.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(n=this.response)==null?void 0:n.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(i=(s=(r=this.originalError)==null?void 0:r.cause)==null?void 0:s.message)!=null&&i.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Ko=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Dk(e,t){const n={};if(typeof e!="string")return n;const r=Object.assign({},{}).decode||Ok;let s=0;for(;s<e.length;){const i=e.indexOf("=",s);if(i===-1)break;let o=e.indexOf(";",s);if(o===-1)o=e.length;else if(o<i){s=e.lastIndexOf(";",i-1)+1;continue}const l=e.slice(s,i).trim();if(n[l]===void 0){let c=e.slice(i+1,o).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1));try{n[l]=r(c)}catch{n[l]=c}}s=o+1}return n}function _p(e,t,n){const r=Object.assign({},n||{}),s=r.encode||_k;if(!Ko.test(e))throw new TypeError("argument name is invalid");const i=s(t);if(i&&!Ko.test(i))throw new TypeError("argument val is invalid");let o=e+"="+i;if(r.maxAge!=null){const l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(l)}if(r.domain){if(!Ko.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!Ko.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function Ok(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function _k(e){return encodeURIComponent(e)}const Vk=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let tx;function Es(e){if(e)try{const t=decodeURIComponent(tx(e.split(".")[1]).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)||{}}catch{}return{}}function nx(e,t=0){let n=Es(e);return!(Object.keys(n).length>0&&(!n.exp||n.exp-t>Date.now()/1e3))}tx=typeof atob!="function"||Vk?e=>{let t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,s=0,i=0,o="";r=t.charAt(i++);~r&&(n=s%4?64*n+r:r,s++%4)?o+=String.fromCharCode(255&n>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o}:atob;const Vp="pb_auth";class Bk{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get model(){return this.baseModel}get isValid(){return!nx(this.token)}get isAdmin(){return Es(this.token).type==="admin"}get isAuthRecord(){return Es(this.token).type==="authRecord"}save(t,n){this.baseToken=t||"",this.baseModel=n||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(t,n=Vp){const r=Dk(t||"")[n]||"";let s={};try{s=JSON.parse(r),(typeof s===null||typeof s!="object"||Array.isArray(s))&&(s={})}catch{}this.save(s.token||"",s.model||null)}exportToCookie(t,n=Vp){var c,u;const r={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},s=Es(this.token);r.expires=s!=null&&s.exp?new Date(1e3*s.exp):new Date("1970-01-01"),t=Object.assign({},r,t);const i={token:this.token,model:this.model?JSON.parse(JSON.stringify(this.model)):null};let o=_p(n,JSON.stringify(i),t);const l=typeof Blob<"u"?new Blob([o]).size:o.length;if(i.model&&l>4096){i.model={id:(c=i==null?void 0:i.model)==null?void 0:c.id,email:(u=i==null?void 0:i.model)==null?void 0:u.email};const d=["collectionId","username","verified"];for(const f in this.model)d.includes(f)&&(i.model[f]=this.model[f]);o=_p(n,JSON.stringify(i),t)}return o}onChange(t,n=!1){return this._onChangeCallbacks.push(t),n&&t(this.token,this.model),()=>{for(let r=this._onChangeCallbacks.length-1;r>=0;r--)if(this._onChangeCallbacks[r]==t)return delete this._onChangeCallbacks[r],void this._onChangeCallbacks.splice(r,1)}}triggerChange(){for(const t of this._onChangeCallbacks)t&&t(this.token,this.model)}}class zk extends Bk{constructor(t="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=t,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get model(){return(this._storageGet(this.storageKey)||{}).model||null}save(t,n){this._storageSet(this.storageKey,{token:t,model:n}),super.save(t,n)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){const n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]}_storageSet(t,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){let r=n;typeof n!="string"&&(r=JSON.stringify(n)),window.localStorage.setItem(t,r)}else this.storageFallback[t]=n}_storageRemove(t){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)==null||n.removeItem(t)),delete this.storageFallback[t]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",t=>{if(t.key!=this.storageKey)return;const n=this._storageGet(this.storageKey)||{};super.save(n.token||"",n.model||null)})}}class Hr{constructor(t){this.client=t}}class Uk extends Hr{async getAll(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/settings",t)}async update(t,n){return n=Object.assign({method:"PATCH",body:t},n),this.client.send("/api/settings",n)}async testS3(t="storage",n){return n=Object.assign({method:"POST",body:{filesystem:t}},n),this.client.send("/api/settings/test/s3",n).then(()=>!0)}async testEmail(t,n,r){return r=Object.assign({method:"POST",body:{email:t,template:n}},r),this.client.send("/api/settings/test/email",r).then(()=>!0)}async generateAppleClientSecret(t,n,r,s,i,o){return o=Object.assign({method:"POST",body:{clientId:t,teamId:n,keyId:r,privateKey:s,duration:i}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}class Cf extends Hr{decode(t){return t}async getFullList(t,n){if(typeof t=="number")return this._getFullList(t,n);let r=500;return(n=Object.assign({},t,n)).batch&&(r=n.batch,delete n.batch),this._getFullList(r,n)}async getList(t=1,n=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:t,perPage:n},r.query),this.client.send(this.baseCrudPath,r).then(s=>{var i;return s.items=((i=s.items)==null?void 0:i.map(o=>this.decode(o)))||[],s})}async getFirstListItem(t,n){return(n=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+t},n)).query=Object.assign({filter:t,skipTotal:1},n.query),this.getList(1,1,n).then(r=>{var s;if(!((s=r==null?void 0:r.items)!=null&&s.length))throw new vt({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})}async getOne(t,n){if(!t)throw new vt({url:this.client.buildUrl(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return n=Object.assign({method:"GET"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(r=>this.decode(r))}async create(t,n){return n=Object.assign({method:"POST",body:t},n),this.client.send(this.baseCrudPath,n).then(r=>this.decode(r))}async update(t,n,r){return r=Object.assign({method:"PATCH",body:n},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),r).then(s=>this.decode(s))}async delete(t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t),n).then(()=>!0)}_getFullList(t=500,n){(n=n||{}).query=Object.assign({skipTotal:1},n.query);let r=[],s=async i=>this.getList(i,t||500,n).then(o=>{const l=o.items;return r=r.concat(l),l.length==o.perPage?s(i+1):r});return s(1)}}function pt(e,t,n,r){const s=r!==void 0;return s||n!==void 0?s?(console.warn(e),t.body=Object.assign({},t.body,n),t.query=Object.assign({},t.query,r),t):Object.assign(t,n):t}function vc(e){var t;(t=e._resetAutoRefresh)==null||t.call(e)}class Wk extends Cf{get baseCrudPath(){return"/api/admins"}async update(t,n,r){return super.update(t,n,r).then(s=>{var i,o;return((i=this.client.authStore.model)==null?void 0:i.id)===s.id&&((o=this.client.authStore.model)==null?void 0:o.collectionId)===void 0&&this.client.authStore.save(this.client.authStore.token,s),s})}async delete(t,n){return super.delete(t,n).then(r=>{var s,i;return r&&((s=this.client.authStore.model)==null?void 0:s.id)===t&&((i=this.client.authStore.model)==null?void 0:i.collectionId)===void 0&&this.client.authStore.clear(),r})}authResponse(t){const n=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})}async authWithPassword(t,n,r,s){let i={method:"POST",body:{identity:t,password:n}};i=pt("This form of authWithPassword(email, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(email, pass, options?).",i,r,s);const o=i.autoRefreshThreshold;delete i.autoRefreshThreshold,i.autoRefresh||vc(this.client);let l=await this.client.send(this.baseCrudPath+"/auth-with-password",i);return l=this.authResponse(l),o&&function(u,d,f,h){vc(u);const y=u.beforeSend,x=u.authStore.model,w=u.authStore.onChange((b,m)=>{(!b||(m==null?void 0:m.id)!=(x==null?void 0:x.id)||(m!=null&&m.collectionId||x!=null&&x.collectionId)&&(m==null?void 0:m.collectionId)!=(x==null?void 0:x.collectionId))&&vc(u)});u._resetAutoRefresh=function(){w(),u.beforeSend=y,delete u._resetAutoRefresh},u.beforeSend=async(b,m)=>{var j;const v=u.authStore.token;if((j=m.query)!=null&&j.autoRefresh)return y?y(b,m):{url:b,sendOptions:m};let g=u.authStore.isValid;if(g&&nx(u.authStore.token,d))try{await f()}catch{g=!1}g||await h();const k=m.headers||{};for(let C in k)if(C.toLowerCase()=="authorization"&&v==k[C]&&u.authStore.token){k[C]=u.authStore.token;break}return m.headers=k,y?y(b,m):{url:b,sendOptions:m}}}(this.client,o,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(t,n,Object.assign({autoRefresh:!0},i))),l}async authRefresh(t,n){let r={method:"POST"};return r=pt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,t,n),this.client.send(this.baseCrudPath+"/auth-refresh",r).then(this.authResponse.bind(this))}async requestPasswordReset(t,n,r){let s={method:"POST",body:{email:t}};return s=pt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,n,r),this.client.send(this.baseCrudPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(t,n,r,s,i){let o={method:"POST",body:{token:t,password:n,passwordConfirm:r}};return o=pt("This form of confirmPasswordReset(resetToken, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(resetToken, password, passwordConfirm, options?).",o,s,i),this.client.send(this.baseCrudPath+"/confirm-password-reset",o).then(()=>!0)}}const Hk=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function rx(e){if(e){e.query=e.query||{};for(let t in e)Hk.includes(t)||(e.query[t]=e[t],delete e[t])}}class sx extends Hr{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(t,n,r){var o;if(!t)throw new Error("topic must be set.");let s=t;if(r){rx(r=Object.assign({},r));const l="options="+encodeURIComponent(JSON.stringify({query:r.query,headers:r.headers}));s+=(s.includes("?")?"&":"?")+l}const i=function(l){const c=l;let u;try{u=JSON.parse(c==null?void 0:c.data)}catch{}n(u||{})};return this.subscriptions[s]||(this.subscriptions[s]=[]),this.subscriptions[s].push(i),this.isConnected?this.subscriptions[s].length===1?await this.submitSubscriptions():(o=this.eventSource)==null||o.addEventListener(s,i):await this.connect(),async()=>this.unsubscribeByTopicAndListener(t,i)}async unsubscribe(t){var r;let n=!1;if(t){const s=this.getSubscriptionsByTopic(t);for(let i in s)if(this.hasSubscriptionListeners(i)){for(let o of this.subscriptions[i])(r=this.eventSource)==null||r.removeEventListener(i,o);delete this.subscriptions[i],n||(n=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?n&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(t){var r;let n=!1;for(let s in this.subscriptions)if((s+"?").startsWith(t)){n=!0;for(let i of this.subscriptions[s])(r=this.eventSource)==null||r.removeEventListener(s,i);delete this.subscriptions[s]}n&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(t,n){var i;let r=!1;const s=this.getSubscriptionsByTopic(t);for(let o in s){if(!Array.isArray(this.subscriptions[o])||!this.subscriptions[o].length)continue;let l=!1;for(let c=this.subscriptions[o].length-1;c>=0;c--)this.subscriptions[o][c]===n&&(l=!0,delete this.subscriptions[o][c],this.subscriptions[o].splice(c,1),(i=this.eventSource)==null||i.removeEventListener(o,n));l&&(this.subscriptions[o].length||delete this.subscriptions[o],r||this.hasSubscriptionListeners(o)||(r=!0))}this.hasSubscriptionListeners()?r&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(t){var n,r;if(this.subscriptions=this.subscriptions||{},t)return!!((n=this.subscriptions[t])!=null&&n.length);for(let s in this.subscriptions)if((r=this.subscriptions[s])!=null&&r.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(t=>{if(!(t!=null&&t.isAbort))throw t})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(t){const n={};t=t.includes("?")?t:t+"?";for(let r in this.subscriptions)(r+"?").startsWith(t)&&(n[r]=this.subscriptions[r]);return n}getNonEmptySubscriptionKeys(){const t=[];for(let n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let t in this.subscriptions)for(let n of this.subscriptions[t])this.eventSource.addEventListener(t,n)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let t in this.subscriptions)for(let n of this.subscriptions[t])this.eventSource.removeEventListener(t,n)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((t,n)=>{this.pendingConnects.push({resolve:t,reject:n}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=t=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",t=>{const n=t;this.clientId=n==null?void 0:n.lastEventId,this.submitSubscriptions().then(async()=>{let r=3;for(;this.hasUnsentSubscriptions()&&r>0;)r--,await this.submitSubscriptions()}).then(()=>{for(let s of this.pendingConnects)s.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const r=this.getSubscriptionsByTopic("PB_CONNECT");for(let s in r)for(let i of r[s])i(t)}).catch(r=>{this.clientId="",this.connectErrorHandler(r)})})}hasUnsentSubscriptions(){const t=this.getNonEmptySubscriptionKeys();if(t.length!=this.lastSentSubscriptions.length)return!0;for(const n of t)if(!this.lastSentSubscriptions.includes(n))return!0;return!1}connectErrorHandler(t){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let r of this.pendingConnects)r.reject(new vt(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const n=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},n)}disconnect(t=!1){var n;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(n=this.eventSource)==null||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[]}}}class Kk extends Cf{constructor(t,n){super(t),this.collectionIdOrName=n}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}async subscribe(t,n,r){if(!t)throw new Error("Missing topic.");if(!n)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n,r)}async unsubscribe(t){return t?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(t,n){if(typeof t=="number")return super.getFullList(t,n);const r=Object.assign({},t,n);return super.getFullList(r)}async getList(t=1,n=30,r){return super.getList(t,n,r)}async getFirstListItem(t,n){return super.getFirstListItem(t,n)}async getOne(t,n){return super.getOne(t,n)}async create(t,n){return super.create(t,n)}async update(t,n,r){return super.update(t,n,r).then(s=>{var i,o,l;return((i=this.client.authStore.model)==null?void 0:i.id)!==(s==null?void 0:s.id)||((o=this.client.authStore.model)==null?void 0:o.collectionId)!==this.collectionIdOrName&&((l=this.client.authStore.model)==null?void 0:l.collectionName)!==this.collectionIdOrName||this.client.authStore.save(this.client.authStore.token,s),s})}async delete(t,n){return super.delete(t,n).then(r=>{var s,i,o;return!r||((s=this.client.authStore.model)==null?void 0:s.id)!==t||((i=this.client.authStore.model)==null?void 0:i.collectionId)!==this.collectionIdOrName&&((o=this.client.authStore.model)==null?void 0:o.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),r})}authResponse(t){const n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})}async listAuthMethods(t){return t=Object.assign({method:"GET"},t),this.client.send(this.baseCollectionPath+"/auth-methods",t).then(n=>Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]}))}async authWithPassword(t,n,r,s){let i={method:"POST",body:{identity:t,password:n}};return i=pt("This form of authWithPassword(usernameOrEmail, pass, body?, query?) is deprecated. Consider replacing it with authWithPassword(usernameOrEmail, pass, options?).",i,r,s),this.client.send(this.baseCollectionPath+"/auth-with-password",i).then(o=>this.authResponse(o))}async authWithOAuth2Code(t,n,r,s,i,o,l){let c={method:"POST",body:{provider:t,code:n,codeVerifier:r,redirectUrl:s,createData:i}};return c=pt("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectUrl, createData?, options?).",c,o,l),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",c).then(u=>this.authResponse(u))}authWithOAuth2(...t){if(t.length>1||typeof(t==null?void 0:t[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{});const n=(t==null?void 0:t[0])||{};let r=null;n.urlCallback||(r=Bp(void 0));const s=new sx(this.client);function i(){r==null||r.close(),s.unsubscribe()}const o={},l=n.requestKey;return l&&(o.requestKey=l),this.listAuthMethods(o).then(c=>{var h;const u=c.authProviders.find(y=>y.name===n.provider);if(!u)throw new vt(new Error(`Missing or invalid provider "${n.provider}".`));const d=this.client.buildUrl("/api/oauth2-redirect"),f=l?(h=this.client.cancelControllers)==null?void 0:h[l]:void 0;return f&&(f.signal.onabort=()=>{i()}),new Promise(async(y,x)=>{var w;try{await s.subscribe("@oauth2",async g=>{var j;const k=s.clientId;try{if(!g.state||k!==g.state)throw new Error("State parameters don't match.");if(g.error||!g.code)throw new Error("OAuth2 redirect error or missing code: "+g.error);const C=Object.assign({},n);delete C.provider,delete C.scopes,delete C.createData,delete C.urlCallback,(j=f==null?void 0:f.signal)!=null&&j.onabort&&(f.signal.onabort=null);const S=await this.authWithOAuth2Code(u.name,g.code,u.codeVerifier,d,n.createData,C);y(S)}catch(C){x(new vt(C))}i()});const b={state:s.clientId};(w=n.scopes)!=null&&w.length&&(b.scope=n.scopes.join(" "));const m=this._replaceQueryParams(u.authUrl+d,b);await(n.urlCallback||function(g){r?r.location.href=g:r=Bp(g)})(m)}catch(b){i(),x(new vt(b))}})}).catch(c=>{throw i(),c})}async authRefresh(t,n){let r={method:"POST"};return r=pt("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",r,t,n),this.client.send(this.baseCollectionPath+"/auth-refresh",r).then(s=>this.authResponse(s))}async requestPasswordReset(t,n,r){let s={method:"POST",body:{email:t}};return s=pt("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-password-reset",s).then(()=>!0)}async confirmPasswordReset(t,n,r,s,i){let o={method:"POST",body:{token:t,password:n,passwordConfirm:r}};return o=pt("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,s,i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}async requestVerification(t,n,r){let s={method:"POST",body:{email:t}};return s=pt("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-verification",s).then(()=>!0)}async confirmVerification(t,n,r){let s={method:"POST",body:{token:t}};return s=pt("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/confirm-verification",s).then(()=>{const i=Es(t),o=this.client.authStore.model;return o&&!o.verified&&o.id===i.id&&o.collectionId===i.collectionId&&(o.verified=!0,this.client.authStore.save(this.client.authStore.token,o)),!0})}async requestEmailChange(t,n,r){let s={method:"POST",body:{newEmail:t}};return s=pt("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",s,n,r),this.client.send(this.baseCollectionPath+"/request-email-change",s).then(()=>!0)}async confirmEmailChange(t,n,r,s){let i={method:"POST",body:{token:t,password:n}};return i=pt("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",i,r,s),this.client.send(this.baseCollectionPath+"/confirm-email-change",i).then(()=>{const o=Es(t),l=this.client.authStore.model;return l&&l.id===o.id&&l.collectionId===o.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(t,n){return n=Object.assign({method:"GET"},n),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",n)}async unlinkExternalAuth(t,n,r){return r=Object.assign({method:"DELETE"},r),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),r).then(()=>!0)}_replaceQueryParams(t,n={}){let r=t,s="";t.indexOf("?")>=0&&(r=t.substring(0,t.indexOf("?")),s=t.substring(t.indexOf("?")+1));const i={},o=s.split("&");for(const l of o){if(l=="")continue;const c=l.split("=");i[decodeURIComponent(c[0].replace(/\+/g," "))]=decodeURIComponent((c[1]||"").replace(/\+/g," "))}for(let l in n)n.hasOwnProperty(l)&&(n[l]==null?delete i[l]:i[l]=n[l]);s="";for(let l in i)i.hasOwnProperty(l)&&(s!=""&&(s+="&"),s+=encodeURIComponent(l.replace(/%20/g,"+"))+"="+encodeURIComponent(i[l].replace(/%20/g,"+")));return s!=""?r+"?"+s:r}}function Bp(e){if(typeof window>"u"||!(window!=null&&window.open))throw new vt(new Error("Not in a browser context - please pass a custom urlCallback function."));let t=1024,n=768,r=window.innerWidth,s=window.innerHeight;t=t>r?r:t,n=n>s?s:n;let i=r/2-t/2,o=s/2-n/2;return window.open(e,"popup_window","width="+t+",height="+n+",top="+o+",left="+i+",resizable,menubar=no")}class Gk extends Cf{get baseCrudPath(){return"/api/collections"}async import(t,n=!1,r){return r=Object.assign({method:"PUT",body:{collections:t,deleteMissing:n}},r),this.client.send(this.baseCrudPath+"/import",r).then(()=>!0)}}class qk extends Hr{async getList(t=1,n=30,r){return(r=Object.assign({method:"GET"},r)).query=Object.assign({page:t,perPage:n},r.query),this.client.send("/api/logs",r)}async getOne(t,n){if(!t)throw new vt({url:this.client.buildUrl("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return n=Object.assign({method:"GET"},n),this.client.send("/api/logs/"+encodeURIComponent(t),n)}async getStats(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/stats",t)}}class Yk extends Hr{async check(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/health",t)}}class Xk extends Hr{getUrl(t,n,r={}){if(!n||!(t!=null&&t.id)||!(t!=null&&t.collectionId)&&!(t!=null&&t.collectionName))return"";const s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(t.collectionId||t.collectionName)),s.push(encodeURIComponent(t.id)),s.push(encodeURIComponent(n));let i=this.client.buildUrl(s.join("/"));if(Object.keys(r).length){r.download===!1&&delete r.download;const o=new URLSearchParams(r);i+=(i.includes("?")?"&":"?")+o}return i}async getToken(t){return t=Object.assign({method:"POST"},t),this.client.send("/api/files/token",t).then(n=>(n==null?void 0:n.token)||"")}}class Qk extends Hr{async getFullList(t){return t=Object.assign({method:"GET"},t),this.client.send("/api/backups",t)}async create(t,n){return n=Object.assign({method:"POST",body:{name:t}},n),this.client.send("/api/backups",n).then(()=>!0)}async upload(t,n){return n=Object.assign({method:"POST",body:t},n),this.client.send("/api/backups/upload",n).then(()=>!0)}async delete(t,n){return n=Object.assign({method:"DELETE"},n),this.client.send(`/api/backups/${encodeURIComponent(t)}`,n).then(()=>!0)}async restore(t,n){return n=Object.assign({method:"POST"},n),this.client.send(`/api/backups/${encodeURIComponent(t)}/restore`,n).then(()=>!0)}getDownloadUrl(t,n){return this.client.buildUrl(`/api/backups/${encodeURIComponent(n)}?token=${encodeURIComponent(t)}`)}}class Zk{constructor(t="/",n,r="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=t,this.lang=r,this.authStore=n||new zk,this.admins=new Wk(this),this.collections=new Gk(this),this.files=new Xk(this),this.logs=new qk(this),this.settings=new Uk(this),this.realtime=new sx(this),this.health=new Yk(this),this.backups=new Qk(this)}collection(t){return this.recordServices[t]||(this.recordServices[t]=new Kk(this,t)),this.recordServices[t]}autoCancellation(t){return this.enableAutoCancellation=!!t,this}cancelRequest(t){return this.cancelControllers[t]&&(this.cancelControllers[t].abort(),delete this.cancelControllers[t]),this}cancelAllRequests(){for(let t in this.cancelControllers)this.cancelControllers[t].abort();return this.cancelControllers={},this}filter(t,n){if(!n)return t;for(let r in n){let s=n[r];switch(typeof s){case"boolean":case"number":s=""+s;break;case"string":s="'"+s.replace(/'/g,"\\'")+"'";break;default:s=s===null?"null":s instanceof Date?"'"+s.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(s).replace(/'/g,"\\'")+"'"}t=t.replaceAll("{:"+r+"}",s)}return t}getFileUrl(t,n,r={}){return this.files.getUrl(t,n,r)}buildUrl(t){var r;let n=this.baseUrl;return typeof window>"u"||!window.location||n.startsWith("https://")||n.startsWith("http://")||(n=(r=window.location.origin)!=null&&r.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(n+=window.location.pathname||"/",n+=n.endsWith("/")?"":"/"),n+=this.baseUrl),t&&(n+=n.endsWith("/")?"":"/",n+=t.startsWith("/")?t.substring(1):t),n}async send(t,n){n=this.initSendOptions(t,n);let r=this.buildUrl(t);if(this.beforeSend){const s=Object.assign({},await this.beforeSend(r,n));s.url!==void 0||s.options!==void 0?(r=s.url||r,n=s.options||n):Object.keys(s).length&&(n=s,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(n.query!==void 0){const s=this.serializeQueryParams(n.query);s&&(r+=(r.includes("?")?"&":"?")+s),delete n.query}return this.getHeader(n.headers,"Content-Type")=="application/json"&&n.body&&typeof n.body!="string"&&(n.body=JSON.stringify(n.body)),(n.fetch||fetch)(r,n).then(async s=>{let i={};try{i=await s.json()}catch{}if(this.afterSend&&(i=await this.afterSend(s,i)),s.status>=400)throw new vt({url:s.url,status:s.status,data:i});return i}).catch(s=>{throw new vt(s)})}initSendOptions(t,n){if((n=Object.assign({method:"GET"},n)).body=this.convertToFormDataIfNeeded(n.body),rx(n),n.query=Object.assign({},n.params,n.query),n.requestKey===void 0&&(n.$autoCancel===!1||n.query.$autoCancel===!1?n.requestKey=null:(n.$cancelKey||n.query.$cancelKey)&&(n.requestKey=n.$cancelKey||n.query.$cancelKey)),delete n.$autoCancel,delete n.query.$autoCancel,delete n.$cancelKey,delete n.query.$cancelKey,this.getHeader(n.headers,"Content-Type")!==null||this.isFormData(n.body)||(n.headers=Object.assign({},n.headers,{"Content-Type":"application/json"})),this.getHeader(n.headers,"Accept-Language")===null&&(n.headers=Object.assign({},n.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(n.headers,"Authorization")===null&&(n.headers=Object.assign({},n.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&n.requestKey!==null){const r=n.requestKey||(n.method||"GET")+t;delete n.requestKey,this.cancelRequest(r);const s=new AbortController;this.cancelControllers[r]=s,n.signal=s.signal}return n}convertToFormDataIfNeeded(t){if(typeof FormData>"u"||t===void 0||typeof t!="object"||t===null||this.isFormData(t)||!this.hasBlobField(t))return t;const n=new FormData;for(const r in t){const s=t[r];if(typeof s!="object"||this.hasBlobField({data:s})){const i=Array.isArray(s)?s:[s];for(let o of i)n.append(r,o)}else{let i={};i[r]=s,n.append("@jsonPayload",JSON.stringify(i))}}return n}hasBlobField(t){for(const n in t){const r=Array.isArray(t[n])?t[n]:[t[n]];for(const s of r)if(typeof Blob<"u"&&s instanceof Blob||typeof File<"u"&&s instanceof File)return!0}return!1}getHeader(t,n){t=t||{},n=n.toLowerCase();for(let r in t)if(r.toLowerCase()==n)return t[r];return null}isFormData(t){return t&&(t.constructor.name==="FormData"||typeof FormData<"u"&&t instanceof FormData)}serializeQueryParams(t){const n=[];for(const r in t){if(t[r]===null)continue;const s=t[r],i=encodeURIComponent(r);if(Array.isArray(s))for(const o of s)n.push(i+"="+encodeURIComponent(o));else s instanceof Date?n.push(i+"="+encodeURIComponent(s.toISOString())):typeof s!==null&&typeof s=="object"?n.push(i+"="+encodeURIComponent(JSON.stringify(s))):n.push(i+"="+encodeURIComponent(s))}return n.join("&")}}const Jk="https://casdatabase.ru",_=new Zk(Jk),br="cas_auth_v1";function ej(){try{const e=_.authStore.token,t=_.authStore.model;e&&t?localStorage.setItem(br,JSON.stringify({token:e,model:t})):localStorage.removeItem(br)}catch{}}function ix(){try{const e=localStorage.getItem(br);if(!e)return;const{token:t,model:n}=JSON.parse(e);if(!t||!n){localStorage.removeItem(br);return}try{if(JSON.parse(atob(t.split(".")[1])).exp*1e3<Date.now()){console.warn("[Auth] Восстановленный токен истек. Очистка хранилища."),localStorage.removeItem(br);return}}catch(r){console.error("[Auth] Не удалось проанализировать токен.",r),localStorage.removeItem(br);return}_.authStore.save(t,n)}catch(e){console.error("[Auth] Не удалось восстановить сессию:",e),localStorage.removeItem(br)}}ix();_.authStore.onChange(()=>ej(),!0);_.authStore.onChange((e,t)=>{!e&&!t&&window.location.pathname!=="/"&&!window.location.pathname.startsWith("/admin")&&(console.warn("Auth token is invalid or expired. Forcing logout via reload."),_.authStore.clear(),window.location.reload())},!0);const tj=e=>e?{id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?_.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:!!e.is_blocked,favorites:e.favorites||[]}:null;async function nj(){try{if(!_.authStore.model||!_.authStore.token)return;const e=_.authStore.token,n=JSON.parse(atob(e.split(".")[1])).exp*1e3,r=Date.now();n-r<6e4&&(console.log("[Auth] Token is old, refreshing..."),await _.collection("users").authRefresh(),console.log("[Auth] Token refresh successful."))}catch(e){throw console.warn("[Auth] Token refresh failed. Token is invalid.",e),e}}async function rj(e){const t=_.authStore.model;if(!t)return()=>{};const n=t.id;let r=!1;try{await _.collection("users").subscribe(n,s=>{const i=s.record;i!=null&&i.is_blocked&&e()})}catch{}return async()=>{if(!r){r=!0;try{await _.collection("users").unsubscribe(n)}catch{}}}}var ps=(e=>(e.SUCCESS="SUCCESS",e.WRONG_CREDENTIALS="WRONG_CREDENTIALS",e.ERROR="ERROR",e))(ps||{});const ox=p.createContext(void 0);function sj({children:e}){const[t,n]=p.useState(null),[r,s]=p.useState(!0),i=p.useRef(null),o=p.useCallback(()=>{try{if(i.current)try{i.current()}catch{}}finally{_.authStore.clear()}},[]);p.useEffect(()=>{try{ix()}catch{}const x=(b,m)=>{const v=tj(m);if(v!=null&&v.isBlocked)_.authStore.clear(),n(null);else{if(n(v),i.current)try{i.current()}catch{}v&&rj(()=>{_.authStore.clear(),n(null)}).then(g=>{i.current=g}).catch(()=>{i.current=null})}s(!1)},w=_.authStore.onChange(x,!0);return()=>{try{w()}catch{}}},[o]),p.useEffect(()=>{const x=async v=>{if(_.authStore.isValid)try{console.log(`[Auth] ${v} проверка актуальности токена...`),await nj()}catch{console.warn(`[Auth] ${v} проверка не удалась. Принудительный выход.`),o()}};x("Первичная");const w=()=>{document.visibilityState==="visible"&&x("Периодическая")},b=()=>x("Периодическая");document.addEventListener("visibilitychange",w),window.addEventListener("online",b);const m=setInterval(()=>x("Периодическая"),3e4);return()=>{document.removeEventListener("visibilitychange",w),window.removeEventListener("online",b),clearInterval(m)}},[o]);const l=async(x,w)=>{var b;try{const m=x.toLowerCase();return await _.collection("users").authWithPassword(m,w),(b=_.authStore.model)!=null&&b.is_blocked?(_.authStore.clear(),ps.ERROR):ps.SUCCESS}catch{return ps.WRONG_CREDENTIALS}},c=async(x,w,b,m)=>{var v,g,k,j,C;try{return await _.collection("users").create({username:x.toLowerCase(),email:b.toLowerCase(),nickname:w,password:m,passwordConfirm:m,role:"user"}),await l(x.toLowerCase(),m)!==ps.SUCCESS?{success:!1,message:"Не удалось войти после регистрации."}:{success:!0,message:"Регистрация успешна!"}}catch(S){const N=((v=S==null?void 0:S.response)==null?void 0:v.data)||{};return(k=(g=N==null?void 0:N.username)==null?void 0:g.message)!=null&&k.includes("must be unique")?{success:!1,message:"Этот логин уже зарегистрирован."}:(C=(j=N==null?void 0:N.email)==null?void 0:j.message)!=null&&C.includes("must be unique")?{success:!1,message:"Этот email уже зарегистрирован."}:{success:!1,message:"Ошибка регистрации."}}},u=async x=>{var w,b;if(!t)return{success:!1,message:"Пользователь не авторизован."};try{const m=new FormData;return x.nickname&&x.nickname!==t.nickname&&m.append("nickname",x.nickname),x.email&&x.email!==t.email&&m.append("email",x.email.toLowerCase()),x.password&&x.oldPassword&&(m.append("password",x.password),m.append("passwordConfirm",x.password),m.append("oldPassword",x.oldPassword)),x.avatarFile instanceof File?m.append("avatar",x.avatarFile):x.avatarFile===null&&m.append("avatar",""),await _.collection("users").update(t.id,m),await _.collection("users").authRefresh(),{success:!0,message:"Профиль успешно обновлен."}}catch(m){return(b=(w=m.response)==null?void 0:w.data)!=null&&b.oldPassword?{success:!1,message:"Неверный текущий пароль."}:{success:!1,message:"Ошибка обновления."}}},d=async x=>{if(!t)return;const w=t.favorites||[],b=w.includes(x)?w.filter(m=>m!==x):[...w,x];try{await _.collection("users").update(t.id,{favorites:b}),n(m=>m&&{...m,favorites:b})}catch(m){console.error("Failed to update favorites:",m)}},f=async x=>{try{const w=x.toLowerCase(),b=`username = "${w}" || email = "${w}"`,m=await _.collection("users").getFirstListItem(b,{$autoCancel:!1});return!!(m!=null&&m.is_blocked)}catch{return!1}},h=(t==null?void 0:t.role)==="admin",y={user:t,loading:r,login:l,register:c,logout:o,updateProfile:u,isAdmin:h,toggleFavorite:d,isUserBlocked:f};return a.jsx(ox.Provider,{value:y,children:e})}const ge=()=>{const e=p.useContext(ox);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Sf=e=>e===0?"immortal":e>=30?"30+":"18+",ax=p.createContext(void 0),go=e=>({...e,id:e.id,createdAt:new Date(e.created),updatedAt:new Date(e.updated)}),wc=e=>({...go(e),photo:e.photo?_.getFileUrl(e,e.photo):"",tags:e.tags||[],category:e.category||[],dominantColor:e.dominantColor||"",links:Array.isArray(e.links)?e.links:[],isNew:e.isNew||!1,ageGroup:Sf(e.age)}),ij=e=>({id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?_.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:e.is_blocked||!1,favorites:e.favorites||[]}),bc=e=>({...go(e),image:e.image?_.getFileUrl(e,e.image):"",actionButtons:Array.isArray(e.actionButtons)?e.actionButtons:[]}),Go=e=>{var r,s,i,o;const t=e.files||[],n=Array.isArray(t)?t:[t];return{...go(e),userId:((s=(r=e.expand)==null?void 0:r.user_id)==null?void 0:s.id)||e.user_id,userName:((o=(i=e.expand)==null?void 0:i.user_id)==null?void 0:o.nickname)||e.userName,files:n.length>0?n.map(l=>_.getFileUrl(e,l)):[]}},zp=e=>({...go(e),image:e.image?_.getFileUrl(e,e.image):void 0}),kc=e=>({...go(e),image:e.image?_.getFileUrl(e,e.image):void 0});function oj({children:e}){const[t,n]=p.useState([]),[r,s]=p.useState([]),[i,o]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,h]=p.useState([]),[y,x]=p.useState(!0),[w,b]=p.useState(!0),[m,v]=p.useState(!1),[g,k]=p.useState(!1),[j,C]=p.useState([]),[S,N]=p.useState([]),[R,T]=p.useState({search:"",gender:"all",ageGroup:"all",sortBy:"newest",includeTags:[],excludeTags:[],includeCategories:[],excludeCategories:[]}),{user:$,isAdmin:F,toggleFavorite:Q}=ge(),re=p.useRef(!1),ce=p.useCallback(async L=>{if(!F)return;const B=new Date(Date.now()-7*24*60*60*1e3),Y=[];L.forEach(de=>{de.isNew&&new Date(de.updated)<B&&(console.log(`Снимаем флаг 'Новый' с персонажа: ${de.name}`),Y.push(_.collection("characters").update(de.id,{isNew:!1})))}),Y.length>0&&(await Promise.allSettled(Y),await Xe())},[F]),Xe=p.useCallback(async()=>{b(!0);try{const L=await _.collection("characters").getFullList({sort:"-created",$autoCancel:!1});await ce(L),n(L.map(wc));const B=new Set,Y=new Set;L.forEach(de=>{(de.category||[]).forEach(ke=>B.add(ke)),(de.tags||[]).forEach(ke=>Y.add(ke))}),C(Array.from(B).sort()),N(Array.from(Y).sort())}catch(L){console.error("Char loading failed:",L)}finally{b(!1)}},[ce]),ee=p.useCallback(async()=>{v(!0);try{const L=await _.collection("users").getFullList({sort:"-created",$autoCancel:!1});s(L.map(ij))}catch(L){console.error("Failed to load users",L)}finally{v(!1)}},[]),A=p.useCallback(async()=>{k(!0);try{const L=await _.collection("shop_items").getFullList({sort:"-created",$autoCancel:!1});o(L.map(bc))}catch(L){console.error("Failed to load shop items",L)}finally{k(!1)}},[]),O=p.useCallback(async()=>{try{const L=await _.collection("messages").getFullList({sort:"-created",$autoCancel:!1,expand:"user_id"});c(L.map(Go))}catch(L){console.error("Failed to load messages",L)}},[]),U=p.useCallback(async()=>{if($)try{const L=await _.collection("notifications").getFullList({filter:`recipientId = "${$.id}"`,sort:"-created",$autoCancel:!1});d(L.map(zp))}catch(L){console.error("Failed to load notifications",L)}},[$]),I=p.useCallback(async()=>{try{const L=await _.collection("newsletters").getFullList({sort:"-created",$autoCancel:!1});h(L.map(kc))}catch(L){console.error("Failed to load newsletters",L)}},[]);p.useEffect(()=>re.current?void 0:(re.current=!0,(async()=>{const B=[Xe(),ee(),U(),I(),O()];await Promise.allSettled(B),x(!1)})(),_.collection("messages").subscribe("*",()=>{O()}),()=>{_.collection("messages").unsubscribe("*")}),[Xe,ee,U,I,O]);const K=p.useCallback(async L=>{try{return await _.collection("notifications").create(L,{$autoCancel:!1}),!0}catch(B){return console.error("Error adding notification:",B),!1}},[]),G=p.useCallback(async L=>{try{const B=await _.collection("notifications").update(L,{isRead:!0});return d(Y=>Y.map(de=>de.id===L?zp(B):de)),!0}catch(B){return console.error("Error marking notification as read:",B),!1}},[]),Ie=p.useCallback(async(L,B)=>{try{return await _.collection("users").update(L,B),await ee(),!0}catch(Y){return console.error("Failed to update user",Y),!1}},[ee]),se=p.useCallback(async(L,B)=>{try{const Y=await _.collection("characters").update(L,B);return n(de=>de.map(ke=>ke.id===L?wc(Y):ke)),!0}catch(Y){return console.error("Error updating character:",Y),!1}},[]),be=p.useCallback(async L=>{try{const B=await _.collection("characters").create(L);return n(Y=>[wc(B),...Y]),B}catch(B){return console.error("Error adding character:",B),!1}},[]),Ct=p.useCallback(async L=>{try{return await _.collection("characters").delete(L),n(B=>B.filter(Y=>Y.id!==L)),!0}catch(B){return console.error("Error deleting character:",B),!1}},[]),Gr=p.useCallback(async L=>{try{const B=await _.collection("shop_items").create(L);o(Y=>[bc(B),...Y])}catch(B){console.error("Failed to add shop item",B)}},[]),dr=p.useCallback(async(L,B)=>{try{const Y=await _.collection("shop_items").update(L,B);o(de=>de.map(ke=>ke.id===L?bc(Y):ke))}catch(Y){console.error("Failed to update shop item",Y)}},[]),X1=p.useCallback(async L=>{try{await _.collection("shop_items").delete(L),o(B=>B.filter(Y=>Y.id!==L))}catch(B){console.error("Failed to delete shop item",B)}},[]),Q1=p.useCallback(async L=>{if(!$)return!1;try{const B=L.get("isTicket")==="true";L.append("user_id",$.id),L.append("userName",$.nickname),F?(L.append("isReadByAdmin","true"),L.append("isReadByUser","false")):(L.append("isReadByAdmin","false"),L.append("isReadByUser","true"));const Y=await _.collection("messages").create(L,{$autoCancel:!1,expand:"user_id"});c(fn=>[Go(Y),...fn]);const de=L.get("parent"),ke=[...l,Go(Y)],dn=de?ke.find(fn=>fn.id===de):null;if(B&&!F){const fn=r.filter(hn=>hn.role==="admin");for(const hn of fn)await K({recipientId:hn.id,senderId:$.id,senderName:$.nickname,type:"new_message",entityId:Y.id,message:`создал новый тикет: "${Y.subject}"`,isRead:!1})}else if(dn)if(F)dn.userId!==$.id&&await K({recipientId:dn.userId,senderId:$.id,senderName:"Поддержка",type:"support_reply",entityId:dn.id,message:`ответил на ваш тикет: "${dn.subject}"`,isRead:!1});else{const fn=r.filter(hn=>hn.role==="admin");for(const hn of fn)await K({recipientId:hn.id,senderId:$.id,senderName:$.nickname,type:"support_reply",entityId:dn.id,message:`ответил на тикет: "${dn.subject}"`,isRead:!1})}return!0}catch(B){return console.error("Failed to add message:",B),!1}},[$,F,r,l,K]),Z1=p.useCallback(async(L,B)=>{try{const Y=await _.collection("messages").update(L,B,{$autoCancel:!1});c(de=>de.map(ke=>ke.id===L?Go(Y):ke))}catch(Y){console.error("Failed to update message",Y)}},[]),J1=p.useCallback(async L=>{try{const B=await _.collection("newsletters").create(L);return h(Y=>[kc(B),...Y].sort((de,ke)=>ke.createdAt.getTime()-de.createdAt.getTime())),!0}catch(B){return console.error("Failed to add newsletter:",B),!1}},[]),ew=p.useCallback(async(L,B)=>{try{const Y=await _.collection("newsletters").update(L,B);return h(de=>de.map(ke=>ke.id===L?kc(Y):ke)),!0}catch(Y){return console.error("Failed to update newsletter:",Y),!1}},[]),tw=p.useCallback(async L=>{try{return await _.collection("newsletters").delete(L),h(B=>B.filter(Y=>Y.id!==L)),!0}catch(B){return console.error("Failed to delete newsletter:",B),!1}},[]),nw=p.useMemo(()=>t.filter(L=>{const B=(R.search||"").toLowerCase(),Y=!B||L.name.toLowerCase().includes(B)||(L.occupation||"").toLowerCase().includes(B)||(L.description||"").toLowerCase().includes(B),de=R.gender==="all"||L.gender===R.gender,ke=R.ageGroup==="all"||L.ageGroup===R.ageGroup,dn=R.includeTags.length===0||R.includeTags.every(fr=>(L.tags||[]).includes(fr)),fn=R.excludeTags.length===0||!R.excludeTags.some(fr=>(L.tags||[]).includes(fr)),hn=R.includeCategories.length===0||R.includeCategories.some(fr=>(L.category||[]).includes(fr)),sw=R.excludeCategories.length===0||!R.excludeCategories.some(fr=>(L.category||[]).includes(fr));return Y&&de&&ke&&dn&&fn&&hn&&sw}).sort((L,B)=>R.sortBy==="rating"?(B.rating||0)-(L.rating||0):R.sortBy==="name"?L.name.localeCompare(B.name):new Date(B.createdAt).getTime()-new Date(L.createdAt).getTime()),[t,R]),rw={loading:y,characters:t,users:r,shopItems:i,messages:l,notifications:u,newsletters:f,filters:R,setFilters:T,filteredCharacters:nw,charactersLoading:w,usersLoading:m,shopItemsLoading:g,updateCharacter:se,addCharacter:be,deleteCharacter:Ct,loadCharacters:Xe,loadUsers:ee,updateUser:Ie,loadShopItems:A,addShopItem:Gr,updateShopItem:dr,deleteShopItem:X1,loadMessages:O,addMessage:Q1,updateMessage:Z1,toggleFavorite:Q,addNotification:K,markNotificationAsRead:G,loadNotifications:U,loadNewsletters:I,addNewsletter:J1,updateNewsletter:ew,deleteNewsletter:tw,allCategories:j,allTags:S};return a.jsx(ax.Provider,{value:rw,children:e})}const Ve=()=>{const e=p.useContext(ax);if(!e)throw new Error("useData must be used within a DataProvider");return e},lx={search:"",gender:"all",ageGroup:"all",sortBy:"rating"},cx=p.createContext({userCharacters:[],filters:lx,setFilters:()=>{},filteredUserCharacters:[],loading:!1,loadUserCharacters:async()=>{},addUserCharacter:async()=>!0,updateUserCharacter:async()=>!0,deleteUserCharacter:async()=>!0,approveUserCharacter:async()=>!0,rejectUserCharacter:async()=>!0}),aj=({children:e})=>{const[t,n]=p.useState([]),[r,s]=p.useState(lx),[i]=p.useState(!1),o=p.useCallback(async()=>{},[]),l=p.useCallback(async x=>{try{if(!(x instanceof FormData)){const w={...x,id:Math.random().toString(36).slice(2),createdAt:new Date,status:"pending"};n(b=>[w,...b])}return!0}catch{return!1}},[]),c=p.useCallback(async(x,w)=>{try{return w instanceof FormData||n(b=>b.map(m=>m.id===x?{...m,...w}:m)),!0}catch{return!1}},[]),u=p.useCallback(async x=>{try{return n(w=>w.filter(b=>b.id!=x)),!0}catch{return!1}},[]),d=p.useCallback(async x=>{try{return n(w=>w.map(b=>b.id===x?{...b,status:"approved"}:b)),!0}catch{return!1}},[]),f=p.useCallback(async x=>{try{return n(w=>w.map(b=>b.id===x?{...b,status:"rejected"}:b)),!0}catch{return!1}},[]),h=p.useMemo(()=>{const x=r.search.toLowerCase();let w=[...t];return r.gender!=="all"&&(w=w.filter(b=>b.gender===r.gender)),r.ageGroup!=="all"&&(w=w.filter(b=>b.ageGroup===r.ageGroup)),x&&(w=w.filter(b=>(b.name||"").toLowerCase().includes(x))),r.sortBy==="name"&&w.sort((b,m)=>String(b.name||"").localeCompare(String(m.name||""))),r.sortBy==="newest"&&w.sort((b,m)=>+new Date(m.createdAt)-+new Date(b.createdAt)),w},[t,r]),y={userCharacters:t,filters:r,setFilters:s,filteredUserCharacters:h,loading:i,loadUserCharacters:o,addUserCharacter:l,updateUserCharacter:c,deleteUserCharacter:u,approveUserCharacter:d,rejectUserCharacter:f};return a.jsx(cx.Provider,{value:y,children:e})},ux=()=>p.useContext(cx);function lj(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let Hu=1;class cj{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Hu++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const l=s.then(async u=>{if(o=["resolve",u],M.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(dj(u)&&!u.ok){i=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,x=typeof f=="object"&&!M.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...x})}else if(u instanceof Error){i=!1;const f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description,x=typeof f=="object"&&!M.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:h,...x})}else if(n.success!==void 0){i=!1;const f=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description,x=typeof f=="object"&&!M.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:h,...x})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description,y=typeof d=="object"&&!M.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...y})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||Hu++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Et=new cj,uj=(e,t)=>{const n=(t==null?void 0:t.id)||Hu++;return Et.addToast({title:e,...t,id:n}),n},dj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",fj=uj,hj=()=>Et.toasts,pj=()=>Et.getActiveToasts(),_n=Object.assign(fj,{success:Et.success,info:Et.info,warning:Et.warning,error:Et.error,custom:Et.custom,message:Et.message,promise:Et.promise,dismiss:Et.dismiss,loading:Et.loading},{getHistory:hj,getToasts:pj});lj("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const mj=e=>({id:e.id,username:e.username,nickname:e.nickname,email:e.email,role:e.role,avatar:e.avatar?_.getFileUrl(e,e.avatar):void 0,createdAt:new Date(e.created),isBlocked:e.is_blocked||!1,favorites:e.favorites||[]}),jc=e=>{var n,r,s,i,o;const t={...e,id:e.id,createdAt:new Date(e.created),characterId:e.character_id,userId:e.user_id,userName:e.userName,rating:e.rating,comment:e.comment,parentReview:e.parentReview,likesBy:((r=(n=e.expand)==null?void 0:n.likesBy)==null?void 0:r.map(l=>l.id))||[],dislikesBy:((i=(s=e.expand)==null?void 0:s.dislikesBy)==null?void 0:i.map(l=>l.id))||[]};return(o=e.expand)!=null&&o.user_id&&(t.author=mj(e.expand.user_id)),t},dx=p.createContext(void 0);function gj({children:e}){const[t,n]=p.useState([]),[r,s]=p.useState(!0),{user:i}=ge(),{addNotification:o,loadNotifications:l}=Ve(),c=p.useRef(!1),u=p.useCallback(async()=>{if(!c.current){c.current=!0,s(!0);try{const b=await _.collection("reviews").getFullList({sort:"-created",expand:"user_id,likesBy,dislikesBy",$autoCancel:!1});n(b.map(jc))}catch(b){b.isAbort||(console.error("Failed to reload reviews:",b),_n.error("Не удалось загрузить комментарии",{description:b.message}))}finally{s(!1),c.current=!1}}},[]);p.useEffect(()=>{u()},[u]);const d=p.useCallback(async b=>{if(!i)return!1;try{const m={user_id:i.id,userName:i.nickname,character_id:b.characterId,comment:b.comment,parentReview:b.parentReview,rating:b.rating},v=await _.collection("reviews").create(m,{expand:"user_id,likesBy,dislikesBy"}),g=jc(v);if(n(k=>[g,...k]),b.parentReview){const k=t.find(j=>j.id===b.parentReview);k&&k.userId!==i.id&&await o({recipientId:k.userId,senderId:i.id,senderName:i.nickname,type:"reply",entityId:b.characterId,message:`ответил на ваш комментарий: "${k.comment.slice(0,30)}..."`})}return!0}catch(m){return console.error("Error adding review:",m),_n.error("Ошибка добавления комментария",{description:m.message}),!1}},[i,t,o]),f=p.useCallback(async(b,m)=>{try{const v=await _.collection("reviews").update(b,m,{expand:"user_id,likesBy,dislikesBy"});return n(g=>g.map(k=>k.id===b?jc(v):k)),!0}catch{return!1}},[]),h=p.useCallback(async(b,m)=>{if(!i){_n.error("Пожалуйста, войдите в систему, чтобы оценить.");return}const v=t.find(S=>S.id===b);if(!v)return;const g={...v,likesBy:[...v.likesBy||[]],dislikesBy:[...v.dislikesBy||[]]},k=new Set(g.likesBy),j=new Set(g.dislikesBy);m==="like"?(k.has(i.id)?k.delete(i.id):k.add(i.id),j.delete(i.id)):(j.has(i.id)?j.delete(i.id):j.add(i.id),k.delete(i.id));const C={...v,likesBy:Array.from(k),dislikesBy:Array.from(j)};n(S=>S.map(N=>N.id===b?C:N));try{await _.collection("reviews").update(b,{likesBy:C.likesBy,dislikesBy:C.dislikesBy}),v.userId!==i.id&&(await o({recipientId:v.userId,senderId:i.id,senderName:i.nickname,type:m,entityId:v.characterId,message:`${m==="like"?"оценил":"негативно оценил"} ваш комментарий.`}),await l())}catch(S){console.error(`Failed to toggle ${m}:`,S),S.status===404?(_n.error("Этот комментарий, похоже, был удален."),n(N=>N.filter(R=>R.id!==b))):(_n.error("Не удалось оценить комментарий."),n(N=>N.map(R=>R.id===b?g:R)))}},[i,t,o,l]),y=p.useCallback(b=>h(b,"like"),[h]),x=p.useCallback(b=>h(b,"dislike"),[h]),w={reviews:t,loading:r,addReview:d,updateReview:f,toggleReviewLike:y,toggleReviewDislike:x};return a.jsx(dx.Provider,{value:w,children:e})}const yo=()=>{const e=p.useContext(dx);if(!e)throw new Error("useReviews must be used within a ReviewsProvider");return e},Nf=p.createContext({});function Hs(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Tf=typeof window<"u",Pl=Tf?p.useLayoutEffect:p.useEffect,Rl=p.createContext(null);function Ef(e,t){e.indexOf(t)===-1&&e.push(t)}function Pf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ln=(e,t,n)=>n>t?t:n<e?e:n;let to=()=>{};const Nn={},fx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function hx(e){return typeof e=="object"&&e!==null}const px=e=>/^0[^.\s]+$/u.test(e);function Rf(e){let t;return()=>(t===void 0&&(t=e()),t)}const dt=e=>e,yj=(e,t)=>n=>t(e(n)),xo=(...e)=>e.reduce(yj),Os=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Af{constructor(){this.subscriptions=[]}add(t){return Ef(this.subscriptions,t),()=>Pf(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rn=e=>e*1e3,Lt=e=>e/1e3;function Lf(e,t){return t?e*(1e3/t):0}const mx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xj=1e-7,vj=12;function wj(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=mx(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>xj&&++l<vj);return o}function vo(e,t,n,r){if(e===t&&n===r)return dt;const s=i=>wj(i,0,1,e,n);return i=>i===0||i===1?i:mx(s(i),t,r)}const gx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yx=e=>t=>1-e(1-t),xx=vo(.33,1.53,.69,.99),Mf=yx(xx),vx=gx(Mf),wx=e=>(e*=2)<1?.5*Mf(e):.5*(2-Math.pow(2,-10*(e-1))),If=e=>1-Math.sin(Math.acos(e)),bx=yx(If),kx=gx(If),bj=vo(.42,0,1,1),kj=vo(0,0,.58,1),jx=vo(.42,0,.58,1),jj=e=>Array.isArray(e)&&typeof e[0]!="number",Cx=e=>Array.isArray(e)&&typeof e[0]=="number",Cj={linear:dt,easeIn:bj,easeInOut:jx,easeOut:kj,circIn:If,circInOut:kx,circOut:bx,backIn:Mf,backInOut:vx,backOut:xx,anticipate:wx},Sj=e=>typeof e=="string",Up=e=>{if(Cx(e)){to(e.length===4);const[t,n,r,s]=e;return vo(t,n,r,s)}else if(Sj(e))return Cj[e];return e},qo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Nj(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,h=!1)=>{const x=h&&s?n:r;return f&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const Tj=40;function Sx(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=qo.reduce((g,k)=>(g[k]=Nj(i),g),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:y,postRender:x}=o,w=()=>{const g=Nn.useManualTiming?s.timestamp:performance.now();n=!1,Nn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,Tj),1)),s.timestamp=g,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),y.process(s),x.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(w))},b=()=>{n=!0,r=!0,s.isProcessing||e(w)};return{schedule:qo.reduce((g,k)=>{const j=o[k];return g[k]=(C,S=!1,N=!1)=>(n||b(),j.schedule(C,S,N)),g},{}),cancel:g=>{for(let k=0;k<qo.length;k++)o[qo[k]].cancel(g)},state:s,steps:o}}const{schedule:ie,cancel:Yt,state:De,steps:Cc}=Sx(typeof requestAnimationFrame<"u"?requestAnimationFrame:dt,!0);let xa;function Ej(){xa=void 0}const at={now:()=>(xa===void 0&&at.set(De.isProcessing||Nn.useManualTiming?De.timestamp:performance.now()),xa),set:e=>{xa=e,queueMicrotask(Ej)}},Nx=e=>t=>typeof t=="string"&&t.startsWith(e),$f=Nx("--"),Pj=Nx("var(--"),Ff=e=>Pj(e)?Rj.test(e.split("/*")[0].trim()):!1,Rj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ks={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},no={...Ks,transform:e=>ln(0,1,e)},Yo={...Ks,default:1},Ni=e=>Math.round(e*1e5)/1e5,Df=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Aj(e){return e==null}const Lj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Of=(e,t)=>n=>!!(typeof n=="string"&&Lj.test(n)&&n.startsWith(e)||t&&!Aj(n)&&Object.prototype.hasOwnProperty.call(n,t)),Tx=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(Df);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Mj=e=>ln(0,255,e),Sc={...Ks,transform:e=>Math.round(Mj(e))},Nr={test:Of("rgb","red"),parse:Tx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Sc.transform(e)+", "+Sc.transform(t)+", "+Sc.transform(n)+", "+Ni(no.transform(r))+")"};function Ij(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ku={test:Of("#"),parse:Ij,transform:Nr.transform},wo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ln=wo("deg"),sn=wo("%"),q=wo("px"),$j=wo("vh"),Fj=wo("vw"),Wp={...sn,parse:e=>sn.parse(e)/100,transform:e=>sn.transform(e*100)},ms={test:Of("hsl","hue"),parse:Tx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+sn.transform(Ni(t))+", "+sn.transform(Ni(n))+", "+Ni(no.transform(r))+")"},Le={test:e=>Nr.test(e)||Ku.test(e)||ms.test(e),parse:e=>Nr.test(e)?Nr.parse(e):ms.test(e)?ms.parse(e):Ku.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Nr.transform(e):ms.transform(e),getAnimatableNone:e=>{const t=Le.parse(e);return t.alpha=0,Le.transform(t)}},Dj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Oj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Df))==null?void 0:t.length)||0)+(((n=e.match(Dj))==null?void 0:n.length)||0)>0}const Ex="number",Px="color",_j="var",Vj="var(",Hp="${}",Bj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ro(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Bj,c=>(Le.test(c)?(r.color.push(i),s.push(Px),n.push(Le.parse(c))):c.startsWith(Vj)?(r.var.push(i),s.push(_j),n.push(c)):(r.number.push(i),s.push(Ex),n.push(parseFloat(c))),++i,Hp)).split(Hp);return{values:n,split:l,indexes:r,types:s}}function Rx(e){return ro(e).values}function Ax(e){const{split:t,types:n}=ro(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===Ex?i+=Ni(s[o]):l===Px?i+=Le.transform(s[o]):i+=s[o]}return i}}const zj=e=>typeof e=="number"?0:Le.test(e)?Le.getAnimatableNone(e):e;function Uj(e){const t=Rx(e);return Ax(e)(t.map(zj))}const sr={test:Oj,parse:Rx,createTransformer:Ax,getAnimatableNone:Uj};function Nc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Wj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Nc(c,l,e+1/3),i=Nc(c,l,e),o=Nc(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Qa(e,t){return n=>n>0?t:e}const xe=(e,t,n)=>e+(t-e)*n,Tc=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Hj=[Ku,Nr,ms],Kj=e=>Hj.find(t=>t.test(e));function Kp(e){const t=Kj(e);if(!t)return!1;let n=t.parse(e);return t===ms&&(n=Wj(n)),n}const Gp=(e,t)=>{const n=Kp(e),r=Kp(t);if(!n||!r)return Qa(e,t);const s={...n};return i=>(s.red=Tc(n.red,r.red,i),s.green=Tc(n.green,r.green,i),s.blue=Tc(n.blue,r.blue,i),s.alpha=xe(n.alpha,r.alpha,i),Nr.transform(s))},Gu=new Set(["none","hidden"]);function Gj(e,t){return Gu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function qj(e,t){return n=>xe(e,t,n)}function _f(e){return typeof e=="number"?qj:typeof e=="string"?Ff(e)?Qa:Le.test(e)?Gp:Qj:Array.isArray(e)?Lx:typeof e=="object"?Le.test(e)?Gp:Yj:Qa}function Lx(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>_f(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Yj(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=_f(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Xj(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],l=e.values[o]??0;n[s]=l,r[i]++}return n}const Qj=(e,t)=>{const n=sr.createTransformer(t),r=ro(e),s=ro(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Gu.has(e)&&!s.values.length||Gu.has(t)&&!r.values.length?Gj(e,t):xo(Lx(Xj(r,s),s.values),n):Qa(e,t)};function Mx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?xe(e,t,n):_f(e)(e,t)}const Zj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ie.update(t,n),stop:()=>Yt(t),now:()=>De.isProcessing?De.timestamp:at.now()}},Ix=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Za=2e4;function Vf(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Za;)t+=n,r=e.next(t);return t>=Za?1/0:t}function Jj(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Vf(r),Za);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:Lt(s)}}const eC=5;function $x(e,t,n){const r=Math.max(t-eC,0);return Lf(n-e(r),t-r)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ec=.001;function tC({duration:e=Ce.duration,bounce:t=Ce.bounce,velocity:n=Ce.velocity,mass:r=Ce.mass}){let s,i,o=1-t;o=ln(Ce.minDamping,Ce.maxDamping,o),e=ln(Ce.minDuration,Ce.maxDuration,Lt(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-n,y=qu(u,o),x=Math.exp(-f);return Ec-h/y*x},i=u=>{const f=u*o*e,h=f*n+n,y=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-f),w=qu(Math.pow(u,2),o);return(-s(u)+Ec>0?-1:1)*((h-y)*x)/w}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Ec+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=rC(s,i,l);if(e=rn(e),isNaN(c))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const nC=12;function rC(e,t,n){let r=n;for(let s=1;s<nC;s++)r=r-e(r)/t(r);return r}function qu(e,t){return e*Math.sqrt(1-t*t)}const sC=["duration","bounce"],iC=["stiffness","damping","mass"];function qp(e,t){return t.some(n=>e[n]!==void 0)}function oC(e){let t={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...e};if(!qp(e,iC)&&qp(e,sC))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*ln(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ce.mass,stiffness:s,damping:i}}else{const n=tC(e);t={...t,...n,mass:Ce.mass},t.isResolvedFromDuration=!0}return t}function Ja(e=Ce.visualDuration,t=Ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:y}=oC({...n,velocity:-Lt(n.velocity||0)}),x=h||0,w=u/(2*Math.sqrt(c*d)),b=o-i,m=Lt(Math.sqrt(c/d)),v=Math.abs(b)<5;r||(r=v?Ce.restSpeed.granular:Ce.restSpeed.default),s||(s=v?Ce.restDelta.granular:Ce.restDelta.default);let g;if(w<1){const j=qu(m,w);g=C=>{const S=Math.exp(-w*m*C);return o-S*((x+w*m*b)/j*Math.sin(j*C)+b*Math.cos(j*C))}}else if(w===1)g=j=>o-Math.exp(-m*j)*(b+(x+m*b)*j);else{const j=m*Math.sqrt(w*w-1);g=C=>{const S=Math.exp(-w*m*C),N=Math.min(j*C,300);return o-S*((x+w*m*b)*Math.sinh(N)+j*b*Math.cosh(N))/j}}const k={calculatedDuration:y&&f||null,next:j=>{const C=g(j);if(y)l.done=j>=f;else{let S=j===0?x:0;w<1&&(S=j===0?rn(x):$x(g,j,C));const N=Math.abs(S)<=r,R=Math.abs(o-C)<=s;l.done=N&&R}return l.value=l.done?o:C,l},toString:()=>{const j=Math.min(Vf(k),Za),C=Ix(S=>k.next(j*S).value,j,30);return j+"ms "+C},toTransition:()=>{}};return k}Ja.applyToOptions=e=>{const t=Jj(e,100,Ja);return e.ease=t.ease,e.duration=rn(t.duration),e.type="keyframes",e};function Yu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},y=N=>l!==void 0&&N<l||c!==void 0&&N>c,x=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let w=n*t;const b=f+w,m=o===void 0?b:o(b);m!==b&&(w=m-f);const v=N=>-w*Math.exp(-N/r),g=N=>m+v(N),k=N=>{const R=v(N),T=g(N);h.done=Math.abs(R)<=u,h.value=h.done?m:T};let j,C;const S=N=>{y(h.value)&&(j=N,C=Ja({keyframes:[h.value,x(h.value)],velocity:$x(g,N,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:N=>{let R=!1;return!C&&j===void 0&&(R=!0,k(N),S(N)),j!==void 0&&N>=j?C.next(N-j):(!R&&k(N),h)}}}function aC(e,t,n){const r=[],s=n||Nn.mix||Mx,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||dt:t;l=xo(c,l)}r.push(l)}return r}function Bf(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(to(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=aC(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Os(e[f],e[f+1],d);return l[f](h)};return n?d=>u(ln(e[0],e[i-1],d)):u}function lC(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Os(0,t,r);e.push(xe(n,1,s))}}function Fx(e){const t=[0];return lC(t,e.length-1),t}function cC(e,t){return e.map(n=>n*t)}function uC(e,t){return e.map(()=>t||jx).splice(0,e.length-1)}function Ti({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=jj(r)?r.map(Up):Up(r),i={done:!1,value:t[0]},o=cC(n&&n.length===t.length?n:Fx(t),e),l=Bf(o,t,{ease:Array.isArray(s)?s:uC(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const dC=e=>e!==null;function zf(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(dC),l=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const fC={decay:Yu,inertia:Yu,tween:Ti,keyframes:Ti,spring:Ja};function Dx(e){typeof e.type=="string"&&(e.type=fC[e.type])}class Uf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const hC=e=>e/100;class Wf extends Uf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==at.now()&&this.tick(at.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Dx(t);const{type:n=Ti,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Ti;c!==Ti&&typeof l[0]!="number"&&(this.mixKeyframes=xo(hC,Mx(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Vf(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:y,type:x,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const m=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?m<0:m>s;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,k=r;if(f){const N=Math.min(this.currentTime,s)/l;let R=Math.floor(N),T=N%1;!T&&N>=1&&(T=1),T===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(h==="reverse"?(T=1-T,y&&(T-=y/l)):h==="mirror"&&(k=o)),g=ln(0,1,T)*l}const j=v?{done:!1,value:d[0]}:k.next(g);i&&(j.value=i(j.value));let{done:C}=j;!v&&c!==null&&(C=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&x!==Yu&&(j.value=zf(d,this.options,b,this.speed)),w&&w(j.value),S&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return Lt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Lt(t)}get time(){return Lt(this.currentTime)}set time(t){var n;t=rn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(at.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Lt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=Zj,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(at.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function pC(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Tr=e=>e*180/Math.PI,Xu=e=>{const t=Tr(Math.atan2(e[1],e[0]));return Qu(t)},mC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xu,rotateZ:Xu,skewX:e=>Tr(Math.atan(e[1])),skewY:e=>Tr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Qu=e=>(e=e%360,e<0&&(e+=360),e),Yp=Xu,Xp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Qp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),gC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xp,scaleY:Qp,scale:e=>(Xp(e)+Qp(e))/2,rotateX:e=>Qu(Tr(Math.atan2(e[6],e[5]))),rotateY:e=>Qu(Tr(Math.atan2(-e[2],e[0]))),rotateZ:Yp,rotate:Yp,skewX:e=>Tr(Math.atan(e[4])),skewY:e=>Tr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Zu(e){return e.includes("scale")?1:0}function Ju(e,t){if(!e||e==="none")return Zu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=gC,s=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=mC,s=l}if(!s)return Zu(t);const i=r[t],o=s[1].split(",").map(xC);return typeof i=="function"?i(o):o[i]}const yC=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ju(n,t)};function xC(e){return parseFloat(e.trim())}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(Gs),Zp=e=>e===Ks||e===q,vC=new Set(["x","y","z"]),wC=Gs.filter(e=>!vC.has(e));function bC(e){const t=[];return wC.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ar={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ju(t,"x"),y:(e,{transform:t})=>Ju(t,"y")};Ar.translateX=Ar.x;Ar.translateY=Ar.y;const Lr=new Set;let ed=!1,td=!1,nd=!1;function Ox(){if(td){const e=Array.from(Lr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=bC(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}td=!1,ed=!1,Lr.forEach(e=>e.complete(nd)),Lr.clear()}function _x(){Lr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(td=!0)})}function kC(){nd=!0,_x(),Ox(),nd=!1}class Hf{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Lr.add(this),ed||(ed=!0,ie.read(_x),ie.resolveKeyframes(Ox))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}pC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Lr.delete(this)}cancel(){this.state==="scheduled"&&(Lr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jC=e=>e.startsWith("--");function CC(e,t,n){jC(t)?e.style.setProperty(t,n):e.style[t]=n}const Vx=Rf(()=>window.ScrollTimeline!==void 0),SC={};function NC(e,t){const n=Rf(e);return()=>SC[t]??n()}const Bx=NC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),di=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Jp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:di([0,.65,.55,1]),circOut:di([.55,0,1,.45]),backIn:di([.31,.01,.66,-.59]),backOut:di([.33,1.53,.69,.99])};function zx(e,t){if(e)return typeof e=="function"?Bx()?Ix(e,t):"ease-out":Cx(e)?di(e):Array.isArray(e)?e.map(n=>zx(n,t)||Jp.easeOut):Jp[e]}function TC(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=zx(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function Ux(e){return typeof e=="function"&&"applyToOptions"in e}function EC({type:e,...t}){return Ux(e)&&Bx()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class PC extends Uf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,to(typeof t.type!="string");const u=EC(t);this.animation=TC(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=zf(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):CC(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Lt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Lt(t)}get time(){return Lt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=rn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Vx()?(this.animation.timeline=t,dt):n(this)}}const Wx={anticipate:wx,backInOut:vx,circInOut:kx};function RC(e){return e in Wx}function AC(e){typeof e.ease=="string"&&RC(e.ease)&&(e.ease=Wx[e.ease])}const em=10;class LC extends PC{constructor(t){AC(t),Dx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Wf({...o,autoplay:!1}),c=rn(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-em).value,l.sample(c).value,em),l.stop()}}const tm=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(sr.test(e)||e==="0")&&!e.startsWith("url("));function MC(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function IC(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=tm(s,t),l=tm(i,t);return!o||!l?!1:MC(e)||(n==="spring"||Ux(n))&&r}function rd(e){e.duration=0,e.type="keyframes"}const $C=new Set(["opacity","clipPath","filter","transform"]),FC=Rf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DC(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return FC()&&n&&$C.has(n)&&(n!=="transform"||!u)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const OC=40;class _C extends Uf{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var x;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=at.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},y=(d==null?void 0:d.KeyframeResolver)||Hf;this.keyframeResolver=new y(l,(w,b,m)=>this.onKeyframesResolved(w,b,h,!m),c,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=at.now(),IC(t,i,o,l)||((Nn.instantAnimations||!c)&&(d==null||d(zf(t,r,n))),t[0]=t[t.length-1],rd(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>OC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!u&&DC(h)?new LC({...h,element:h.motionValue.owner.current}):new Wf(h);y.finished.then(()=>this.notifyFinished()).catch(dt),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),kC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const VC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BC(e){const t=VC.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Hx(e,t,n=1){const[r,s]=BC(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return fx(o)?parseFloat(o):o}return Ff(s)?Hx(s,t,n+1):s}function Kf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Kx=new Set(["width","height","top","left","right","bottom",...Gs]),zC={test:e=>e==="auto",parse:e=>e},Gx=e=>t=>t.test(e),qx=[Ks,q,sn,Ln,Fj,$j,zC],nm=e=>qx.find(Gx(e));function UC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||px(e):!0}const WC=new Set(["brightness","contrast","saturate","opacity"]);function HC(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Df)||[];if(!r)return e;const s=n.replace(r,"");let i=WC.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const KC=/\b([a-z-]*)\(.*?\)/gu,sd={...sr,getAnimatableNone:e=>{const t=e.match(KC);return t?t.map(HC).join(" "):e}},rm={...Ks,transform:Math.round},GC={rotate:Ln,rotateX:Ln,rotateY:Ln,rotateZ:Ln,scale:Yo,scaleX:Yo,scaleY:Yo,scaleZ:Yo,skew:Ln,skewX:Ln,skewY:Ln,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:no,originX:Wp,originY:Wp,originZ:q},Gf={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q,...GC,zIndex:rm,fillOpacity:no,strokeOpacity:no,numOctaves:rm},qC={...Gf,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:sd,WebkitFilter:sd},Yx=e=>qC[e];function Xx(e,t){let n=Yx(e);return n!==sd&&(n=sr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YC=new Set(["auto","none","0"]);function XC(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!YC.has(i)&&ro(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=Xx(n,s)}class QC extends Hf{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Ff(u))){const d=Hx(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Kx.has(r)||t.length!==2)return;const[s,i]=t,o=nm(s),l=nm(i);if(o!==l)if(Zp(o)&&Zp(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Ar[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||UC(t[s]))&&r.push(s);r.length&&XC(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ar[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ar[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Qx(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Zx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function qf(e){return hx(e)&&"offsetHeight"in e}const sm=30,ZC=e=>!isNaN(parseFloat(e)),Ei={current:void 0};class JC{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=at.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=at.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ZC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Af);const r=this.events[t].add(n);return t==="change"?()=>{r(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ei.current&&Ei.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=at.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sm);return Lf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ut(e,t){return new JC(e,t)}const{schedule:Yf}=Sx(queueMicrotask,!1),_t={x:!1,y:!1};function Jx(){return _t.x||_t.y}function eS(e){return e==="x"||e==="y"?_t[e]?null:(_t[e]=!0,()=>{_t[e]=!1}):_t.x||_t.y?null:(_t.x=_t.y=!0,()=>{_t.x=_t.y=!1})}function ev(e,t){const n=Qx(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function im(e){return!(e.pointerType==="touch"||Jx())}function tS(e,t,n={}){const[r,s,i]=ev(e,n),o=l=>{if(!im(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{im(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const tv=(e,t)=>t?e===t?!0:tv(e,t.parentElement):!1,Xf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rS(e){return nS.has(e.tagName)||e.tabIndex!==-1}const va=new WeakSet;function om(e){return t=>{t.key==="Enter"&&e(t)}}function Pc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sS=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=om(()=>{if(va.has(n))return;Pc(n,"down");const s=om(()=>{Pc(n,"up")}),i=()=>Pc(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function am(e){return Xf(e)&&!Jx()}function iS(e,t,n={}){const[r,s,i]=ev(e,n),o=l=>{const c=l.currentTarget;if(!am(l))return;va.add(c);const u=t(c,l),d=(y,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),va.has(c)&&va.delete(c),am(y)&&typeof u=="function"&&u(y,{success:x})},f=y=>{d(y,c===window||c===document||n.useGlobalTarget||tv(c,y.target))},h=y=>{d(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),qf(l)&&(l.addEventListener("focus",u=>sS(u,s)),!rS(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Qf(e){return hx(e)&&"ownerSVGElement"in e}const wa=new WeakMap;let Mn;const nv=(e,t,n)=>(r,s)=>s&&s[0]?s[0][e+"Size"]:Qf(r)&&"getBBox"in r?r.getBBox()[t]:r[n],oS=nv("inline","width","offsetWidth"),aS=nv("block","height","offsetHeight");function lS({target:e,borderBoxSize:t}){var n;(n=wa.get(e))==null||n.forEach(r=>{r(e,{get width(){return oS(e,t)},get height(){return aS(e,t)}})})}function cS(e){e.forEach(lS)}function uS(){typeof ResizeObserver>"u"||(Mn=new ResizeObserver(cS))}function dS(e,t){Mn||uS();const n=Qx(e);return n.forEach(r=>{let s=wa.get(r);s||(s=new Set,wa.set(r,s)),s.add(t),Mn==null||Mn.observe(r)}),()=>{n.forEach(r=>{const s=wa.get(r);s==null||s.delete(t),s!=null&&s.size||Mn==null||Mn.unobserve(r)})}}const ba=new Set;let gs;function fS(){gs=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};ba.forEach(t=>t(e))},window.addEventListener("resize",gs)}function hS(e){return ba.add(e),gs||fS(),()=>{ba.delete(e),!ba.size&&typeof gs=="function"&&(window.removeEventListener("resize",gs),gs=void 0)}}function pS(e,t){return typeof e=="function"?hS(e):dS(e,t)}function rv(e,t){let n;const r=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;n!==o&&e(o),n=o};return ie.preUpdate(r,!0),()=>Yt(r)}function mS(e){return Qf(e)&&e.tagName==="svg"}function gS(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],i=e[2+n],o=e[3+n],l=Bf(s,i,o);return t?l(r):l}const qe=e=>!!(e&&e.getVelocity),yS=[...qx,Le,sr],xS=e=>yS.find(Gx(e)),Al=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function lm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vS(...e){return t=>{let n=!1;const r=e.map(s=>{const i=lm(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():lm(e[s],null)}}}}function wS(...e){return p.useCallback(vS(...e),e)}class bS extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=qf(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kS({children:e,isPresent:t,anchorX:n,root:r}){const s=p.useId(),i=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(Al),c=wS(i,e==null?void 0:e.ref);return p.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:h,right:y}=o.current;if(t||!i.current||!u||!d)return;const x=n==="left"?`left: ${h}`:`right: ${y}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");l&&(w.nonce=l);const b=r??document.head;return b.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{b.contains(w)&&b.removeChild(w)}},[t]),a.jsx(bS,{isPresent:t,childRef:i,sizeRef:o,children:p.cloneElement(e,{ref:c})})}const jS=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=Hs(CS),d=p.useId();let f=!0,h=p.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:s,onExitComplete:y=>{u.set(y,!0);for(const x of u.values())if(!x)return;r&&r()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[n,u,r]);return i&&f&&(h={...h}),p.useMemo(()=>{u.forEach((y,x)=>u.set(x,!1))},[n]),p.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(kS,{isPresent:n,anchorX:l,root:c,children:e})),a.jsx(Rl.Provider,{value:h,children:e})};function CS(){return new Map}function sv(e=!0){const t=p.useContext(Rl);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{if(e)return s(i)},[e]);const o=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Xo=e=>e.key||"";function cm(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Te=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=sv(o),f=p.useMemo(()=>cm(e),[e]),h=o&&!u?[]:f.map(Xo),y=p.useRef(!0),x=p.useRef(f),w=Hs(()=>new Map),[b,m]=p.useState(f),[v,g]=p.useState(f);Pl(()=>{y.current=!1,x.current=f;for(let C=0;C<v.length;C++){const S=Xo(v[C]);h.includes(S)?w.delete(S):w.get(S)!==!0&&w.set(S,!1)}},[v,h.length,h.join("-")]);const k=[];if(f!==b){let C=[...f];for(let S=0;S<v.length;S++){const N=v[S],R=Xo(N);h.includes(R)||(C.splice(S,0,N),k.push(N))}return i==="wait"&&k.length&&(C=k),g(cm(C)),m(f),null}const{forceRender:j}=p.useContext(Nf);return a.jsx(a.Fragment,{children:v.map(C=>{const S=Xo(C),N=o&&!u?!1:f===v||h.includes(S),R=()=>{if(w.has(S))w.set(S,!0);else return;let T=!0;w.forEach($=>{$||(T=!1)}),T&&(j==null||j(),g(x.current),o&&(d==null||d()),r&&r())};return a.jsx(jS,{isPresent:N,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:N?void 0:R,anchorX:l,children:C},S)})})},iv=p.createContext({strict:!1}),um={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_s={};for(const e in um)_s[e]={isEnabled:t=>um[e].some(n=>!!t[n])};function SS(e){for(const t in e)_s[t]={..._s[t],...e[t]}}const NS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function el(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||NS.has(e)}let ov=e=>!el(e);function TS(e){typeof e=="function"&&(ov=t=>t.startsWith("on")?!el(t):e(t))}try{TS(require("@emotion/is-prop-valid").default)}catch{}function ES(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(ov(s)||n===!0&&el(s)||!t&&!el(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Ll=p.createContext({});function Ml(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function so(e){return typeof e=="string"||Array.isArray(e)}const Zf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jf=["initial",...Zf];function Il(e){return Ml(e.animate)||Jf.some(t=>so(e[t]))}function av(e){return!!(Il(e)||e.variants)}function PS(e,t){if(Il(e)){const{initial:n,animate:r}=e;return{initial:n===!1||so(n)?n:void 0,animate:so(r)?r:void 0}}return e.inherit!==!1?t:{}}function RS(e){const{initial:t,animate:n}=PS(e,p.useContext(Ll));return p.useMemo(()=>({initial:t,animate:n}),[dm(t),dm(n)])}function dm(e){return Array.isArray(e)?e.join(" "):e}const io={};function AS(e){for(const t in e)io[t]=e[t],$f(t)&&(io[t].isCSSVariable=!0)}function lv(e,{layout:t,layoutId:n}){return qs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!io[e]||e==="opacity")}const LS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MS=Gs.length;function IS(e,t,n){let r="",s=!0;for(let i=0;i<MS;i++){const o=Gs[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Zx(l,Gf[o]);if(!c){s=!1;const d=LS[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function eh(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(qs.has(c)){o=!0;continue}else if($f(c)){s[c]=u;continue}else{const d=Zx(u,Gf[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=IS(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const th=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cv(e,t,n){for(const r in t)!qe(t[r])&&!lv(r,n)&&(e[r]=t[r])}function $S({transformTemplate:e},t){return p.useMemo(()=>{const n=th();return eh(n,t,e),Object.assign({},n.vars,n.style)},[t])}function FS(e,t){const n=e.style||{},r={};return cv(r,n,e),Object.assign(r,$S(e,t)),r}function DS(e,t){const n={},r=FS(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const OS={offset:"stroke-dashoffset",array:"stroke-dasharray"},_S={offset:"strokeDashoffset",array:"strokeDasharray"};function VS(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?OS:_S;e[i.offset]=q.transform(-r);const o=q.transform(t),l=q.transform(n);e[i.array]=`${o} ${l}`}function uv(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(eh(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&VS(f,s,i,o,!1)}const dv=()=>({...th(),attrs:{}}),fv=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BS(e,t,n,r){const s=p.useMemo(()=>{const i=dv();return uv(i,t,fv(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};cv(i,e.style,e),s.style={...i,...s.style}}return s}const zS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nh(e){return typeof e!="string"||e.includes("-")?!1:!!(zS.indexOf(e)>-1||/[A-Z]/u.test(e))}function US(e,t,n,{latestValues:r},s,i=!1){const l=(nh(e)?BS:DS)(t,r,s,e),c=ES(t,typeof e=="string",i),u=e!==p.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=p.useMemo(()=>qe(d)?d.get():d,[d]);return p.createElement(e,{...u,children:f})}function fm(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function rh(e,t,n,r){if(typeof t=="function"){const[s,i]=fm(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=fm(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function ka(e){return qe(e)?e.get():e}function WS({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:HS(n,r,s,e),renderState:t()}}function HS(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=ka(i[h]);let{initial:o,animate:l}=e;const c=Il(e),u=av(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!Ml(f)){const h=Array.isArray(f)?f:[f];for(let y=0;y<h.length;y++){const x=rh(e,h[y]);if(x){const{transitionEnd:w,transition:b,...m}=x;for(const v in m){let g=m[v];if(Array.isArray(g)){const k=d?g.length-1:0;g=g[k]}g!==null&&(s[v]=g)}for(const v in w)s[v]=w[v]}}}return s}const hv=e=>(t,n)=>{const r=p.useContext(Ll),s=p.useContext(Rl),i=()=>WS(e,t,r,s);return n?i():Hs(i)};function sh(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(qe(r[o])||t.style&&qe(t.style[o])||lv(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const KS=hv({scrapeMotionValuesFromProps:sh,createRenderState:th});function pv(e,t,n){const r=sh(e,t,n);for(const s in e)if(qe(e[s])||qe(t[s])){const i=Gs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const GS=hv({scrapeMotionValuesFromProps:pv,createRenderState:dv}),qS=Symbol.for("motionComponentSymbol");function ys(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function YS(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ys(n)&&(n.current=r))},[t])}const ih=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XS="framerAppearId",mv="data-"+ih(XS),gv=p.createContext({});function QS(e,t,n,r,s){var w,b;const{visualElement:i}=p.useContext(Ll),o=p.useContext(iv),l=p.useContext(Rl),c=p.useContext(Al).reducedMotion,u=p.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=p.useContext(gv);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&ZS(u.current,n,s,f);const h=p.useRef(!1);p.useInsertionEffect(()=>{d&&h.current&&d.update(n,l)});const y=n[mv],x=p.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,y)));return Pl(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)==null||m.call(window,y)}),x.current=!1),d.enteringChildren=void 0)}),d}function ZS(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:yv(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&ys(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function yv(e){if(e)return e.options.allowProjection!==!1?e.projection:yv(e.parent)}function Rc(e,{forwardMotionProps:t=!1}={},n,r){n&&SS(n);const s=nh(e)?GS:KS;function i(l,c){let u;const d={...p.useContext(Al),...l,layoutId:JS(l)},{isStatic:f}=d,h=RS(l),y=s(l,f);if(!f&&Tf){eN();const x=tN(d);u=x.MeasureLayout,h.visualElement=QS(e,y,d,r,x.ProjectionNode)}return a.jsxs(Ll.Provider,{value:h,children:[u&&h.visualElement?a.jsx(u,{visualElement:h.visualElement,...d}):null,US(e,l,YS(y,h.visualElement,c),y,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=p.forwardRef(i);return o[qS]=e,o}function JS({layoutId:e}){const t=p.useContext(Nf).id;return t&&e!==void 0?t+"-"+e:e}function eN(e,t){p.useContext(iv).strict}function tN(e){const{drag:t,layout:n}=_s;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nN(e,t){if(typeof Proxy>"u")return Rc;const n=new Map,r=(i,o)=>Rc(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Rc(o,void 0,e,t)),n.get(o))})}function xv({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function rN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ac(e){return e===void 0||e===1}function id({scale:e,scaleX:t,scaleY:n}){return!Ac(e)||!Ac(t)||!Ac(n)}function yr(e){return id(e)||vv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function vv(e){return hm(e.x)||hm(e.y)}function hm(e){return e&&e!=="0%"}function tl(e,t,n){const r=e-n,s=t*r;return n+s}function pm(e,t,n,r,s){return s!==void 0&&(e=tl(e,s,r)),tl(e,n,r)+t}function od(e,t=0,n=1,r,s){e.min=pm(e.min,t,n,r,s),e.max=pm(e.max,t,n,r,s)}function wv(e,{x:t,y:n}){od(e.x,t.translate,t.scale,t.originPoint),od(e.y,n.translate,n.scale,n.originPoint)}const mm=.999999999999,gm=1.0000000000001;function iN(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wv(e,o)),r&&yr(i.latestValues)&&vs(e,i.latestValues))}t.x<gm&&t.x>mm&&(t.x=1),t.y<gm&&t.y>mm&&(t.y=1)}function xs(e,t){e.min=e.min+t,e.max=e.max+t}function ym(e,t,n,r,s=.5){const i=xe(e.min,e.max,s);od(e,t,n,i,r)}function vs(e,t){ym(e.x,t.x,t.scaleX,t.scale,t.originX),ym(e.y,t.y,t.scaleY,t.scale,t.originY)}function bv(e,t){return xv(sN(e.getBoundingClientRect(),t))}function oN(e,t,n){const r=bv(e,n),{scroll:s}=t;return s&&(xs(r.x,s.offset.x),xs(r.y,s.offset.y)),r}const xm=()=>({translate:0,scale:1,origin:0,originPoint:0}),ws=()=>({x:xm(),y:xm()}),vm=()=>({min:0,max:0}),Ee=()=>({x:vm(),y:vm()}),nl={current:null},oh={current:!1};function kv(){if(oh.current=!0,!!Tf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nl.current=e.matches;e.addEventListener("change",t),t()}else nl.current=!1}const aN=new WeakMap;function lN(e,t,n){for(const r in t){const s=t[r],i=n[r];if(qe(s))e.addValue(r,s);else if(qe(i))e.addValue(r,Ut(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ut(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const wm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cN{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=at.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ie.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Il(n),this.isVariantNode=av(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const y=f[h];c[h]!==void 0&&qe(y)&&y.set(c[h])}}mount(t){var n;this.current=t,aN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),oh.current||kv(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nl.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Yt(this.notifyUpdate),Yt(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=qs.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _s){const n=_s[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<wm.length;r++){const s=wm[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=lN(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ut(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(fx(r)||px(r))?r=parseFloat(r):!xS(r)&&sr.test(n)&&(r=Xx(t,n)),this.setBaseTarget(t,qe(r)?r.get():r)),qe(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=rh(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!qe(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Af),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Yf.render(this.render)}}class jv extends cN{constructor(){super(...arguments),this.KeyframeResolver=QC}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cv(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function uN(e){return window.getComputedStyle(e)}class dN extends jv{constructor(){super(...arguments),this.type="html",this.renderInstance=Cv}readValueFromInstance(t,n){var r;if(qs.has(n))return(r=this.projection)!=null&&r.isProjecting?Zu(n):yC(t,n);{const s=uN(t),i=($f(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return bv(t,n)}build(t,n,r){eh(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return sh(t,n,r)}}const Sv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fN(e,t,n,r){Cv(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Sv.has(s)?s:ih(s),t.attrs[s])}class hN extends jv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(qs.has(n)){const r=Yx(n);return r&&r.default||0}return n=Sv.has(n)?n:ih(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return pv(t,n,r)}build(t,n,r){uv(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){fN(t,n,r,s)}mount(t){this.isSVGTag=fv(t.tagName),super.mount(t)}}const pN=(e,t)=>nh(e)?new hN(t):new dN(t,{allowProjection:e!==p.Fragment});function Ps(e,t,n){const r=e.getProps();return rh(r,t,n!==void 0?n:r.custom,e)}const ad=e=>Array.isArray(e);function mN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ut(n))}function gN(e){return ad(e)?e[e.length-1]||0:e}function yN(e,t){const n=Ps(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=gN(i[o]);mN(e,o,l)}}function xN(e){return!!(qe(e)&&e.add)}function ld(e,t){const n=e.getValue("willChange");if(xN(n))return n.add(t);if(!n&&Nn.WillChange){const r=new Nn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Nv(e){return e.props[mv]}const vN=e=>e!==null;function wN(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(vN),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const bN={type:"spring",stiffness:500,damping:25,restSpeed:10},kN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jN={type:"keyframes",duration:.8},CN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SN=(e,{keyframes:t})=>t.length>2?jN:qs.has(e)?e.startsWith("scale")?kN(t[1]):bN:CN;function NN({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const ah=(e,t,n,r={},s,i)=>o=>{const l=Kf(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-rn(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};NN(l)||Object.assign(d,SN(e,d)),d.duration&&(d.duration=rn(d.duration)),d.repeatDelay&&(d.repeatDelay=rn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(rd(d),d.delay===0&&(f=!0)),(Nn.instantAnimations||Nn.skipAnimations)&&(f=!0,rd(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=wN(d.keyframes,l);if(h!==void 0){ie.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new Wf(d):new _C(d)};function TN({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Tv(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&TN(u,d))continue;const y={delay:n,...Kf(i||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===x&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const m=Nv(e);if(m){const v=window.MotionHandoffAnimation(m,d,ie);v!==null&&(y.startTime=v,w=!0)}}ld(e,d),f.start(ah(d,f,h,e.shouldReduceMotion&&Kx.has(d)?{type:!1}:y,e,w));const b=f.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{ie.update(()=>{o&&yN(e,o)})}),c}function Ev(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function cd(e,t,n={}){var c;const r=Ps(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Tv(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return EN(e,t,u,d,f,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function EN(e,t,n=0,r=0,s=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(cd(c,t,{...o,delay:n+(typeof r=="function"?0:r)+Ev(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function PN(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>cd(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=cd(e,t,n);else{const s=typeof t=="function"?Ps(e,t,n.custom):t;r=Promise.all(Tv(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Pv(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const RN=Jf.length;function Rv(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Rv(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<RN;n++){const r=Jf[n],s=e.props[r];(so(s)||s===!1)&&(t[r]=s)}return t}const AN=[...Zf].reverse(),LN=Zf.length;function MN(e){return t=>Promise.all(t.map(({animation:n,options:r})=>PN(e,n,r)))}function IN(e){let t=MN(e),n=bm(),r=!0;const s=c=>(u,d)=>{var h;const f=Ps(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:y,transitionEnd:x,...w}=f;u={...u,...w,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=Rv(e.parent)||{},f=[],h=new Set;let y={},x=1/0;for(let b=0;b<LN;b++){const m=AN[b],v=n[m],g=u[m]!==void 0?u[m]:d[m],k=so(g),j=m===c?v.isActive:null;j===!1&&(x=b);let C=g===d[m]&&g!==u[m]&&k;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),v.protectedKeys={...y},!v.isActive&&j===null||!g&&!v.prevProp||Ml(g)||typeof g=="boolean")continue;const S=$N(v.prevProp,g);let N=S||m===c&&v.isActive&&!C&&k||b>x&&k,R=!1;const T=Array.isArray(g)?g:[g];let $=T.reduce(s(m),{});j===!1&&($={});const{prevResolvedValues:F={}}=v,Q={...F,...$},re=ee=>{N=!0,h.has(ee)&&(R=!0,h.delete(ee)),v.needsAnimating[ee]=!0;const A=e.getValue(ee);A&&(A.liveStyle=!1)};for(const ee in Q){const A=$[ee],O=F[ee];if(y.hasOwnProperty(ee))continue;let U=!1;ad(A)&&ad(O)?U=!Pv(A,O):U=A!==O,U?A!=null?re(ee):h.add(ee):A!==void 0&&h.has(ee)?re(ee):v.protectedKeys[ee]=!0}v.prevProp=g,v.prevResolvedValues=$,v.isActive&&(y={...y,...$}),r&&e.blockInitialAnimation&&(N=!1);const ce=C&&S;N&&(!ce||R)&&f.push(...T.map(ee=>{const A={type:m};if(typeof ee=="string"&&r&&!ce&&e.manuallyAnimateOnMount&&e.parent){const{parent:O}=e,U=Ps(O,ee);if(O.enteringChildren&&U){const{delayChildren:I}=U.transition||{};A.delay=Ev(O.enteringChildren,e,I)}}return{animation:ee,options:A}}))}if(h.size){const b={};if(typeof u.initial!="boolean"){const m=Ps(e,Array.isArray(u.initial)?u.initial[0]:u.initial);m&&m.transition&&(b.transition=m.transition)}h.forEach(m=>{const v=e.getBaseTarget(m),g=e.getValue(m);g&&(g.liveStyle=!0),b[m]=v??null}),f.push({animation:b})}let w=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var y;return(y=h.animationState)==null?void 0:y.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=bm()}}}function $N(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Pv(t,e):!1}function hr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bm(){return{animate:hr(!0),whileInView:hr(),whileHover:hr(),whileTap:hr(),whileDrag:hr(),whileFocus:hr(),exit:hr()}}class cr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class FN extends cr{constructor(t){super(t),t.animationState||(t.animationState=IN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ml(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let DN=0;class ON extends cr{constructor(){super(...arguments),this.id=DN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _N={animation:{Feature:FN},exit:{Feature:ON}};function oo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function bo(e){return{point:{x:e.pageX,y:e.pageY}}}const VN=e=>t=>Xf(t)&&e(t,bo(t));function Pi(e,t,n,r){return oo(e,t,VN(n),r)}const Av=1e-4,BN=1-Av,zN=1+Av,Lv=.01,UN=0-Lv,WN=0+Lv;function Ze(e){return e.max-e.min}function HN(e,t,n){return Math.abs(e-t)<=n}function km(e,t,n,r=.5){e.origin=r,e.originPoint=xe(t.min,t.max,e.origin),e.scale=Ze(n)/Ze(t),e.translate=xe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=BN&&e.scale<=zN||isNaN(e.scale))&&(e.scale=1),(e.translate>=UN&&e.translate<=WN||isNaN(e.translate))&&(e.translate=0)}function Ri(e,t,n,r){km(e.x,t.x,n.x,r?r.originX:void 0),km(e.y,t.y,n.y,r?r.originY:void 0)}function jm(e,t,n){e.min=n.min+t.min,e.max=e.min+Ze(t)}function KN(e,t,n){jm(e.x,t.x,n.x),jm(e.y,t.y,n.y)}function Cm(e,t,n){e.min=t.min-n.min,e.max=e.min+Ze(t)}function Ai(e,t,n){Cm(e.x,t.x,n.x),Cm(e.y,t.y,n.y)}function Tt(e){return[e("x"),e("y")]}const Mv=({current:e})=>e?e.ownerDocument.defaultView:null,Sm=(e,t)=>Math.abs(e-t);function GN(e,t){const n=Sm(e.x,t.x),r=Sm(e.y,t.y);return Math.sqrt(n**2+r**2)}class Iv{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Mc(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=GN(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:w}=h,{timestamp:b}=De;this.history.push({...w,timestamp:b});const{onStart:m,onMove:v}=this.handlers;y||(m&&m(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,y)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Lc(y,this.transformPagePoint),ie.update(this.updatePoint,!0)},this.handlePointerUp=(h,y)=>{this.end();const{onEnd:x,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Mc(h.type==="pointercancel"?this.lastMoveEventInfo:Lc(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(h,m),w&&w(h,m)},!Xf(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=bo(t),c=Lc(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=De;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,Mc(c,this.history)),this.removeListeners=xo(Pi(this.contextWindow,"pointermove",this.handlePointerMove),Pi(this.contextWindow,"pointerup",this.handlePointerUp),Pi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Yt(this.updatePoint)}}function Lc(e,t){return t?{point:t(e.point)}:e}function Nm(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Mc({point:e},t){return{point:e,delta:Nm(e,$v(t)),offset:Nm(e,qN(t)),velocity:YN(t,.1)}}function qN(e){return e[0]}function $v(e){return e[e.length-1]}function YN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=$v(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>rn(t)));)n--;if(!r)return{x:0,y:0};const i=Lt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function XN(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?xe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?xe(n,e,r.max):Math.min(e,n)),e}function Tm(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function QN(e,{top:t,left:n,bottom:r,right:s}){return{x:Tm(e.x,n,s),y:Tm(e.y,t,r)}}function Em(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function ZN(e,t){return{x:Em(e.x,t.x),y:Em(e.y,t.y)}}function JN(e,t){let n=.5;const r=Ze(e),s=Ze(t);return s>r?n=Os(t.min,t.max-r,e.min):r>s&&(n=Os(e.min,e.max-s,t.min)),ln(0,1,n)}function e5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ud=.35;function t5(e=ud){return e===!1?e=0:e===!0&&(e=ud),{x:Pm(e,"left","right"),y:Pm(e,"top","bottom")}}function Pm(e,t,n){return{min:Rm(e,t),max:Rm(e,n)}}function Rm(e,t){return typeof e=="number"?e:e[t]||0}const n5=new WeakMap;class r5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bo(f).point)},o=(f,h)=>{const{drag:y,dragPropagation:x,onDragStart:w}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eS(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tt(m=>{let v=this.getAxisMotionValue(m).get()||0;if(sn.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const k=g.layout.layoutBox[m];k&&(v=Ze(k)*(parseFloat(v)/100))}}this.originPoint[m]=v}),w&&ie.postRender(()=>w(f,h)),ld(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:w,onDrag:b}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:m}=h;if(x&&this.currentDirection===null){this.currentDirection=s5(m),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,m),this.updateAxis("y",h.point,m),this.visualElement.render(),b&&b(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Tt(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Iv(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Mv(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ie.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Qo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=XN(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&ys(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=QN(r.layoutBox,t):this.constraints=!1,this.elastic=t5(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Tt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=e5(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ys(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=oN(r,s.root,this.visualElement.getTransformPagePoint());let o=ZN(s.layout.layoutBox,i);if(n){const l=n(rN(o));this.hasMutatedConstraints=!!l,l&&(o=xv(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Tt(d=>{if(!Qo(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,y=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ld(this.visualElement,t),r.start(ah(t,r,0,n,this.visualElement,!1))}stopAnimation(){Tt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Tt(n=>{const{drag:r}=this.getProps();if(!Qo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-xe(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ys(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Tt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=JN({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Tt(o=>{if(!Qo(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(xe(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;n5.set(this.visualElement,this);const t=this.visualElement.current,n=Pi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ys(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ie.read(r);const o=oo(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Tt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=ud,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Qo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function s5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class i5 extends cr{constructor(t){super(t),this.removeGroupControls=dt,this.removeListeners=dt,this.controls=new r5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Am=e=>(t,n)=>{e&&ie.postRender(()=>e(t,n))};class o5 extends cr{constructor(){super(...arguments),this.removePointerDownListener=dt}onPointerDown(t){this.session=new Iv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Am(t),onStart:Am(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ie.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Pi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ja={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lm(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const si={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const n=Lm(e,t.target.x),r=Lm(e,t.target.y);return`${n}% ${r}%`}},a5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=sr.parse(e);if(s.length>5)return r;const i=sr.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=xe(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let Ic=!1;class l5 extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;AS(c5),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Ic&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ja.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Ic=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ie.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Ic=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Fv(e){const[t,n]=sv(),r=p.useContext(Nf);return a.jsx(l5,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(gv),isPresent:t,safeToRemove:n})}const c5={borderRadius:{...si,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:si,borderTopRightRadius:si,borderBottomLeftRadius:si,borderBottomRightRadius:si,boxShadow:a5};function u5(e,t,n){const r=qe(e)?e:Ut(e);return r.start(ah("",r,t,n)),r.animation}const d5=(e,t)=>e.depth-t.depth;class f5{constructor(){this.children=[],this.isDirty=!1}add(t){Ef(this.children,t),this.isDirty=!0}remove(t){Pf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(d5),this.isDirty=!1,this.children.forEach(t)}}function h5(e,t){const n=at.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Yt(r),e(i-t))};return ie.setup(r,!0),()=>Yt(r)}const Dv=["TopLeft","TopRight","BottomLeft","BottomRight"],p5=Dv.length,Mm=e=>typeof e=="string"?parseFloat(e):e,Im=e=>typeof e=="number"||q.test(e);function m5(e,t,n,r,s,i){s?(e.opacity=xe(0,n.opacity??1,g5(r)),e.opacityExit=xe(t.opacity??1,0,y5(r))):i&&(e.opacity=xe(t.opacity??1,n.opacity??1,r));for(let o=0;o<p5;o++){const l=`border${Dv[o]}Radius`;let c=$m(t,l),u=$m(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Im(c)===Im(u)?(e[l]=Math.max(xe(Mm(c),Mm(u),r),0),(sn.test(u)||sn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=xe(t.rotate||0,n.rotate||0,r))}function $m(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const g5=Ov(0,.5,bx),y5=Ov(.5,.95,dt);function Ov(e,t,n){return r=>r<e?0:r>t?1:n(Os(e,t,r))}function Fm(e,t){e.min=t.min,e.max=t.max}function St(e,t){Fm(e.x,t.x),Fm(e.y,t.y)}function Dm(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Om(e,t,n,r,s){return e-=t,e=tl(e,1/n,r),s!==void 0&&(e=tl(e,1/s,r)),e}function x5(e,t=0,n=1,r=.5,s,i=e,o=e){if(sn.test(t)&&(t=parseFloat(t),t=xe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=xe(i.min,i.max,r);e===i&&(l-=t),e.min=Om(e.min,t,n,l,s),e.max=Om(e.max,t,n,l,s)}function _m(e,t,[n,r,s],i,o){x5(e,t[n],t[r],t[s],t.scale,i,o)}const v5=["x","scaleX","originX"],w5=["y","scaleY","originY"];function Vm(e,t,n,r){_m(e.x,t,v5,n?n.x:void 0,r?r.x:void 0),_m(e.y,t,w5,n?n.y:void 0,r?r.y:void 0)}function Bm(e){return e.translate===0&&e.scale===1}function _v(e){return Bm(e.x)&&Bm(e.y)}function zm(e,t){return e.min===t.min&&e.max===t.max}function b5(e,t){return zm(e.x,t.x)&&zm(e.y,t.y)}function Um(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Vv(e,t){return Um(e.x,t.x)&&Um(e.y,t.y)}function Wm(e){return Ze(e.x)/Ze(e.y)}function Hm(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class k5{constructor(){this.members=[]}add(t){Ef(this.members,t),t.scheduleRender()}remove(t){if(Pf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j5(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:y,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const $c=["","X","Y","Z"],C5=1e3;let S5=0;function Fc(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Bv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Nv(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ie,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Bv(r)}function zv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=S5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E5),this.nodes.forEach(L5),this.nodes.forEach(M5),this.nodes.forEach(P5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new f5)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Af),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Qf(o)&&!mS(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;ie.read(()=>{f=window.innerWidth}),e(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,d&&d(),d=h5(h,250),ja.hasAnimatedSinceResize&&(ja.hasAnimatedSinceResize=!1,this.nodes.forEach(qm)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||O5,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),m=!this.targetLayout||!Vv(this.targetLayout,y),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Kf(x,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(d,v)}else f||qm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Km);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Gm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(A5),this.nodes.forEach(N5),this.nodes.forEach(T5)):this.nodes.forEach(Gm),this.clearAllSnapshots();const l=at.now();De.delta=ln(0,1e3/60,l-De.timestamp),De.timestamp=l,De.isProcessing=!0,Cc.update.process(De),Cc.preRender.process(De),Cc.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(R5),this.sharedNodes.forEach($5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ze(this.snapshot.measuredBox.x)&&!Ze(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_v(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||yr(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_5(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ee();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(V5))){const{scroll:d}=this.root;d&&(xs(l.x,d.offset.x),xs(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Ee();if(St(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&St(l,o),xs(l.x,f.offset.x),xs(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Ee();St(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vs(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),yr(d.latestValues)&&vs(c,d.latestValues)}return yr(this.latestValues)&&vs(c,this.latestValues),c}removeTransform(o){const l=Ee();St(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!yr(u.latestValues))continue;id(u.latestValues)&&u.updateSnapshot();const d=Ee(),f=u.measurePageBox();St(d,f),Vm(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return yr(this.latestValues)&&Vm(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Ai(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):St(this.target,this.layout.layoutBox),wv(this.target,this.targetDelta)):St(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Ai(this.relativeTargetOrigin,this.target,y.target),St(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||id(this.parent.latestValues)||vv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===De.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;St(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;iN(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ee());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dm(this.prevProjectionDelta.x,this.projectionDelta.x),Dm(this.prevProjectionDelta.y,this.projectionDelta.y)),Ri(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Hm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ws(),this.projectionDelta=ws(),this.projectionDeltaWithTransform=ws()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ee(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,w=y!==x,b=this.getStack(),m=!b||b.members.length<=1,v=!!(w&&!m&&this.options.crossfade===!0&&!this.path.some(D5));this.animationProgress=0;let g;this.mixTargetDelta=k=>{const j=k/1e3;Ym(f.x,o.x,j),Ym(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ai(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F5(this.relativeTarget,this.relativeTargetOrigin,h,j),g&&b5(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Ee()),St(g,this.relativeTarget)),w&&(this.animationValues=d,m5(d,u,this.latestValues,j,v,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Yt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ie.update(()=>{ja.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ut(0)),this.currentAnimation=u5(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Uv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ee();const f=Ze(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Ze(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}St(l,c),vs(l,d),Ri(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new k5),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Fc("z",o,u,this.animationValues);for(let d=0;d<$c.length;d++)Fc(`rotate${$c[d]}`,o,u,this.animationValues),Fc(`skew${$c[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ka(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ka(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!yr(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=j5(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:h,y}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${y.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in io){if(d[x]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:m}=io[x],v=f==="none"?d[x]:w(d[x],u);if(b){const g=b.length;for(let k=0;k<g;k++)o[b[k]]=v}else m?this.options.visualElement.renderState.vars[x]=v:o[x]=v}this.options.layoutId&&(o.pointerEvents=u===this?ka(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Km),this.root.sharedNodes.clear()}}}function N5(e){e.updateLayout()}function T5(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Tt(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],y=Ze(h);h.min=r[f].min,h.max=h.min+y}):Uv(i,t.layoutBox,r)&&Tt(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],y=Ze(r[f]);h.max=h.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+y)});const l=ws();Ri(l,r,t.layoutBox);const c=ws();o?Ri(c,e.applyTransform(s,!0),t.measuredBox):Ri(c,r,t.layoutBox);const u=!_v(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:y}=f;if(h&&y){const x=Ee();Ai(x,t.layoutBox,h.layoutBox);const w=Ee();Ai(w,r,y.layoutBox),Vv(x,w)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function E5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function P5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function R5(e){e.clearSnapshot()}function Km(e){e.clearMeasurements()}function Gm(e){e.isLayoutDirty=!1}function A5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qm(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function L5(e){e.resolveTargetDelta()}function M5(e){e.calcProjection()}function I5(e){e.resetSkewAndRotation()}function $5(e){e.removeLeadSnapshot()}function Ym(e,t,n){e.translate=xe(t.translate,0,n),e.scale=xe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xm(e,t,n,r){e.min=xe(t.min,n.min,r),e.max=xe(t.max,n.max,r)}function F5(e,t,n,r){Xm(e.x,t.x,n.x,r),Xm(e.y,t.y,n.y,r)}function D5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const O5={duration:.45,ease:[.4,0,.1,1]},Qm=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Zm=Qm("applewebkit/")&&!Qm("chrome/")?Math.round:dt;function Jm(e){e.min=Zm(e.min),e.max=Zm(e.max)}function _5(e){Jm(e.x),Jm(e.y)}function Uv(e,t,n){return e==="position"||e==="preserve-aspect"&&!HN(Wm(t),Wm(n),.2)}function V5(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const B5=zv({attachResizeListener:(e,t)=>oo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dc={current:void 0},Wv=zv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dc.current){const e=new B5({});e.mount(window),e.setOptions({layoutScroll:!0}),Dc.current=e}return Dc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),z5={pan:{Feature:o5},drag:{Feature:i5,ProjectionNode:Wv,MeasureLayout:Fv}};function eg(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ie.postRender(()=>i(t,bo(t)))}class U5 extends cr{mount(){const{current:t}=this.node;t&&(this.unmount=tS(t,(n,r)=>(eg(this.node,r,"Start"),s=>eg(this.node,s,"End"))))}unmount(){}}class W5 extends cr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xo(oo(this.node.current,"focus",()=>this.onFocus()),oo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tg(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ie.postRender(()=>i(t,bo(t)))}class H5 extends cr{mount(){const{current:t}=this.node;t&&(this.unmount=iS(t,(n,r)=>(tg(this.node,r,"Start"),(s,{success:i})=>tg(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dd=new WeakMap,Oc=new WeakMap,K5=e=>{const t=dd.get(e.target);t&&t(e)},G5=e=>{e.forEach(K5)};function q5({root:e,...t}){const n=e||document;Oc.has(n)||Oc.set(n,{});const r=Oc.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(G5,{root:e,...t})),r[s]}function Y5(e,t,n){const r=q5(t);return dd.set(e,n),r.observe(e),()=>{dd.delete(e),r.unobserve(e)}}const X5={some:0,all:1};class Q5 extends cr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:X5[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return Y5(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Z5(t,n))&&this.startObserver()}unmount(){}}function Z5({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const J5={inView:{Feature:Q5},tap:{Feature:H5},focus:{Feature:W5},hover:{Feature:U5}},e4={layout:{ProjectionNode:Wv,MeasureLayout:Fv}},t4={..._N,...J5,...z5,...e4},E=nN(t4,pN),n4=50,ng=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),r4=()=>({time:0,x:ng(),y:ng()}),s4={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function rg(e,t,n,r){const s=n[t],{length:i,position:o}=s4[t],l=s.current,c=n.time;s.current=e[`scroll${o}`],s.scrollLength=e[`scroll${i}`]-e[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Os(0,s.scrollLength,s.current);const u=r-c;s.velocity=u>n4?0:Lf(s.current-l,u)}function i4(e,t,n){rg(e,"x",t,n),rg(e,"y",t,n),t.time=n}function o4(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(qf(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const s=r.getBoundingClientRect();r=r.parentElement;const i=r.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(r instanceof SVGGraphicsElement){const{x:s,y:i}=r.getBBox();n.x+=s,n.y+=i;let o=null,l=r.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=r.parentNode;r=o}else break;return n}const fd={start:0,center:.5,end:1};function sg(e,t,n=0){let r=0;if(e in fd&&(e=fd[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?r=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?r=s/100*document.documentElement.clientWidth:e.endsWith("vh")?r=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(r=t*e),n+r}const a4=[0,0];function l4(e,t,n,r){let s=Array.isArray(e)?e:a4,i=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,fd[e]?e:"0"]),i=sg(s[0],n,r),o=sg(s[1],t),i-o}const c4={All:[[0,0],[1,1]]},u4={x:0,y:0};function d4(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function f4(e,t,n){const{offset:r=c4.All}=n,{target:s=e,axis:i="y"}=n,o=i==="y"?"height":"width",l=s!==e?o4(s,e):u4,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:d4(s),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let d=!t[i].interpolate;const f=r.length;for(let h=0;h<f;h++){const y=l4(r[h],u[o],c[o],l[i]);!d&&y!==t[i].interpolatorOffsets[h]&&(d=!0),t[i].offset[h]=y}d&&(t[i].interpolate=Bf(t[i].offset,Fx(r),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=ln(0,1,t[i].interpolate(t[i].current))}function h4(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function p4(e,t,n,r={}){return{measure:s=>{h4(e,r.target,n),i4(e,n,s),(r.offset||r.target)&&f4(e,n,r)},notify:()=>t(n)}}const ii=new WeakMap,ig=new WeakMap,_c=new WeakMap,og=e=>e===document.scrollingElement?window:e;function Hv(e,{container:t=document.scrollingElement,...n}={}){if(!t)return dt;let r=_c.get(t);r||(r=new Set,_c.set(t,r));const s=r4(),i=p4(t,e,s,n);if(r.add(i),!ii.has(t)){const l=()=>{for(const f of r)f.measure(De.timestamp);ie.preUpdate(c)},c=()=>{for(const f of r)f.notify()},u=()=>ie.read(l);ii.set(t,u);const d=og(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&ig.set(t,pS(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const o=ii.get(t);return ie.read(o,!1,!0),()=>{var u;Yt(o);const l=_c.get(t);if(!l||(l.delete(i),l.size))return;const c=ii.get(t);ii.delete(t),c&&(og(t).removeEventListener("scroll",c),(u=ig.get(t))==null||u(),window.removeEventListener("resize",c))}}const ag=new Map;function m4(e){const t={value:0},n=Hv(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function Kv({source:e,container:t,...n}){const{axis:r}=n;e&&(t=e);const s=ag.get(t)??new Map;ag.set(t,s);const i=n.target??"self",o=s.get(i)??{},l=r+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&Vx()?new ScrollTimeline({source:t,axis:r}):m4({container:t,...n})),o[l]}function g4(e,t){const n=Kv(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),rv(s=>{r.time=r.iterationDuration*s},n))})}function y4(e){return e.length===2}function x4(e,t){return y4(e)?Hv(n=>{e(n[t.axis].progress,n)},t):rv(e,Kv(t))}function v4(e,{axis:t="y",container:n=document.scrollingElement,...r}={}){if(!n)return dt;const s={axis:t,container:n,...r};return typeof e=="function"?x4(e,s):g4(e,s)}const w4=()=>({scrollX:Ut(0),scrollY:Ut(0),scrollXProgress:Ut(0),scrollYProgress:Ut(0)}),Zo=e=>e?!e.current:!1;function ur({container:e,target:t,...n}={}){const r=Hs(w4),s=p.useRef(null),i=p.useRef(!1),o=p.useCallback(()=>(s.current=v4((l,{x:c,y:u})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(u.current),r.scrollYProgress.set(u.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=s.current)==null||l.call(s)}),[e,t,JSON.stringify(n.offset)]);return Pl(()=>{if(i.current=!1,Zo(e)||Zo(t)){i.current=!0;return}else return o()},[o]),p.useEffect(()=>{if(i.current)return to(!Zo(e)),to(!Zo(t)),o()},[o]),r}function b4(e){const t=Hs(()=>Ut(e)),{isStatic:n}=p.useContext(Al);if(n){const[,r]=p.useState(e);p.useEffect(()=>t.on("change",r),[])}return t}function Gv(e,t){const n=b4(t()),r=()=>n.set(t());return r(),Pl(()=>{const s=()=>ie.preRender(r,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Yt(r)}}),n}function k4(e){Ei.current=[],e();const t=Gv(Ei.current,e);return Ei.current=void 0,t}function on(e,t,n,r){if(typeof e=="function")return k4(e);const s=typeof t=="function"?t:gS(t,n,r);return Array.isArray(e)?lg(e,s):lg([e],([i])=>s(i))}function lg(e,t){const n=Hs(()=>[]);return Gv(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function qv(){!oh.current&&kv();const[e]=p.useState(nl.current);return e}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),C4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),cg=e=>{const t=C4(e);return t.charAt(0).toUpperCase()+t.slice(1)},Yv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),S4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...N4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Yv("lucide",s),...!i&&!S4(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=(e,t)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(T4,{ref:i,iconNode:t,className:Yv(`lucide-${j4(cg(e))}`,`lucide-${e}`,r),...s}));return n.displayName=cg(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],Xv=V("arrow-down-a-z",E4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qv=V("arrow-left",P4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],A4=V("at-sign",R4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$l=V("bell",L4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],I4=V("bold",M4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],F4=V("bot",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["circle",{cx:"9",cy:"7",r:"2",key:"1305pl"}],["path",{d:"M7.2 7.9 3 11v9c0 .6.4 1 1 1h16c.6 0 1-.4 1-1v-9c0-2-3-6-7-8l-3.6 2.6",key:"xle13f"}],["path",{d:"M16 13H3",key:"1wpj08"}],["path",{d:"M16 17H3",key:"3lvfcd"}]],ug=V("cake-slice",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],Zv=V("cake",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],lh=V("cat",_4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],ch=V("chart-no-axes-column",V4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z4=V("check",B4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],W4=V("chevron-down",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rl=V("chevron-right",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jv=V("circle-alert",K4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],e1=V("circle-plus",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Y4=V("circle-x",q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Q4=V("clipboard",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hd=V("clock",Z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uh=V("compass",J4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],tT=V("eraser",eT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],rT=V("external-link",nT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],t1=V("eye-off",sT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n1=V("eye",iT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]],aT=V("file-stack",oT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],dh=V("file",lT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],uT=V("flame",cT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],fh=V("frown",dT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Or=V("heart",fT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pT=V("image",hT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],hh=V("infinity",mT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],yT=V("italic",gT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],vT=V("life-buoy",xT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ko=V("loader-circle",wT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],kT=V("lock-open",bT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],r1=V("log-in",jT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rs=V("lock",CT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],s1=V("log-out",ST);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ao=V("mail",NT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"m21 3-6.75 6.75",key:"pv0uzu"}],["circle",{cx:"10",cy:"14",r:"6",key:"1qwbdc"}]],i1=V("mars",TT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],PT=V("menu",ET);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],sl=V("message-square",RT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],o1=V("paperclip",AT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vs=V("plus",LT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dg=V("rotate-ccw",MT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],a1=V("save",IT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],FT=V("search",$T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ys=V("send",DT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],il=V("settings",OT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ol=V("shield",_T);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],jo=V("shopping-bag",VT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],zT=V("shopping-cart",BT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],WT=V("sliders-horizontal",UT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Co=V("square-pen",HT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ph=V("star",KT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],l1=V("thumbs-down",GT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],c1=V("thumbs-up",qT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Li=V("trash-2",YT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],QT=V("upload",XT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],JT=V("user-check",ZT);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],t3=V("user-plus",e3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_r=V("user",n3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vr=V("users",r3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M9 19h6",key:"456am0"}],["circle",{cx:"12",cy:"9",r:"6",key:"1nw4tq"}]],u1=V("venus",s3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gt=V("x",i3),fg={idle:1.9,active:2.2},hg={dock:"1.25em",row:"1.20em",dockLg:"1.35em",avatar:"1.60em"};function pe({icon:e,active:t=!1,size:n="dock",className:r,style:s}){return a.jsx(e,{className:r,style:{width:hg[n],height:hg[n],...s},strokeWidth:t?fg.active:fg.idle,vectorEffect:"non-scaling-stroke",shapeRendering:"geometricPrecision",preserveAspectRatio:"xMidYMid meet"})}function d1(e){const{notifications:t,messages:n,loadNotifications:r,loadMessages:s}=Ve(),{user:i}=ge(),o=p.useRef(null),l=()=>{o.current&&(window.clearTimeout(o.current),o.current=null),o.current=window.setTimeout(()=>{typeof r=="function"&&r(),typeof s=="function"&&s()},200)};p.useEffect(()=>{l()},[e]),p.useEffect(()=>{const d=()=>{document.visibilityState==="visible"&&l()},f=()=>l();return document.addEventListener("visibilitychange",d),window.addEventListener("focus",f),()=>{document.removeEventListener("visibilitychange",d),window.removeEventListener("focus",f),o.current&&window.clearTimeout(o.current)}},[]);const c=p.useMemo(()=>Array.isArray(t)?t.filter(d=>!d.isRead).length:0,[t]),u=p.useMemo(()=>!Array.isArray(n)||!i?0:n.filter(d=>d.isReadByUser!==!0&&d.user_id!==i.id).length,[n,i]);return c+u}const H={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},fonts:{heading:"var(--font-heading, inherit)"},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"}},o3={float:{initial:{y:0},animate:{y:[0,-3,0]},transition:{repeat:1/0,duration:2.4,ease:"easeInOut"}}},al=(e,t)=>e?t:`/login?next=${encodeURIComponent(t)}`,a3=e=>!!e&&(e.isAdmin||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.is_staff));function l3(e,t){return[{Icon:uh,title:"Каталог",to:"/characters"},{Icon:ch,title:"Рейтинг",to:"/rating"},{Icon:jo,title:"Магазин",to:al(e,"/shop")},{Icon:Or,title:"Избранное",to:al(e,"/favorites")}]}function pg({Icon:e,title:t,to:n,active:r,collapsed:s,badge:i}){const o=typeof i=="number"&&i>0;return a.jsxs(mo,{to:n,className:["group relative overflow-hidden rounded-2xl border flex items-center",s?"justify-center gap-0 px-2 py-2":"gap-3 px-3 py-2","transition-all duration-300"].join(" "),style:{borderColor:H.colors.border,background:r?`linear-gradient(135deg, ${H.colors.accent.primary}, ${H.colors.accent.secondary})`:H.colors.background.glass,color:r?"#ffffff":H.colors.text.primary,boxShadow:r?H.shadows.button:H.shadows.glass},"aria-current":r?"page":void 0,title:s?t:void 0,children:[a.jsx("div",{className:"inline-flex items-center justify-center shrink-0 rounded-full",style:{width:44,height:44,background:r?"rgba(255, 255, 255, 0.2)":H.colors.background.glass},children:a.jsx(pe,{icon:e,size:"row",style:{color:"#ffffff"}})}),!s&&a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-medium",children:t})}),o&&a.jsx("span",{className:"absolute -top-1 -right-1 rounded-full px-2 py-0.5 text-[11px] font-bold leading-none",style:{background:H.colors.accent.primary,color:"#0a0a12",border:`1px solid ${H.colors.border}`},children:i>99?"99+":i})]})}function c3({user:e,unread:t,collapsed:n,onSettings:r,onNotifications:s}){return e?a.jsxs("div",{className:"rounded-2xl border p-5 mb-4",style:{borderColor:H.colors.border,background:H.colors.background.glass,boxShadow:H.shadows.glass},children:[a.jsxs("div",{className:"flex items-center gap-4",children:[e.avatarUrl||e.avatar||e.photoURL?a.jsx("img",{src:e.avatarUrl||e.avatar||e.photoURL,alt:"Аватар",className:"w-14 h-14 rounded-full object-cover",style:{border:`1px solid ${H.colors.border}`}}):a.jsx("div",{className:"w-14 h-14 rounded-full inline-flex items-center justify-center",style:{background:`linear-gradient(135deg, ${H.colors.accent.primary}, ${H.colors.accent.secondary})`,boxShadow:H.shadows.button},children:a.jsx(pe,{icon:lh,size:"avatar",style:{color:"#ffffff"}})}),!n&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-bold text-lg truncate",style:{color:H.colors.text.primary},children:(e==null?void 0:e.nickname)||(e==null?void 0:e.login)}),(e==null?void 0:e.login)&&a.jsx("p",{className:"text-sm truncate",style:{color:H.colors.text.muted},children:e==null?void 0:e.login})]})]}),!n&&a.jsxs("div",{className:"mt-4 flex justify-center gap-3",children:[a.jsx("button",{type:"button","aria-label":"Настройки профиля",className:"h-12 w-12 rounded-full inline-flex items-center justify-center",style:{background:H.colors.background.glass,color:H.colors.text.primary,border:`1px solid ${H.colors.border}`,boxShadow:H.shadows.glass},onClick:r,children:a.jsx(pe,{icon:il,size:"row"})}),a.jsxs("button",{type:"button","aria-label":"Уведомления",className:"relative h-12 w-12 rounded-full inline-flex items-center justify-center",style:{background:H.colors.background.glass,color:H.colors.text.primary,border:`1px solid ${H.colors.border}`,boxShadow:H.shadows.glass},onClick:s,children:[a.jsx(pe,{icon:$l,size:"row"}),t>0&&a.jsx("span",{className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] rounded-full text-[11px] leading-[20px] font-bold inline-flex items-center justify-center",style:{background:H.colors.accent.primary,color:"#0a0a12",border:`1px solid ${H.colors.border}`},children:t>99?"99+":t})]})]})]}):a.jsx("div",{className:"rounded-2xl border p-5 mb-4",style:{borderColor:H.colors.border,background:H.colors.background.glass,boxShadow:H.shadows.glass},children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"rounded-full inline-flex items-center justify-center",style:{width:56,height:56,background:H.colors.background.glass,border:`1px solid ${H.colors.border}`,boxShadow:H.shadows.glass},children:a.jsx(pe,{icon:r1,size:"row"})}),!n&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"mt-3 font-bold text-lg",style:{color:H.colors.text.primary},children:"Войдите"}),a.jsx("p",{className:"mt-1 text-sm",style:{color:H.colors.text.muted},children:"Чтобы сохранять избранное"}),a.jsx(mo,{to:"/login",className:"mt-4 rounded-full px-5 py-2 inline-flex items-center gap-2 font-bold justify-center",style:{background:`linear-gradient(135deg, ${H.colors.accent.primary}, ${H.colors.accent.secondary})`,color:"#0a0a12",border:"none",boxShadow:H.shadows.button},children:"Войти"})]})]})})}function u3({isCollapsed:e=!1}){const t=jt(),n=rt(),{user:r}=ge()||{},s=d1(),i=l3(r);return a.jsx("aside",{className:["hidden lg:flex fixed left-0 top-0 z-20 h-full",e?"w-24":"w-72"].join(" "),"aria-label":"Sidebar",style:{pointerEvents:"none"},children:a.jsx("div",{className:"flex h-full w-full p-3",style:{pointerEvents:"auto"},children:a.jsxs("div",{className:"flex flex-col w-full rounded-2xl border backdrop-blur-xl",style:{borderColor:H.colors.border,background:H.colors.background.glass,boxShadow:H.shadows.glass},children:[a.jsx("div",{className:"px-3 pt-3 pb-1",children:a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(E.div,{...o3.float,className:"rounded-full w-12 h-12 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${H.colors.accent.primary}, ${H.colors.accent.secondary})`,boxShadow:H.shadows.button},children:a.jsx(pe,{icon:Or,size:"row",style:{color:"#ffffff"}})}),a.jsx("h1",{className:"text-2xl font-black",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:H.fonts.heading},children:"CAS Каталог"})]})})}),a.jsx("div",{className:"px-3",children:a.jsx(c3,{user:r,unread:s,collapsed:!!e,onSettings:()=>n(al(r,"/profile")),onNotifications:()=>n(al(r,"/notifications"))})}),a.jsxs("nav",{className:"flex-1 px-3 py-2 space-y-2",children:[i.map(({to:o,title:l,Icon:c,badge:u})=>{const d=t.pathname===o||t.pathname.startsWith(o);return a.jsx(pg,{Icon:c,title:l,to:o,active:!!d,collapsed:!!e,badge:u},l)}),a3(r)&&a.jsxs("div",{className:"pt-2",children:[!e&&a.jsx("p",{className:"px-2 pb-2 text-xs uppercase tracking-wide",style:{color:H.colors.text.muted},children:"Управление"}),a.jsx(pg,{Icon:il,title:"Админ-панель",to:"/admin",active:t.pathname.startsWith("/admin"),collapsed:!!e})]})]}),!e&&a.jsx("div",{className:"px-3 pb-3",children:a.jsxs("a",{href:"https://t.me/cascharacter",target:"_blank",rel:"noopener noreferrer",className:"relative overflow-hidden rounded-2xl border flex items-center gap-3 px-3 py-2",style:{borderColor:H.colors.border,background:"linear-gradient(135deg, #4facfe, #00f2fe)",color:"#ffffff",boxShadow:"0 6px 20px rgba(79, 172, 254, 0.3)"},children:[a.jsx("div",{className:"inline-flex items-center justify-center shrink-0 rounded-full",style:{width:44,height:44,background:"rgba(255, 255, 255, 0.2)"},children:a.jsx(pe,{icon:Ys,size:"row",style:{color:"#ffffff"}})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold",children:"Telegram Канал"})}),a.jsx(pe,{icon:rl,size:"row"})]})})]})})})}function et({intensity:e=1,className:t}){const r=.3*Math.max(0,Math.min(1,Number.isFinite(e)?e:1)),s="env(safe-area-inset-top, 0px)",i="env(safe-area-inset-right, 0px)",o="env(safe-area-inset-bottom, 0px)",l="env(safe-area-inset-left, 0px)";return a.jsx("div",{"aria-hidden":!0,role:"presentation",className:["fixed pointer-events-none z-0",t].filter(Boolean).join(" "),style:{top:`calc(-1 * ${s})`,right:`calc(-1 * ${i})`,bottom:`calc(-1 * ${o})`,left:`calc(-1 * ${l})`,width:`calc(100% + ${l} + ${i})`,height:`calc(100% + ${s} + ${o})`,WebkitMaskImage:"-webkit-radial-gradient(white, black)",willChange:"transform",transform:"translateZ(0)",background:`
          radial-gradient(circle at 20% 30%, rgba(215, 174, 251, ${r*.8}) 0%, transparent 40%),
          radial-gradient(circle at 80% 70%, rgba(251, 182, 217, ${r*.6}) 0%, transparent 50%),
          radial-gradient(circle at 50% 10%, rgba(135, 206, 250, ${r*.4}) 0%, transparent 60%),
          #0a0a12
        `}})}function d3(){const[e,t]=p.useState(!1);return p.useEffect(()=>{if(typeof window>"u"||!window.visualViewport)return;const n=()=>{const r=window.innerHeight,s=window.visualViewport.height,i=r-s>150;t(i)};return window.visualViewport.addEventListener("resize",n),n(),()=>{window.visualViewport.removeEventListener("resize",n)}},[]),e}const fi=(e,t)=>e?t:`/login?next=${encodeURIComponent(t)}`,f3=e=>!!e&&(e.isAdmin||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.is_staff)),z={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",accent:"0 4px 16px rgba(215, 174, 251, 0.4)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif'}},xr={buttonTap:{whileTap:{scale:.97}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function h3(){const[e,t]=p.useState(!1);p.useEffect(()=>{const o=document.documentElement,l=o.style.overflow,c=document.body.style.overscrollBehavior;return e&&(o.style.overflow="hidden",document.body.style.overscrollBehavior="contain"),()=>{o.style.overflow=l,document.body.style.overscrollBehavior=c}},[e]);const[n,r]=p.useState(0),s=d1(n),i=()=>{r(o=>o+1),t(!0)};return a.jsxs(a.Fragment,{children:[a.jsx(p3,{openMenu:i,ping:n,unread:s}),a.jsx(Te,{children:e&&a.jsx(m3,{onClose:()=>t(!1),ping:n,unread:s})})]})}function p3({openMenu:e,ping:t,unread:n}){const{user:r}=ge(),s=jt();rt(),qv();const i=d3(),o=p.useMemo(()=>[{id:"/characters",icon:uh,to:"/characters",label:"Каталог"},{id:"/rating",icon:ch,to:"/rating",label:"Рейтинг"},{id:"/favorites",icon:Or,to:fi(r,"/favorites"),label:"Избранное"},{id:"/shop",icon:jo,to:"/shop",label:"Магазин"},{id:"more",icon:PT,action:e,label:"Меню",badge:n}],[r,n,e]);return a.jsx("nav",{className:`fixed bottom-0 left-0 right-0 z-40 md:hidden transition-transform duration-300 ease-in-out ${i?"translate-y-full":"translate-y-0"}`,"aria-label":"Нижняя навигация",children:a.jsx("div",{className:"mx-auto max-w-[820px] px-3 pb-3 pt-2",style:{pointerEvents:"auto"},children:a.jsx("div",{className:"w-full rounded-2xl border backdrop-blur-xl",style:{borderColor:z.colors.border,background:z.colors.background.glass,boxShadow:z.shadows.glass},children:a.jsx("ul",{className:"grid grid-cols-5",children:o.map(l=>{const c=l.to&&(s.pathname===l.to||s.pathname.startsWith(l.to+"/")),u=l.badge,d=typeof u=="number"&&u>0,f=a.jsxs("div",{className:"relative",children:[a.jsx(E.div,{className:"rounded-full inline-flex items-center justify-center leading-none border mx-auto",style:{width:52,height:52,background:c?`linear-gradient(135deg, ${z.colors.accent.primary}, ${z.colors.accent.secondary})`:z.colors.background.glass,boxShadow:c?z.shadows.button:z.shadows.glass,border:"none"},whileTap:{scale:.95},children:d?a.jsx(E.div,{initial:{opacity:.9,scale:1},animate:{opacity:[.9,1,.9],scale:[1,1.06,1]},transition:{duration:1.4,repeat:1/0,ease:"easeInOut"},children:a.jsx(pe,{icon:l.icon,size:"row",color:c?"#ffffff":void 0})}):a.jsx(pe,{icon:l.icon,size:"row",color:c?"#ffffff":void 0})}),d&&a.jsx(E.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 rounded-full text-[11px] leading-[18px] font-bold inline-flex items-center justify-center leading-none",style:{background:z.colors.accent.primary,color:"#0a0a12",border:`1px solid ${z.colors.border}`,boxShadow:z.shadows.accent},children:u>99?"99+":u})]});return a.jsx("li",{className:"text-center",children:l.to?a.jsx(mo,{to:l.to,className:"block py-2","aria-current":c?"page":void 0,children:f}):a.jsx("button",{type:"button",onClick:l.action,className:"w-full h-full inline-flex items-center justify-center leading-none py-2",children:f})},l.id)})})})})})}function m3({onClose:e,ping:t,unread:n}){const r=jt(),s=rt();p.useMemo(()=>r.pathname!=="/notifications"&&n>0,[r.pathname,n]);const i=ge()||{},o=i==null?void 0:i.user,c=qv()?{duration:0}:{type:"tween",ease:"easeOut",duration:.28},{scrollY:u}=ur(),d=on(u,[0,500],[.3,.1]),f=async()=>{try{if(typeof i.logout=="function")await Promise.resolve(i.logout());else if(typeof i.signOut=="function")await Promise.resolve(i.signOut());else{try{localStorage.removeItem("token")}catch{}window.location.reload();return}}catch{window.location.reload();return}},h=[{title:"Разделы",items:[{icon:uh,title:"Каталог",to:"/characters"},{icon:ch,title:"Рейтинг",to:"/rating"},{icon:jo,title:"Магазин",to:fi(o,"/shop")},{icon:Or,title:"Избранное",to:fi(o,"/favorites")}]},...f3(o)?[{title:"Управление",items:[{icon:il,title:"Админ-панель",to:"/admin"}]}]:[]];return a.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",role:"dialog","aria-modal":"true","aria-label":"Мобильное меню",children:[a.jsx(et,{intensity:d,className:"z-0"}),a.jsx(E.div,{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0}}),a.jsx(E.div,{initial:{y:24,opacity:.98},animate:{y:0,opacity:1},className:"absolute inset-x-0 bottom-0 top-0 overflow-y-auto overscroll-contain",transition:c,exit:{opacity:0,transition:{duration:0}},children:a.jsxs("div",{className:"mx-auto max-w-[820px] px-4 pt-4 pb-[104px]",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(E.div,{...xr.float,className:"rounded-full w-12 h-12 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${z.colors.accent.primary}, ${z.colors.accent.secondary})`,boxShadow:z.shadows.button},children:a.jsx(pe,{icon:Or,size:"row",style:{color:"#ffffff"}})}),a.jsx("h1",{className:"text-2xl font-black",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:z.fonts.heading},children:"CAS Каталог"})]}),a.jsx(E.button,{...xr.buttonTap,onClick:e,className:"rounded-full p-3",style:{background:z.colors.background.glass,border:`1px solid ${z.colors.border}`,color:z.colors.text.primary,boxShadow:z.shadows.glass},"aria-label":"Закрыть меню",children:a.jsx(pe,{icon:Gt,size:"row"})})]}),o?a.jsx("div",{className:"mb-8 rounded-2xl p-5",style:{background:z.colors.background.glass,boxShadow:z.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[o.avatarUrl||o.avatar||o.photoURL?a.jsx("img",{src:o.avatarUrl||o.avatar||o.photoURL,alt:"Аватар",className:"w-14 h-14 rounded-full object-cover",style:{border:`2px solid ${z.colors.border}`}}):a.jsx("div",{className:"w-14 h-14 rounded-full inline-flex items-center justify-center",style:{background:`linear-gradient(135deg, ${z.colors.accent.primary}, ${z.colors.accent.secondary})`,boxShadow:z.shadows.button},children:a.jsx(pe,{icon:lh,size:"avatar",style:{color:"#ffffff"}})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-bold text-lg",style:{color:z.colors.text.primary},children:(o==null?void 0:o.nickname)||(o==null?void 0:o.login)}),(o==null?void 0:o.login)&&a.jsx("p",{className:"text-sm",style:{color:z.colors.text.muted},children:o==null?void 0:o.login})]}),a.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[a.jsx(E.button,{...xr.buttonTap,type:"button","aria-label":"Настройки профиля",className:"h-11 w-11 rounded-full inline-flex items-center justify-center",style:{background:z.colors.background.glass,color:z.colors.text.primary,boxShadow:z.shadows.glass},onClick:()=>{e(),s(fi(o,"/profile"))},children:a.jsx(pe,{icon:il,size:"row"})}),a.jsxs(E.button,{...xr.buttonTap,type:"button","aria-label":"Уведомления",className:"relative h-11 w-11 rounded-full inline-flex items-center justify-center",style:{background:z.colors.background.glass,color:z.colors.text.primary,boxShadow:z.shadows.glass},onClick:()=>{e(),s(fi(o,"/notifications"))},children:[a.jsx(pe,{icon:$l,size:"row"}),a.jsx(Te,{children:n>0&&a.jsx(E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.18},className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] px-[6px] rounded-full text-[11px] leading-[20px] font-bold inline-flex items-center justify-center",style:{background:z.colors.accent.primary,color:"#0a0a12",border:`1px solid ${z.colors.border}`,boxShadow:z.shadows.accent},children:n>99?"99+":n})})]})]})]})}):a.jsx("div",{className:"mb-8 rounded-2xl p-5",style:{background:z.colors.background.glass,boxShadow:z.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"rounded-full inline-flex items-center justify-center",style:{width:56,height:56,background:z.colors.background.glass,boxShadow:z.shadows.glass},children:a.jsx(pe,{icon:r1,size:"row"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-bold text-lg mb-1",style:{color:z.colors.text.primary},children:"Войдите"}),a.jsx("p",{className:"text-sm",style:{color:z.colors.text.muted},children:"Чтобы сохранять избранное"})]}),a.jsx(mo,{to:"/login",onClick:e,className:"rounded-full font-bold px-5 py-3",style:{background:`linear-gradient(135deg, ${z.colors.accent.primary}, ${z.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:z.shadows.button},children:"Войти"})]})}),a.jsx("div",{className:"flex flex-col gap-6",children:h.map(y=>a.jsxs("section",{className:"flex flex-col gap-3",children:[a.jsx("h3",{className:"px-1 text-sm uppercase tracking-wider font-bold",style:{color:z.colors.text.muted},children:y.title}),a.jsx("div",{className:"flex flex-col gap-2",children:y.items.map(({icon:x,title:w,to:b,onClick:m,badge:v,pulse:g})=>{const k=b&&(r.pathname===b||r.pathname.startsWith(b+"/"));return a.jsx(g3,{Icon:x,title:w,to:b,onClick:m,active:!!k,onClose:e,badge:v,pulse:g},w)})})]},y.title))}),a.jsxs("section",{className:"flex flex-col gap-3 mt-8",children:[a.jsx("h3",{className:"px-1 text-sm uppercase tracking-wider font-bold",style:{color:z.colors.text.muted},children:"Сообщество"}),a.jsxs(E.a,{...xr.buttonTap,href:"https://t.me/cascharacter",target:"_blank",rel:"noopener noreferrer",onClick:e,className:"relative overflow-hidden rounded-2xl flex items-center gap-4 px-5 py-4",style:{background:"linear-gradient(135deg, #4facfe, #00f2fe)",color:"#ffffff",boxShadow:"0 6px 20px rgba(79, 172, 254, 0.3)"},children:[a.jsx("div",{className:"flex items-center justify-center rounded-full",style:{width:44,height:44,background:"rgba(255, 255, 255, 0.2)"},children:a.jsx(pe,{icon:Ys,size:"dockLg",style:{color:"#ffffff"}})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold text-lg",children:"Telegram Канал"})}),a.jsx(pe,{icon:rl,size:"row"})]})]}),o&&a.jsx("section",{className:"flex flex-col gap-3 mt-8",children:a.jsxs(E.button,{...xr.buttonTap,onClick:f,className:"w-full rounded-2xl flex items-center gap-4 px-5 py-4",style:{background:"linear-gradient(135deg, #ff6b6b, #ee5a52)",color:"#ffffff",boxShadow:"0 6px 20px rgba(255, 107, 107, 0.3)"},children:[a.jsx("div",{className:"flex items-center justify-center rounded-full",style:{width:44,height:44,background:"rgba(255, 255, 255, 0.2)"},children:a.jsx(pe,{icon:s1,size:"dockLg"})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold text-lg",children:"Выйти из аккаунта"})}),a.jsx(pe,{icon:rl,size:"row"})]})})]})})]})}function g3({Icon:e,title:t,to:n,onClick:r,active:s,onClose:i,badge:o,pulse:l,dot:c}){const u=n?mo:"button",d=n?{to:n,onClick:i}:{type:"button",onClick:()=>{r==null||r(),i==null||i()},role:"button"},f=typeof o=="number"&&o>0;return a.jsx(E.div,{...xr.buttonTap,children:a.jsxs(u,{...d,className:"relative overflow-hidden rounded-2xl flex items-center gap-4 px-5 py-4 transition-all duration-300",style:{background:s?`linear-gradient(135deg, ${z.colors.accent.primary}, ${z.colors.accent.secondary})`:z.colors.background.glass,color:s?"#ffffff":z.colors.text.primary,boxShadow:s?z.shadows.button:z.shadows.glass},children:[a.jsxs("div",{className:"inline-flex items-center justify-center shrink-0 rounded-full",style:{width:44,height:44,background:s?"rgba(255, 255, 255, 0.2)":z.colors.background.glass},children:[l&&f?a.jsx(E.div,{initial:{opacity:.9,scale:1},animate:{opacity:[.9,1,.9],scale:[1,1.08,1]},transition:{duration:1.4,repeat:1/0,ease:"easeInOut"},children:a.jsx(pe,{icon:e,size:"row",color:s?"#ffffff":void 0})}):a.jsx(pe,{icon:e,size:"row",color:s?"#ffffff":void 0}),a.jsx(Te,{children:f&&a.jsx(E.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] px-1 rounded-full text-[11px] leading-[20px] font-bold inline-flex items-center justify-center",style:{background:"#ffffff",color:"#0a0a12",border:`1px solid ${z.colors.border}`,boxShadow:z.shadows.accent},children:o>99?"99+":o})})]}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("p",{className:"font-bold text-lg",children:t})}),n&&a.jsx(pe,{icon:rl,size:"row"})]})})}function y3(){const[e,t]=p.useState(!1),{pathname:n}=jt(),r=n.startsWith("/characters");return a.jsxs("div",{className:["relative min-h-app safe-padded",r?"bg-transparent":"bg-[#0e1116]"].join(" "),children:[!r&&a.jsx(et,{intensity:.9,animated:!0}),a.jsx(u3,{isCollapsed:e,setCollapsed:t}),a.jsx("main",{className:["relative z-10 max-w-[2000px] mx-auto","pt-4 lg:pt-6 px-4 sm:px-6",e?"lg:pl-24":"lg:pl-72"].join(" "),children:a.jsx("div",{className:"pb-8",children:a.jsx(Ck,{})})}),a.jsx(h3,{})]})}const ae={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Yr={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},x3=({onClose:e,onSwitchToRegister:t})=>{const n=rt(),r=jt(),{login:s,isUserBlocked:i}=ge(),o=p.useMemo(()=>new URLSearchParams(r.search).get("next")||"/",[r.search]),[l,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),[y,x]=p.useState(!1),[w,b]=p.useState(null),m=j=>/@/.test(j),v=async j=>{if(j.preventDefault(),b(null),!l||!u){b("Введите логин/почту и пароль");return}x(!0);const C=l.toLowerCase();if(await i(C)){b("Этот аккаунт заблокирован."),x(!1);return}try{await s(C,u)===ps.SUCCESS?e?e():n(o):b("Неверный логин/почта или пароль.")}catch{b("Неверный логин/почта или пароль.")}finally{x(!1)}},g=j=>{t?t():n(j)},k=()=>a.jsx(E.button,{...Yr.buttonTap,type:"button",onClick:()=>e?e():n(-1),"aria-label":"Закрыть",className:"absolute right-4 top-4 p-2 rounded-full transition-all duration-300",style:{background:ae.colors.background.glass,color:ae.colors.text.primary,border:`1px solid ${ae.colors.border}`,boxShadow:ae.shadows.glass},children:a.jsx(Gt,{className:"w-5 h-5"})});return a.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-3",style:{fontFamily:ae.fonts.body},children:[a.jsx(et,{intensity:.9,animated:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:e}),a.jsxs(E.div,{...Yr.fadeInUp(.2),className:"relative z-10 w-full max-w-sm rounded-2xl",style:{background:ae.colors.background.glass,border:`1px solid ${ae.colors.border}`,boxShadow:ae.shadows.glass,padding:"2rem"},onClick:j=>j.stopPropagation(),children:[a.jsx(k,{}),a.jsx("h1",{className:"text-2xl font-black mb-2 text-center",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:ae.fonts.heading},children:"Вход в аккаунт"}),a.jsxs("p",{className:"text-center mb-6",style:{color:ae.colors.text.muted},children:["Логин ",a.jsx("span",{className:"opacity-60",children:"или"})," почта + пароль"]}),w&&a.jsxs(E.div,{...Yr.buttonTap,className:"flex items-start gap-3 p-4 mb-6 rounded-2xl",style:{background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",boxShadow:"0 4px 16px rgba(255, 107, 107, 0.2)"},children:[a.jsx(Jv,{className:"w-5 h-5 mt-0.5 shrink-0",style:{color:"#ff6b6b"}}),a.jsx("span",{className:"text-sm",style:{color:"#ff6b6b"},children:w})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4 transition-all duration-300",style:{background:ae.colors.background.glass,border:`1px solid ${ae.colors.border}`,boxShadow:ae.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:m(l)?a.jsx(ao,{className:"w-5 h-5",style:{color:ae.colors.text.muted}}):a.jsx(_r,{className:"w-5 h-5",style:{color:ae.colors.text.muted}})}),a.jsx("input",{id:"identifier",type:"text",autoComplete:"username email",placeholder:"Логин или email",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:ae.colors.text.primary},value:l,onChange:j=>c(j.target.value)})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4 transition-all duration-300",style:{background:ae.colors.background.glass,border:`1px solid ${ae.colors.border}`,boxShadow:ae.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Rs,{className:"h-5 w-5",style:{color:ae.colors.text.muted}})}),a.jsx("input",{id:"password",type:f?"text":"password",autoComplete:"current-password",placeholder:"••••••••",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:ae.colors.text.primary},value:u,onChange:j=>d(j.target.value)}),a.jsx(E.button,{...Yr.buttonTap,type:"button",onClick:()=>h(j=>!j),className:"flex shrink-0 items-center justify-center p-2 rounded-full transition-colors hover:bg-white/10",style:{color:ae.colors.text.muted},children:f?a.jsx(t1,{className:"w-5 h-5"}):a.jsx(n1,{className:"w-5 h-5"})})]}),a.jsx(E.button,{...Yr.buttonTap,type:"submit",disabled:y,className:"w-full h-12 rounded-full font-bold text-sm",style:{background:`linear-gradient(135deg, ${ae.colors.accent.primary}, ${ae.colors.accent.secondary})`,color:"#ffffff",boxShadow:ae.shadows.button},children:y?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(ko,{className:"w-4 h-4 animate-spin"})," Входим…"]}):"Войти в аккаунт"})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-sm mb-2",style:{color:ae.colors.text.muted},children:"Еще нет аккаунта?"}),a.jsx(E.button,{...Yr.buttonTap,type:"button",onClick:()=>g("/register"),className:"text-sm font-bold",style:{color:ae.colors.accent.primary},children:"Зарегистрироваться"})]})]})]})},J={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},Xr={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},v3=({onClose:e,onSwitchToLogin:t})=>{const n=rt(),{register:r}=ge(),[s,i]=p.useState(""),[o,l]=p.useState(""),[c,u]=p.useState(""),[d,f]=p.useState(""),[h,y]=p.useState(!1),[x,w]=p.useState(!1),[b,m]=p.useState(null),v=async j=>{if(j.preventDefault(),m(null),!s||!o||!c||!d){m("Заполните все поля");return}if(d.length<8){m("Пароль должен быть не менее 8 символов");return}try{w(!0);const C=await r(s.toLowerCase(),o,c.toLowerCase(),d);C.success?e?e():n("/"):m(C.message)}catch{m("Не удалось зарегистрироваться. Проверьте данные.")}finally{w(!1)}},g=j=>{t?t():n(j)},k=()=>a.jsx(E.button,{...Xr.buttonTap,type:"button",onClick:()=>e?e():n(-1),"aria-label":"Закрыть",className:"absolute right-4 top-4 p-2 rounded-full transition-all duration-300",style:{background:J.colors.background.glass,color:J.colors.text.primary,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:a.jsx(Gt,{className:"w-5 h-5"})});return a.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-3",style:{fontFamily:J.fonts.body},children:[a.jsx(et,{intensity:.9,animated:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:e}),a.jsxs(E.div,{...Xr.fadeInUp(.2),className:"relative z-10 w-full max-w-sm rounded-2xl",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass,padding:"2rem"},onClick:j=>j.stopPropagation(),children:[a.jsx(k,{}),a.jsx("h1",{className:"text-2xl font-black mb-2 text-center",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:J.fonts.heading},children:"Регистрация"}),a.jsx("p",{className:"text-center mb-6",style:{color:J.colors.text.muted},children:"Логин, никнейм, почта и пароль (мин. 8 симв.)"}),b&&a.jsxs(E.div,{...Xr.buttonTap,className:"flex items-start gap-3 p-4 mb-6 rounded-2xl",style:{background:"rgba(255, 107, 107, 0.1)",border:"1px solid rgba(255, 107, 107, 0.3)",boxShadow:"0 4px 16px rgba(255, 107, 107, 0.2)"},children:[a.jsx(Jv,{className:"w-5 h-5 mt-0.5 shrink-0",style:{color:"#ff6b6b"}}),a.jsx("span",{className:"text-sm",style:{color:"#ff6b6b"},children:b})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(_r,{className:"w-5 h-5",style:{color:J.colors.text.muted}})}),a.jsx("input",{id:"username",type:"text",autoComplete:"username",placeholder:"Логин (для входа)",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:J.colors.text.primary},value:s,onChange:j=>i(j.target.value.trim())})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(sl,{className:"w-5 h-5",style:{color:J.colors.text.muted}})}),a.jsx("input",{id:"nickname",type:"text",autoComplete:"nickname",placeholder:"Никнейм (для чата)",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:J.colors.text.primary},value:o,onChange:j=>l(j.target.value)})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(ao,{className:"w-5 h-5",style:{color:J.colors.text.muted}})}),a.jsx("input",{id:"email",type:"email",autoComplete:"email",placeholder:"you@example.com",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:J.colors.text.primary},value:c,onChange:j=>u(j.target.value.trim())})]}),a.jsxs("div",{className:"flex h-14 items-center gap-3 rounded-2xl px-4",style:{background:J.colors.background.glass,border:`1px solid ${J.colors.border}`,boxShadow:J.shadows.glass},children:[a.jsx("div",{className:"flex shrink-0 items-center justify-center",children:a.jsx(Rs,{className:"h-5 w-5",style:{color:J.colors.text.muted}})}),a.jsx("input",{id:"password",type:h?"text":"password",autoComplete:"new-password",placeholder:"••••••••",className:"h-full w-full flex-1 bg-transparent text-sm placeholder:text-white/70 outline-none",style:{color:J.colors.text.primary},value:d,onChange:j=>f(j.target.value)}),a.jsx(E.button,{...Xr.buttonTap,type:"button",onClick:()=>y(j=>!j),className:"flex shrink-0 items-center justify-center p-2 rounded-full transition-colors hover:bg-white/10",style:{color:J.colors.text.muted},children:h?a.jsx(t1,{className:"w-5 h-5"}):a.jsx(n1,{className:"w-5 h-5"})})]}),a.jsx(E.button,{...Xr.buttonTap,type:"submit",disabled:x,className:"w-full h-12 rounded-full font-bold text-sm",style:{background:`linear-gradient(135deg, ${J.colors.accent.primary}, ${J.colors.accent.secondary})`,color:"#ffffff",boxShadow:J.shadows.button},children:x?a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(ko,{className:"w-4 h-4 animate-spin"})," Создаем…"]}):"Создать аккаунт"})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsx("p",{className:"text-sm mb-2",style:{color:J.colors.text.muted},children:"Уже есть аккаунт?"}),a.jsx(E.button,{...Xr.buttonTap,type:"button",onClick:()=>g("/login"),className:"text-sm font-bold",style:{color:J.colors.accent.primary},children:"Войти"})]})]})]})},f1=e=>{if(e%100>=11&&e%100<=19)return`${e} лет`;const t=e%10;return t===1?`${e} год`:t>=2&&t<=4?`${e} года`:`${e} лет`},ll=({text:e,isCategory:t})=>{const n=t?"bg-purple-500/10 text-purple-300 border border-purple-500/20":"bg-teal-500/10 text-teal-300 border border-teal-500/10";return a.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-bold ${n}`,children:e})},X={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:(e=0)=>({initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:e}}),starPulse:{animate:{scale:[1,1.2,1],y:[0,-4,0]},transition:{duration:.6,ease:"easeInOut"}},buttonTap:{whileTap:{scale:.97,transition:{duration:.1}}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:3,ease:"easeInOut"}}},lo=M.memo(({icon:e,text:t,colorClass:n})=>a.jsxs(E.div,{variants:X.fadeInStagger(),className:`flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium shadow-lg ${n}`,children:[e,a.jsx("span",{children:t})]}));lo.displayName="InfoBadge";const pn={colors:{background:{glass:"rgba(16, 16, 22, 0.6)",dark:"var(--bg-dark)"},border:"rgba(255, 255, 255, 0.1)",accent:{primary:"var(--accent-primary)",secondary:"#ff6bd6"}},fonts:{heading:"var(--font-family-heading)",body:"var(--font-family-body)"}},w3={buttonTap:{whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:15}}},mh=p.memo(function({character:t,onClick:n}){var R;const{user:r,toggleFavorite:s}=ge(),[i,o]=p.useState(!1),{id:l,name:c,photo:u,occupation:d,gender:f,age:h,ageGroup:y,tags:x,description:w,createdAt:b,isNew:m,category:v}=t,{reviews:g}=yo(),{avgRating:k,reviewsCount:j}=p.useMemo(()=>{const T=g.filter(F=>F.characterId===l&&typeof F.rating=="number"&&F.rating>0);return T.length===0?{avgRating:0,reviewsCount:0}:{avgRating:T.reduce((F,Q)=>F+(Q.rating||0),0)/T.length,reviewsCount:T.length}},[g,l]),C=!!m,S=((R=r==null?void 0:r.favorites)==null?void 0:R.includes(l))||!1,N=async T=>{T.stopPropagation(),r&&!i&&(o(!0),await s(l),o(!1))};return a.jsxs(E.div,{onClick:()=>n(t),className:"relative w-full cursor-pointer flex flex-col rounded-2xl overflow-hidden shadow-lg",style:{fontFamily:pn.fonts.body,background:pn.colors.background.dark},tabIndex:0,children:[a.jsxs("div",{className:"relative w-full h-0",style:{paddingTop:"100%"},children:[a.jsx("img",{src:u,alt:c,loading:"lazy",className:"absolute top-0 left-0 w-full h-full object-cover"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 pointer-events-none",style:{background:`linear-gradient(to top, ${pn.colors.background.dark}, transparent)`}}),a.jsxs("div",{className:"absolute top-3 left-3 right-3 z-10 flex justify-between items-start",children:[C?a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-bold bg-black/50 text-white border border-white/20 backdrop-blur-md",children:[a.jsx(uT,{size:14,fill:"currentColor",stroke:"none",className:"text-orange-500"}),a.jsx("span",{children:"Новый"})]}):a.jsx("div",{}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-bold bg-black/50 text-white border border-white/20 backdrop-blur-md",children:[a.jsx(ph,{className:"w-4 h-4 text-yellow-400",fill:"currentColor"}),a.jsx("span",{className:"mt-px",children:j>0?k.toFixed(1):"—"})]})]}),r&&a.jsx(E.button,{...w3.buttonTap,onClick:N,disabled:i,className:"absolute bottom-3 right-3 w-10 h-10 rounded-full flex items-center justify-center z-10",style:{background:S?`linear-gradient(135deg, ${pn.colors.accent.primary}, ${pn.colors.accent.secondary})`:pn.colors.background.glass,border:`1px solid ${S?"transparent":pn.colors.border}`},"aria-label":S?"Убрать из избранного":"Добавить в избранное",children:i?a.jsx(ko,{className:"w-5 h-5 animate-spin text-white"}):a.jsx(Or,{className:"w-5 h-5",fill:"currentColor",stroke:"none",style:{color:S?"#ffffff":pn.colors.accent.primary}})})]}),a.jsxs("div",{className:"relative p-4 z-10",children:[a.jsxs("div",{className:"text-center mb-3",children:[a.jsx("h3",{className:"text-2xl font-black truncate text-[var(--text-primary)]",style:{fontFamily:pn.fonts.heading},children:c}),a.jsx("p",{className:"font-medium text-base truncate mt-1 text-[var(--text-secondary)]",children:d})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 mb-3",children:[a.jsx(lo,{icon:a.jsx(_r,{size:14}),text:f==="male"?"Мужчина":"Женщина",colorClass:"bg-white/5 text-text-secondary border border-white/10"}),a.jsx(lo,{icon:y==="immortal"?a.jsx(hh,{size:14}):a.jsx(Zv,{size:14}),text:y==="immortal"?"Бессмертный":f1(h),colorClass:"bg-white/5 text-text-secondary border border-white/10"})]}),(v==null?void 0:v.length)>0&&a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1.5 mb-3",children:v.map(T=>a.jsx(ll,{text:T,isCategory:!0},T))}),(x==null?void 0:x.length)>0&&a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-1.5 mb-3",children:x.map(T=>a.jsx(ll,{text:T},T))}),a.jsx("p",{className:"text-[13px] font-bold text-center leading-relaxed text-[var(--text-muted)]",children:w})]})]})}),Fl=()=>a.jsxs("div",{className:"relative w-full max-w-sm mx-auto aspect-[3/4] rounded-[28px] overflow-hidden bg-white/5 p-4 animate-pulse",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-7 w-20 rounded-full bg-white/10"}),a.jsx("div",{className:"h-7 w-16 rounded-full bg-white/10"})]}),a.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10"})]}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[a.jsx("div",{className:"h-7 w-3/4 rounded-lg bg-white/10 mb-2"}),a.jsx("div",{className:"h-5 w-1/2 rounded-lg bg-white/10 mb-3"}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("div",{className:"h-6 w-24 rounded-full bg-white/10"}),a.jsx("div",{className:"h-6 w-24 rounded-full bg-white/10"})]}),a.jsx("div",{className:"h-4 w-full rounded-lg bg-white/10 mb-1"}),a.jsx("div",{className:"h-4 w-3/4 rounded-lg bg-white/10"})]})]}),gt=M.memo(({children:e,className:t="",delay:n=0})=>a.jsx(E.div,{variants:X.fadeInUp(n),initial:"initial",animate:"animate",className:`rounded-lg border bg-glass backdrop-blur-xl p-5 sm:p-6 shadow-glass ${t}`,children:e}));gt.displayName="GlassPanel";const b3=M.memo(()=>a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})),k3=M.memo(({filled:e=!1})=>a.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:e?"currentColor":"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M12 21.35L10.55 20.03C5.4 15.36 2 12.27 2 8.5C2 5.41 4.42 3 7.5 3C9.24 3 10.91 3.81 12 5.08C13.09 3.81 14.76 3 16.5 3C19.58 3 22 5.41 22 8.5C22 12.27 18.6 15.36 13.45 20.03L12 21.35Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"})})),j3=M.memo(({filled:e=!1,color:t="currentColor",size:n=24})=>a.jsx("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:e?t:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})),C3=M.memo(()=>a.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}));M.memo(()=>a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M15 3h6v6",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M10 14 21 3",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]}));const S3=M.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"12",cy:"7",r:"4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),N3=M.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M20 21v-2a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M4 17a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v2H4v-2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 15V9",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M8 9H8.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M16 9H16.01",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M12 3L12 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),T3=M.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M9.83 6.17a4 4 0 1 0 0 11.66",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M14.17 6.17a4 4 0 1 1 0 11.66",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),h1=M.memo(()=>a.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"animate-spin",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M12 2v4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M12 18v4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M4.93 4.93l2.83 2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M16.24 16.24l2.83 2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M2 12h4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M18 12h4",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M4.93 19.07l2.83-2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M16.24 7.76l2.83-2.83",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"})]})),mg=M.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})),E3=M.memo(({size:e=20})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})),P3=M.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M4 21V14M4 10V3M12 21V12M12 8V3M20 21V16M20 12V3M1 14H7M9 8H15M17 16H23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}));M.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M3 2V6H7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M3 13C3 9.13401 6.13401 6 10 6C11.8466 6 13.5352 6.71631 14.8038 7.88615C16.0725 9.05598 16.8519 10.6157 17 12.25C17.1481 13.8843 16.3687 15.444 15.0999 16.6138C13.8312 17.7837 12.1426 18.5 10.3 18.5C8.8986 18.4986 7.52554 18.0826 6.3424 17.3011C5.15925 16.5196 4.21514 15.405 3.618 14.085",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));M.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("path",{d:"M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M9 11C11.2091 11 13 9.20914 13 7C13 4.79086 11.2091 3 9 3C6.79086 3 5 4.79086 5 7C5 9.20914 6.79086 11 9 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M17 7C17 9.20914 18.7909 11 21 11C23.2091 11 25 9.20914 25 7C25 4.79086 23.2091 3 21 3C18.7909 3 17 4.79086 17 7Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));M.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"9",r:"5",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 14V22M19 17L12 22L5 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}));M.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"9",r:"5",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 14V22M16 18H8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}));M.memo(({size:e=16})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 6V12L16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}));M.memo(({size:e=16})=>a.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:a.jsx("path",{d:"M3 10H21M3 14H21M12 3L12 21M12 21L8 17M12 21L16 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}));M.memo(({size:e=40})=>a.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",style:{display:"inline-block",verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M8 14C8 14 9.5 16 12 16C14.5 16 16 14 16 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("circle",{cx:"8",cy:"9",r:"1",fill:"currentColor"}),a.jsx("circle",{cx:"16",cy:"9",r:"1",fill:"currentColor"})]}));const p1=M.memo(({value:e,onChange:t,onToggleFilters:n,filtersOpen:r,activeCount:s,isLoading:i})=>{const[o,l]=p.useState(!1),c=s>0;return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-text-muted",children:a.jsx(E3,{size:20})}),a.jsx("input",{type:"text",placeholder:"Поиск",value:e,onChange:u=>t(u.target.value),onFocus:()=>l(!0),onBlur:()=>l(!1),className:"w-full h-14 pl-14 pr-36 sm:pr-40 rounded-lg bg-transparent border focus:outline-none transition-all duration-300",style:{borderColor:o?"var(--accent-primary)":"var(--border-color)",boxShadow:o?"0 0 0 3px rgba(var(--accent-primary-rgb), 0.2)":"none"}}),a.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[i&&a.jsx(h1,{}),a.jsxs(E.button,{...X.buttonTap,onClick:n,"aria-pressed":r,className:`inline-flex items-center gap-2 h-10 px-4 rounded-md text-sm font-medium transition-all duration-300 ${r?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white shadow-button":"bg-badge-tag text-text-secondary border border-default hover:bg-glass-hover"}`,children:[a.jsx(P3,{size:16}),a.jsx("span",{className:"hidden sm:inline",children:"Фильтры"}),c&&a.jsx("span",{className:"ml-1 min-w-[20px] h-[20px] px-1.5 rounded-full text-xs font-bold text-dark bg-accent-primary flex items-center justify-center",children:s>9?"9+":String(s)})]})]})]})});p1.displayName="SearchBar";const Ot=M.memo(({icon:e,label:t,active:n,onClick:r})=>a.jsxs(E.button,{...X.buttonTap,onClick:r,className:`inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300 border
          ${n?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white border-transparent shadow-button":"bg-badge-tag text-text-secondary border-default hover:bg-glass-hover"}`,children:[e&&a.jsx(e,{size:16}),a.jsx("span",{children:t})]}));Ot.displayName="FilterChip";const R3=({tag:e,status:t,onClick:n})=>{const r="inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border transition-all duration-200 cursor-pointer",s={off:"bg-badge-tag text-text-secondary border-default hover:bg-glass-hover",include:"bg-green-500/20 text-green-300 border-green-500/30 filter drop-shadow-[0_0_4px_rgba(74,222,128,0.5)]",exclude:"bg-red-500/20 text-red-300 border-red-500/30 filter drop-shadow-[0_0_4px_rgba(248,113,113,0.5)]"};return a.jsx(E.button,{...X.buttonTap,onClick:n,className:`${r} ${s[t]}`,children:a.jsx("span",{children:e})})};function A3(){var w,b,m,v;const e=rt(),{filters:t,setFilters:n,charactersLoading:r,filteredCharacters:s,allCategories:i}=Ve(),[o,l]=p.useState(t.search??""),[c,u]=p.useState(!1);M.useEffect(()=>{const g=setTimeout(()=>{n(k=>({...k,search:o}))},300);return()=>clearTimeout(g)},[o,n]);const{scrollY:d}=ur(),f=on(d,[0,500],[.3,.1]),h=g=>{n(k=>{const j=k.includeCategories.includes(g),C=k.excludeCategories.includes(g);return!j&&!C?{...k,includeCategories:[...k.includeCategories,g]}:j?{...k,includeCategories:k.includeCategories.filter(S=>S!==g),excludeCategories:[...k.excludeCategories,g]}:{...k,excludeCategories:k.excludeCategories.filter(S=>S!==g)}})},y=(t.gender!=="all"?1:0)+(t.ageGroup!=="all"?1:0)+(t.sortBy!=="newest"?1:0)+(((w=t.includeTags)==null?void 0:w.length)||0)+(((b=t.excludeTags)==null?void 0:b.length)||0)+(((m=t.includeCategories)==null?void 0:m.length)||0)+(((v=t.excludeCategories)==null?void 0:v.length)||0),x=()=>{n({search:"",gender:"all",ageGroup:"all",sortBy:"newest",includeTags:[],excludeTags:[],includeCategories:[],excludeCategories:[]}),l("")};return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:"var(--font-family-body)",backgroundColor:"var(--bg)",color:"var(--text-primary)"},children:[a.jsx(et,{intensity:f}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...X.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"👤 Каталог персонажей"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:"var(--text-muted)"},children:"Найдите своего идеального собеседника"})]}),a.jsxs(gt,{delay:.2,className:"mb-6",style:{background:"var(--glass)",border:"1px solid var(--border)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.35)",backdropFilter:"blur(16px)"},children:[a.jsx(p1,{value:o,onChange:l,onToggleFilters:()=>u(g=>!g),filtersOpen:c,activeCount:y,isLoading:r}),a.jsx(Te,{children:c&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"border-t border-border mt-4 pt-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 px-1",children:[a.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:"Фильтры"}),a.jsxs(E.button,{...X.buttonTap,onClick:x,className:"inline-flex items-center gap-2 h-9 px-3 rounded-full text-sm font-medium",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"#ffffff",border:"none",boxShadow:"0 4px 16px rgba(215, 174, 251, 0.0)"},children:[a.jsx(dg,{size:14})," ",a.jsx("span",{children:"Сбросить"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5 p-1",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Пол"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ot,{icon:Vr,label:"Все",active:t.gender==="all",onClick:()=>n({...t,gender:"all"})}),a.jsx(Ot,{icon:i1,label:"Мужчины",active:t.gender==="male",onClick:()=>n({...t,gender:"male"})}),a.jsx(Ot,{icon:u1,label:"Женщины",active:t.gender==="female",onClick:()=>n({...t,gender:"female"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Возраст"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ot,{icon:Vr,label:"Все",active:t.ageGroup==="all",onClick:()=>n({...t,ageGroup:"all"})}),a.jsx(Ot,{icon:Zv,label:"18+",active:t.ageGroup==="18+",onClick:()=>n({...t,ageGroup:"18+"})}),a.jsx(Ot,{icon:hd,label:"30+",active:t.ageGroup==="30+",onClick:()=>n({...t,ageGroup:"30+"})}),a.jsx(Ot,{icon:hh,label:"Бессмертные",active:t.ageGroup==="immortal",onClick:()=>n({...t,ageGroup:"immortal"})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Сортировка"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Ot,{icon:hd,label:"Сначала новые",active:t.sortBy==="newest",onClick:()=>n({...t,sortBy:"newest"})}),a.jsx(Ot,{icon:ph,label:"По рейтингу",active:t.sortBy==="rating",onClick:()=>n({...t,sortBy:"rating"})}),a.jsx(Ot,{icon:Xv,label:"По имени (А-Я)",active:t.sortBy==="name",onClick:()=>n({...t,sortBy:"name"})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"text-sm uppercase tracking-wider mb-3 font-bold",style:{color:"var(--text-muted)"},children:"Категории"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(g=>{const k=t.includeCategories.includes(g),j=t.excludeCategories.includes(g),C=k?"include":j?"exclude":"off";return a.jsx(R3,{tag:g,status:C,onClick:()=>h(g)},g)})})]})]})]})})})]}),r?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:Array.from({length:12}).map((g,k)=>a.jsx(Fl,{},k))}):s.length>0?a.jsx(E.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:a.jsx(Te,{children:s.map(g=>a.jsx(E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.6,ease:[.25,.1,.25,1]},children:a.jsx(mh,{character:g,onClick:()=>e(`/characters/${g.id}`)})},g.id))})}):a.jsxs(gt,{className:"text-center py-16",style:{background:"var(--glass)",border:"1px solid var(--border)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.35)",backdropFilter:"blur(16px)"},children:[a.jsx(E.div,{...X.float,className:"w-16 h-16 mx-auto mb-6",style:{color:"var(--text-muted)"},children:a.jsx(fh,{size:40})}),a.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)"},children:"Ничего не найдено"}),a.jsx("p",{className:"mb-6 text-sm sm:text-base",style:{color:"var(--text-muted)"},children:"Попробуйте изменить критерии поиска или сбросить фильтры."}),a.jsxs(E.button,{...X.buttonTap,onClick:x,className:"inline-flex items-center gap-2 px-6 py-3.5 rounded-full font-bold text-sm",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",color:"#ffffff",border:"none",boxShadow:"0 6px 20px rgba(255, 107, 214, 0.3)"},children:[a.jsx(dg,{size:16})," Сбросить все фильтры"]})]})]})]})}function m1({characterId:e,parentReviewId:t,replyToName:n,onSubmit:r,onCancel:s,autoFocus:i=!1}){const{user:o,openAuthDialog:l}=ge(),{addReview:c}=yo(),[u,d]=p.useState(""),[f,h]=p.useState(!1),[y,x]=p.useState(null),w=p.useRef(null);p.useEffect(()=>{i&&w.current&&w.current.focus()},[i]),p.useEffect(()=>{w.current&&(w.current.style.height="auto",w.current.style.height=`${w.current.scrollHeight}px`)},[u]);const b=async m=>{if(m.preventDefault(),!o||!_.authStore.isValid){_n.error("Пожалуйста, войдите в систему, чтобы оставить комментарий."),l&&l();return}if(u.trim().length===0)return;h(!0),x(null);const v=n?`@${n} ${u.trim()}`:u.trim();try{await c({characterId:e,comment:v,parentReview:t})?(d(""),r()):(x("Не удалось опубликовать комментарий."),_n.error("Не удалось опубликовать комментарий."))}catch(g){const k=(g==null?void 0:g.message)||"Произошла неизвестная ошибка.";x(k),_n.error(k)}finally{h(!1)}};return o?a.jsxs("form",{onSubmit:b,className:"flex items-start gap-3",children:[a.jsx("img",{src:o.avatar||`https://ui-avatars.com/api/?name=${o.nickname}&background=random`,alt:"Ваш аватар",className:"w-10 h-10 rounded-full border-2 border-default mt-1 shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"rounded-xl border border-default bg-item focus-within:ring-2 focus-within:ring-accent-primary transition-all overflow-hidden",children:a.jsx("textarea",{ref:w,value:u,onChange:m=>d(m.target.value),placeholder:n?`Ответ пользователю ${n}...`:"Что вы думаете?",className:"w-full bg-transparent p-3 outline-none resize-none text-sm text-text-primary placeholder:text-text-muted max-h-40",rows:1,disabled:f})}),a.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[s&&a.jsx(E.button,{type:"button",onClick:s,disabled:f,className:"px-4 py-2 text-xs font-semibold text-text-muted hover:text-text-primary rounded-lg transition-colors",whileTap:{scale:.95},children:"Отмена"}),a.jsx(E.button,{type:"submit",disabled:f||u.trim().length===0,className:"w-10 h-10 flex items-center justify-center rounded-full text-white transition-opacity disabled:opacity-50 disabled:cursor-not-allowed shadow-button",style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))"},whileTap:{scale:.95},"aria-label":"Отправить",children:f?a.jsx(ko,{size:16,className:"animate-spin"}):a.jsx(Ys,{size:16})})]}),y&&a.jsx("p",{className:"text-xs text-red-400 mt-1",children:y})]})]}):null}const Jo={ThumbsUp:e=>a.jsx(c1,{size:14,...e}),ThumbsDown:e=>a.jsx(l1,{size:14,...e}),MessageSquare:e=>a.jsx(sl,{size:14,...e}),ChevronDown:e=>a.jsx(W4,{size:14,...e})};function g1({review:e,characterId:t}){var m,v;const{user:n}=ge(),{toggleReviewLike:r,toggleReviewDislike:s}=yo(),[i,o]=p.useState(!1),[l,c]=p.useState(!1),u=e.author,d=(u==null?void 0:u.nickname)||e.userName,f=(u==null?void 0:u.avatar)||`https://api.dicebear.com/8.x/initials/svg?seed=${encodeURIComponent(d)}`,h=n&&((m=e.likesBy)==null?void 0:m.includes(n.id)),y=n&&((v=e.dislikesBy)==null?void 0:v.includes(n.id)),x=(e.replyToName?e.comment.replace(`@${e.replyToName}`,""):e.comment).trim(),w=!!e.parentReview,b=()=>{var g,k;return a.jsxs("div",{className:`rounded-xl border backdrop-blur-sm overflow-hidden ${w?"bg-reply":"bg-item"}`,children:[a.jsxs("div",{className:"p-3.5",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:"font-semibold text-sm text-text-primary",children:d}),e.replyToName&&a.jsxs("div",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-accent-primary/20 text-accent-primary border border-accent-primary/30",children:["Ответ для: ",e.replyToName]})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed text-text-secondary mt-1.5",children:x||" "})]}),a.jsxs("div",{className:"flex items-center gap-2 px-3.5 py-2.5 border-t border-default",children:[a.jsxs(E.button,{...X.buttonTap,onClick:()=>r(e.id),disabled:!n,className:`flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full transition-colors ${h?"bg-green-500/20 text-green-300":"bg-white/5 text-text-muted hover:bg-white/10 hover:text-white"}`,children:[a.jsx(Jo.ThumbsUp,{})," ",a.jsx("span",{children:((g=e.likesBy)==null?void 0:g.length)||0})]}),a.jsxs(E.button,{...X.buttonTap,onClick:()=>s(e.id),disabled:!n,className:`flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full transition-colors ${y?"bg-red-500/20 text-red-300":"bg-white/5 text-text-muted hover:bg-white/10 hover:text-white"}`,children:[a.jsx(Jo.ThumbsDown,{})," ",a.jsx("span",{children:((k=e.dislikesBy)==null?void 0:k.length)||0})]}),n&&a.jsxs(E.button,{...X.buttonTap,onClick:()=>o(j=>!j),className:"ml-auto flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full bg-white/5 text-accent-primary hover:bg-white/10 hover:text-white transition-colors",children:[a.jsx(Jo.MessageSquare,{})," ",a.jsx("span",{children:i?"Отмена":"Ответить"})]})]})]})};return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("img",{src:f,alt:d,className:"w-10 h-10 rounded-full border-2 border-default flex-shrink-0 bg-item"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[b(),a.jsx(Te,{children:i&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-3 overflow-hidden",children:a.jsx(m1,{characterId:t,parentReviewId:e.id,replyToName:d,onSubmit:()=>o(!1),onCancel:()=>o(!1),autoFocus:!0})})}),e.replies&&e.replies.length>0&&a.jsxs(E.button,{...X.buttonTap,onClick:()=>c(g=>!g),className:"flex items-center gap-1.5 text-xs font-medium text-text-muted hover:text-accent-primary transition-colors mt-3",children:[a.jsx(E.div,{animate:{rotate:l?180:0},children:a.jsx(Jo.ChevronDown,{})}),l?"Скрыть ответы":`Показать ответы (${e.replies.length})`]})]})]}),a.jsx(Te,{children:l&&e.replies&&e.replies.length>0&&a.jsx(E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"pt-4 space-y-4 overflow-hidden",children:e.replies.map(g=>a.jsx(g1,{review:g,characterId:t},g.id))})})]})}const pd=M.memo(({value:e=0,onChange:t,size:n=24,readOnly:r=!1})=>{const[s,i]=p.useState(!1),o=p.useCallback(l=>{r||e===l||(t==null||t(l),i(!0),setTimeout(()=>i(!1),600))},[t,r,e]);return a.jsx("div",{className:"flex items-center gap-1","aria-label":r?`Оценка: ${e} из 5`:"Выставить рейтинг",children:a.jsx(E.div,{className:"flex items-center gap-1",animate:s?X.starPulse.animate:{},transition:X.starPulse.transition,children:Array.from({length:5}).map((l,c)=>{const u=c+1,d=e>=u;return a.jsx("button",{type:"button","aria-label":`${u} ${u===1?"звезда":"звезды"}`,onClick:()=>o(u),disabled:r,className:"focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-full p-1 transition-transform active:scale-90",children:a.jsx("div",{style:{width:n,height:n,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(j3,{filled:d,color:d?"var(--star-filled)":"var(--text-muted)",size:n,style:{filter:d?"drop-shadow(0 0 12px rgba(var(--star-glow-rgb), 0.6))":"none",transition:"all 0.2s ease"}})})},u)})})})});pd.displayName="StarRating";function y1(){const e=rt(),{characterId:t=""}=ck(),{user:n,toggleFavorite:r}=ge(),{characters:s,loading:i}=Ve(),{reviews:o,addReview:l,updateReview:c,loading:u}=yo(),[d,f]=p.useState(!0),[h,y]=p.useState(0),[x,w]=p.useState(!1),[b,m]=p.useState(!1),[v,g]=p.useState(!1),[k,j]=p.useState(15),[C,S]=p.useState(!1),{scrollY:N}=ur(),R=on(N,[0,500],[.35,.1]),T=on(N,[0,300],[0,-25]),$=on(N,[0,200],[1,1.05]),F=p.useMemo(()=>s.find(I=>I.id===t),[s,t]),{avgRating:Q,reviewsCount:re}=p.useMemo(()=>{const I=o.filter(G=>G.characterId===t&&G.rating&&G.rating>0);return I.length===0?{avgRating:0,reviewsCount:0}:{avgRating:I.reduce((G,Ie)=>G+(Ie.rating||0),0)/I.length,reviewsCount:I.length}},[o,t]);p.useEffect(()=>{if(i||u){f(!0);return}(async()=>{var K;if(n&&F){try{const G=await _.collection("reviews").getFirstListItem(`character_id = "${t}" && user_id = "${n.id}"`,{requestKey:`user-rating-${t}-${n.id}`});y(G.rating||0)}catch{y(0)}m(((K=n==null?void 0:n.favorites)==null?void 0:K.includes(F.id))||!1)}f(!1)})()},[t,n,F,i,u]);const ce=async()=>{!n||!F||x||(w(!0),await r(F.id),m(!b),g(!0),setTimeout(()=>g(!1),400),w(!1))},Xe=p.useCallback(async I=>{if(n)try{let K;try{K=await _.collection("reviews").getFirstListItem(`character_id = "${t}" && user_id = "${n.id}"`)}catch{}K?await c(K.id,{rating:I}):await l({characterId:t,rating:I,comment:""}),y(I)}catch(K){console.error("Failed to update rating:",K)}},[n,t,c,l]),ee=p.useCallback(()=>{},[]),A=p.useMemo(()=>o.filter(I=>I.characterId===t&&I.comment&&I.comment.trim()),[o,t]),O=p.useMemo(()=>{var Ie;const I=new Map(A.map(se=>[se.id,{...se,replies:[]}])),K=[];for(const se of I.values())if(se.parentReview&&I.has(se.parentReview)){const be=I.get(se.parentReview);se.replyToName=((Ie=be.author)==null?void 0:Ie.nickname)||be.userName,be.replies.push(se)}else K.push(se);const G=se=>{se.sort((be,Ct)=>new Date(be.createdAt).getTime()-new Date(Ct.createdAt).getTime());for(const be of se)be.replies.length>1&&G(be.replies)};for(const se of I.values())se.replies.length>1&&G(se.replies);return K.sort((se,be)=>new Date(be.createdAt).getTime()-new Date(se.createdAt).getTime())},[A]);return i||u||d||!F?a.jsx("div",{children:"Загрузка..."}):a.jsxs("div",{className:"relative min-h-screen p-3 sm:p-5 font-body text-text-primary bg-dark",children:[a.jsx(et,{intensity:R}),a.jsx(E.button,{...X.buttonTap,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,ease:"easeOut"},onClick:()=>e(-1),className:"fixed top-6 left-6 z-50 w-14 h-14 rounded-full flex items-center justify-center bg-floating backdrop-blur-lg shadow-glass","aria-label":"Назад",children:a.jsx(b3,{})}),a.jsxs(E.div,{initial:"initial",animate:"animate",variants:X.fadeInUp(),className:"relative z-10 w-full max-w-4xl mx-auto space-y-8",children:[a.jsx(E.div,{style:{scale:$},className:"w-full aspect-square rounded-xl overflow-hidden relative shadow-2xl",children:a.jsx("img",{src:F.photo,alt:F.name,className:"w-full h-full object-cover",loading:"lazy"})}),a.jsxs(E.div,{variants:X.fadeInUp(.1),className:"space-y-6 text-center",children:[a.jsx(E.h1,{style:{y:T},className:"text-4xl sm:text-5xl md:text-6xl font-black leading-tight bg-gradient-to-r from-white via-accent-primary to-accent-secondary bg-clip-text text-transparent font-heading",children:F.name}),a.jsx("p",{className:"text-xl sm:text-2xl font-medium text-text-secondary",children:F.occupation}),a.jsx("p",{className:"text-base sm:text-lg leading-relaxed max-w-2xl mx-auto px-2 text-text-muted",style:{lineHeight:"1.75"},children:F.description}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-3 my-4",children:[a.jsx(lo,{icon:a.jsx(S3,{}),text:F.gender==="male"?"Мужчина":"Женщина",colorClass:"bg-badge-male text-white"}),a.jsx(lo,{icon:F.ageGroup==="immortal"?a.jsx(T3,{}):a.jsx(N3,{}),text:F.ageGroup==="immortal"?"Бессмертный":f1(F.age),colorClass:F.ageGroup==="immortal"?"bg-badge-immortal text-dark":"bg-badge-age text-white"})]}),F.category&&F.category.length>0&&a.jsx("div",{className:"flex flex-wrap justify-center gap-2.5 my-2",children:a.jsx(Te,{children:F.category.map((I,K)=>a.jsx(E.div,{variants:X.fadeInStagger(K*.05),initial:"initial",animate:"animate",children:a.jsx(ll,{text:I,isCategory:!0})},I))})}),F.tags.length>0&&a.jsx("div",{className:"flex flex-wrap justify-center gap-2.5 my-2",children:a.jsx(Te,{children:F.tags.map((I,K)=>a.jsx(E.div,{variants:X.fadeInStagger(K*.05),initial:"initial",animate:"animate",children:a.jsx(ll,{text:I})},I))})}),n&&a.jsx("div",{className:"flex justify-center mt-6",children:a.jsx(E.button,{...X.buttonTap,animate:v?X.buttonPulse.animate:{},transition:X.buttonPulse.transition,onClick:ce,disabled:x,"aria-label":b?"Удалить из избранного":"Добавить в избранное",className:`inline-flex items-center gap-2.5 px-7 py-4 rounded-full font-bold text-sm relative transition-smooth ${b?"bg-gradient-to-r from-accent-primary to-accent-secondary text-white shadow-button":"bg-accent-primary/10 text-text-primary border-2 border-accent-primary"}`,children:x?a.jsx(h1,{}):a.jsxs(a.Fragment,{children:[" ",a.jsx(k3,{filled:b})," ",b?"В избранном":"В избранное"," "]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsx(gt,{delay:.2,children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[a.jsx("h4",{className:"text-xs uppercase tracking-widest text-text-muted",children:"Общий рейтинг"}),a.jsx("div",{className:"text-4xl font-extrabold text-star-filled",children:Q>0?Q.toFixed(1):"—"}),a.jsx(pd,{value:Q,readOnly:!0,size:28}),a.jsxs("div",{className:"text-xs text-text-muted",children:["На основе ",re," ",re===1?"оценки":"оценок"]})]})}),n&&a.jsxs(gt,{delay:.3,children:[a.jsx("h2",{className:"text-lg font-bold mb-4 text-center text-text-primary",children:h>0?"💖 Ваша оценка":"Поставьте оценку!"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(pd,{value:h,onChange:Xe,size:36})})]})]}),F.fullDescription&&a.jsx(a.Fragment,{children:a.jsx(E.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},className:"w-full max-w-4xl mx-auto",children:a.jsxs("div",{className:"rounded-xl border px-4 py-3 sm:px-5 sm:py-4",style:{background:"rgba(250, 204, 21, 0.10)",borderColor:"rgba(250, 204, 21, 0.45)",boxShadow:"0 8px 24px rgba(250, 204, 21, 0.05)",color:"rgb(253, 230, 138)"},children:[a.jsxs("button",{type:"button",onClick:()=>S(I=>!I),"aria-expanded":C,className:"w-full flex items-center justify-between gap-3 text-left",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[a.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("circle",{cx:"12",cy:"17",r:"1.2",fill:"currentColor"})]}),a.jsx("span",{className:"font-bold tracking-wide text-sm sm:text-base uppercase",children:"Важно к прочтению"})]}),a.jsx("span",{className:"transition-transform duration-200 inline-flex"+(C?" rotate-180":""),"aria-hidden":"true",children:a.jsx(mg,{size:18})})]}),a.jsx(Te,{initial:!1,children:C&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"pt-3 sm:pt-4 text-[15px] leading-relaxed prose prose-sm prose-invert max-w-none",children:[a.jsx("p",{children:" - Данный сайт содержит материалы для лиц старше 18 лет."}),a.jsx("p",{children:" - Все персонажи и описываемые события являются вымышленными."}),a.jsx("p",{children:" - Любое совпадение с реальными людьми или событиями, является случайностью."}),a.jsx("p",{children:" - В наших текстах может присутствовать нецензурная лексика, жестокие персонажи и употребление различных веществ."}),a.jsx("p",{children:" - Мы предупреждаем о наличии сцен, которые могут быть травмирующими или оскорбительными для некоторых читателей."}),a.jsx("p",{children:" - Контент несет исключительно развлекательный характер и не имеет цели кого-то задеть или оскорбить."})]})},"notice-content")})]})})}),F.fullDescription&&a.jsxs(gt,{delay:.4,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"📜 Описание"}),a.jsx("div",{className:"prose prose-sm prose-invert max-w-none prose-p:my-1 prose-h2:my-2 prose-h3:my-1",dangerouslySetInnerHTML:{__html:F.fullDescription}})]}),F.links&&F.links.length>0&&a.jsxs(gt,{delay:.5,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🔗 Ссылки"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:F.links.map((I,K)=>I.url&&I.label&&a.jsx(E.a,{variants:X.fadeInStagger(K*.05),initial:"initial",animate:"animate",href:I.url,target:"_blank",rel:"noopener noreferrer",className:"flex w-full items-center justify-center gap-2 rounded-xl p-4 font-medium bg-item hover:bg-glass-hover border transition-smooth text-center",whileHover:{scale:1.03},children:a.jsx("span",{children:I.label})},K))})]}),a.jsxs(gt,{delay:.6,children:[a.jsx("h2",{className:"text-2xl font-bold mb-5 flex items-center justify-center gap-2 text-text-primary",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"💭 Комментарии"}),n&&a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-badge-tag border",children:a.jsx(m1,{characterId:t,onSubmit:ee})}),a.jsx("div",{className:"space-y-6",children:O.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx(E.div,{...X.float,className:"w-16 h-16 mx-auto mb-6 text-text-muted",children:a.jsx(C3,{})}),a.jsx("p",{className:"text-xl font-medium mb-2 text-text-secondary",children:"Будьте первым!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Te,{children:O.slice(0,k).map(I=>a.jsx(E.div,{variants:X.fadeInUp(0),initial:"initial",animate:"animate",exit:"initial",layout:!0,children:a.jsx(g1,{review:I,characterId:t})},I.id))}),O.length>k&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(E.button,{...X.buttonTap,onClick:()=>j(I=>I+20),className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-full text-sm font-medium bg-glass hover:bg-glass-hover border transition-smooth",children:[a.jsx(mg,{size:16}),"Показать ещё"]})})]})})]})]})]})}M.memo(y1);const je={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},hi={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}},L3=e=>e?new Date(e):new Date(0),M3=e=>{const t=new Date;if(e==="all")return new Date(0);const n=new Date(t);return e==="30d"&&n.setDate(t.getDate()-30),e==="7d"&&n.setDate(t.getDate()-7),n};function Vc({label:e,active:t,onClick:n}){return a.jsx(E.button,{...hi.buttonTap,onClick:n,className:"inline-flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-all duration-300",style:t?{background:`linear-gradient(135deg, ${je.colors.accent.primary}, ${je.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:je.shadows.button}:{background:je.colors.background.glass,color:je.colors.text.primary,border:`1px solid ${je.colors.border}`,boxShadow:je.shadows.glass},children:a.jsx("span",{children:e})})}function I3(e){const t=[{gradient:"linear-gradient(135deg, #ffd700, #ffcc00)",shadow:"0 4px 16px rgba(255, 215, 0, 0.4)"},{gradient:"linear-gradient(135deg, #c0c0c0, #a9a9a9)",shadow:"0 4px 16px rgba(192, 192, 192, 0.4)"},{gradient:"linear-gradient(135deg, #cd7f32, #b87333)",shadow:"0 4px 16px rgba(205, 127, 50, 0.4)"}];if(e<3){const n=t[e];return{background:n.gradient,boxShadow:n.shadow,border:"none",color:"#0a0a12"}}return{background:je.colors.background.glass,border:`1px solid ${je.colors.border}`,boxShadow:je.shadows.glass,color:je.colors.text.primary}}function $3(){const e=rt(),{characters:t,loadCharacters:n}=Ve(),{reviews:r}=yo(),[s,i]=p.useState("30d"),{scrollY:o}=ur(),l=on(o,[0,500],[.3,.1]);p.useEffect(()=>{t!=null&&t.length||n==null||n()},[]);const c=M3(s),u=p.useMemo(()=>{const d=(r||[]).filter(x=>typeof x.rating=="number"&&x.rating>0&&L3(x.createdAt)>=c),f=d.length>0?d.reduce((x,w)=>x+(w.rating||0),0)/d.length:0,h=3,y=(t||[]).map(x=>{const w=d.filter(g=>g.characterId===x.id),b=w.length,m=b?w.reduce((g,k)=>g+(k.rating||0),0)/b:0,v=b===0?0:b/(b+h)*m+h/(b+h)*f;return{id:x.id,name:x.name||"Без названия",occupation:x.occupation||"",rating:v,avatar:x.photo||""}});return y.sort((x,w)=>w.rating-x.rating||x.name.localeCompare(w.name)),y},[t,r,c]);return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:je.fonts.body,backgroundColor:je.colors.background.dark},children:[a.jsx(et,{intensity:l}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...hi.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:je.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🏆 Рейтинг персонажей"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:je.colors.text.muted},children:"Самые популярные персонажи по версии пользователей"})]}),a.jsx(E.div,{...hi.fadeInUp(.2),className:"mb-8",children:a.jsx("div",{className:"rounded-2xl border backdrop-blur-xl p-4",style:{background:je.colors.background.glass,borderColor:je.colors.border,boxShadow:je.shadows.glass},children:a.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[a.jsx(Vc,{label:"За неделю",active:s==="7d",onClick:()=>i("7d")}),a.jsx(Vc,{label:"За месяц",active:s==="30d",onClick:()=>i("30d")}),a.jsx(Vc,{label:"Всё время",active:s==="all",onClick:()=>i("all")})]})})}),a.jsx(Te,{children:a.jsx(E.ul,{className:"flex flex-col gap-4",children:u.map((d,f)=>a.jsx(E.li,{...hi.fadeInUp(.3+f*.05),children:a.jsxs(E.button,{...hi.buttonTap,onClick:()=>e(`/characters/${d.id}`),className:"w-full flex items-center justify-between rounded-2xl px-4 py-4 text-left transition-all duration-300",style:I3(f),children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"h-12 w-12 rounded-full overflow-hidden border",style:{borderColor:je.colors.border},children:d.avatar?a.jsx("img",{src:d.avatar,alt:d.name,className:"h-full w-full object-cover",loading:"lazy"}):a.jsx("div",{className:"h-full w-full bg-black/30 flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:"👤"})})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-sm font-bold leading-tight truncate",style:{color:f<3?"#0a0a12":je.colors.text.primary},children:[f+1,". ",d.name]}),a.jsx("div",{className:"text-xs truncate",style:{color:f<3?"rgba(10, 10, 18, 0.8)":je.colors.text.muted},children:d.occupation})]})]}),a.jsx("div",{className:"font-bold text-sm tabular-nums",style:{color:f<3?"#0a0a12":je.colors.text.primary},children:d.rating>0?d.rating.toFixed(2):"—"})]})},d.id))})})]})]})}const F3="flex items-center bg-[var(--badge-tag)] text-white px-3 py-1 rounded-full text-sm font-medium",D3="px-3 py-1 bg-white/5 border border-white/10 rounded-full text-xs hover:bg-[var(--accent-primary)] hover:text-black transition-colors",gg=({value:e,onChange:t,placeholder:n,suggestions:r=[]})=>{const[s,i]=p.useState(""),o=()=>{const f=s.trim();f&&!e.includes(f)&&(t([...e,f]),i(""))},l=f=>{e.includes(f)||t([...e,f])},c=f=>{t(e.filter(h=>h!==f))},u=f=>{f.key==="Enter"&&(f.preventDefault(),o())},d=p.useMemo(()=>{const f=s.toLowerCase();return r.filter(h=>!e.includes(h)&&(f?h.toLowerCase().startsWith(f):!0))},[r,e,s]);return a.jsxs("div",{children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-3 min-h-[30px]",children:a.jsx(Te,{children:e.map(f=>a.jsxs(E.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:25},className:F3,children:[a.jsx("span",{children:f}),a.jsx("button",{type:"button",onClick:()=>c(f),className:"ml-2 text-white/70 hover:text-white transition-colors",children:a.jsx(Gt,{size:14})})]},f))})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"text",value:s,onChange:f=>i(f.target.value),onKeyDown:u,placeholder:n||"Добавьте тег...",className:"flex-grow bg-transparent border-b-2 border-white/20 focus:border-[var(--accent-primary)] outline-none py-2 transition-colors"}),a.jsx("button",{type:"button",onClick:o,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:a.jsx(Vs,{size:20})})]}),d.length>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-2 border-t border-white/10 pt-3",children:a.jsx(Te,{children:d.slice(0,25).map(f=>a.jsx(E.button,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},type:"button",onClick:()=>l(f),className:D3,children:f},f))})})]})},O3="p-2 rounded-lg border border-white/10 bg-white/5 text-sm hover:bg-white/20 disabled:opacity-50 disabled:cursor-not-allowed",ea=({onClick:e,title:t,children:n})=>a.jsx("button",{type:"button",onMouseDown:e,title:t,className:O3,children:n}),_3=({value:e,onChange:t,placeholder:n})=>{const r=p.useRef(null),[s,i]=p.useState("16");p.useEffect(()=>{const f=r.current;f&&f.innerHTML!==e&&(f.innerHTML=e)},[e]);const o=p.useCallback(()=>{r.current&&t(r.current.innerHTML)},[t]),l=(f,h)=>{var y;document.execCommand(f,!1,h),(y=r.current)==null||y.focus(),o()},c=f=>{var m,v;f.preventDefault();const h=parseInt(s,10);if(isNaN(h)||h<=0)return;const y=window.getSelection();if(!y||y.rangeCount===0)return;const x=y.getRangeAt(0);if(x.collapsed)return;const w=g=>{if(g.nodeType===Node.ELEMENT_NODE){const k=g;k.style.fontSize&&(k.style.fontSize=""),k.getAttribute("style")||k.removeAttribute("style"),k.tagName==="SPAN"&&!k.attributes.length&&k.replaceWith(...k.childNodes)}};(g=>{const k=g.extractContents(),j=document.createTreeWalker(k,NodeFilter.SHOW_ELEMENT);for(;j.nextNode();)w(j.currentNode);const C=document.createElement("span");C.style.fontSize=`${h}px`,C.appendChild(k),g.insertNode(C)})(x),y.removeAllRanges(),(m=r.current)==null||m.normalize(),o(),(v=r.current)==null||v.focus()},u=p.useCallback(f=>{f.preventDefault();const h=f.clipboardData.getData("text/plain");document.execCommand("insertText",!1,h),o()},[o]),d=f=>{f.preventDefault();const h=r.current;if(h){const y=document.createRange();y.selectNodeContents(h);const x=window.getSelection();x&&(x.removeAllRanges(),x.addRange(y)),h.focus()}};return a.jsxs("div",{className:"rounded-xl border border-white/15 bg-black/[.15] focus-within:ring-2 focus-within:ring-[var(--accent)]/50",children:[a.jsxs("div",{className:"p-2 border-b border-white/15 flex flex-wrap gap-1 items-center",children:[a.jsx(ea,{onClick:()=>l("bold"),title:"Жирный",children:a.jsx(I4,{size:16})}),a.jsx(ea,{onClick:()=>l("italic"),title:"Курсив",children:a.jsx(yT,{size:16})}),a.jsxs("div",{className:"flex items-center border border-white/10 rounded-lg bg-white/5",children:[a.jsx("input",{type:"number",value:s,onChange:f=>i(f.target.value),className:"bg-transparent w-16 p-2 text-center outline-none",placeholder:"16"}),a.jsx("button",{onClick:c,title:"Применить размер",className:"pr-2 text-[var(--accent-primary)] hover:text-white",children:a.jsx(z4,{size:18})})]}),a.jsx(ea,{onClick:()=>l("removeFormat"),title:"Очистить форматирование",children:a.jsx(tT,{size:16})}),a.jsx(ea,{onClick:d,title:"Выделить всё",children:a.jsx(aT,{size:16})})]}),a.jsx("div",{ref:r,contentEditable:!0,onInput:o,onPaste:u,"data-placeholder":n,className:"prose prose-sm prose-invert max-w-none prose-p:my-1 prose-h2:my-2 prose-h3:my-1 min-h-[250px] p-4 outline-none empty:before:content-[attr(data-placeholder)] empty:before:text-slate-400 empty:before:opacity-80"})]})},In="w-full rounded-lg px-4 py-2.5 bg-white/5 border border-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--accent-primary)]/50 transition-all",V3=In+" pr-10 appearance-none",yg="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-bold text-sm text-white transition-all duration-300",ta="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-medium text-sm bg-white/10 border border-white/20 text-text-secondary hover:bg-white/20 transition-all",B3=()=>{const{characters:e,addCharacter:t,updateCharacter:n,deleteCharacter:r,allCategories:s,allTags:i}=Ve(),[o,l]=p.useState(null),[c,u]=p.useState({}),[d,f]=p.useState(""),[h,y]=p.useState(null),x=p.useRef(null),w=p.useMemo(()=>e.filter(T=>T.name.toLowerCase().includes(d.toLowerCase())),[e,d]);p.useEffect(()=>{o&&(o==="new"?(u({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,tags:[],links:[],category:[],rating:0,isNew:!0}),y(null),window.scrollTo({top:0,behavior:"smooth"})):(u({...o,photoFile:null}),y(o.photo||null),setTimeout(()=>{var T;(T=x.current)==null||T.scrollIntoView({behavior:"smooth",block:"center"})},150)))},[o]);const b=T=>{const{name:$,value:F,type:Q}=T.target,re=Q==="checkbox";u(ce=>({...ce,[$]:re?T.target.checked:F}))},m=(T,$)=>{u(F=>({...F,[T]:$}))},v=T=>{var F;const $=(F=T.target.files)==null?void 0:F[0];$&&(u(Q=>({...Q,photoFile:$})),y(URL.createObjectURL($)))},g=()=>{u(T=>({...T,photo:void 0,photoFile:null})),y(null)},k=()=>u(T=>({...T,links:[...T.links||[],{label:"",url:""}]})),j=(T,$,F)=>{u(Q=>({...Q,links:(Q.links||[]).map((re,ce)=>ce===T?{...re,[$]:F}:re)}))},C=T=>{u($=>({...$,links:($.links||[]).filter((F,Q)=>Q!==T)}))},S=async T=>{if(T.preventDefault(),!c.name)return alert("Имя персонажа обязательно для заполнения.");const $=new FormData,{photoFile:F,...Q}=c;Object.entries(Q).forEach(([re,ce])=>{re!=="photo"&&(re==="links"||re==="tags"||re==="category"?$.append(re,JSON.stringify(ce||[])):typeof ce=="boolean"?$.append(re,ce?"true":"false"):ce!=null&&$.append(re,String(ce)))}),F?$.append("photo",F):c.photo===void 0&&$.append("photo",""),$.set("ageGroup",Sf(Number(c.age??0))),o&&o!=="new"?(await n(o.id,$),alert("Персонаж успешно обновлен")):(await t($),alert("Персонаж успешно создан")),l(null)},N=async T=>{window.confirm("Вы уверены, что хотите удалить этого персонажа? Это действие необратимо.")&&(await r(T),alert("Персонаж удален"),typeof o!="string"&&(o==null?void 0:o.id)===T&&l(null))},R=a.jsx(gt,{children:a.jsxs("form",{onSubmit:S,className:"space-y-5",children:[a.jsx("h3",{className:"text-xl font-bold",children:o==="new"?"Создание нового персонажа":`Редактирование: ${c.name}`}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Имя"}),a.jsx("input",{type:"text",name:"name",value:c.name||"",onChange:b,className:In,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Профессия"}),a.jsx("input",{type:"text",name:"occupation",value:c.occupation||"",onChange:b,className:In})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Короткое описание"}),a.jsx("input",{type:"text",name:"description",value:c.description||"",onChange:b,className:In})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Полное описание"}),a.jsx(_3,{value:c.fullDescription||"",onChange:T=>u($=>({...$,fullDescription:T}))})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Пол"}),a.jsxs("select",{name:"gender",value:c.gender||"female",onChange:b,className:V3,children:[a.jsx("option",{value:"female",children:"Женский"}),a.jsx("option",{value:"male",children:"Мужской"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Возраст"}),a.jsx("input",{type:"number",name:"age",value:c.age||0,onChange:b,className:In,min:0})]})]}),a.jsxs("div",{className:"flex items-center pt-2",children:[a.jsx("input",{type:"checkbox",id:"isNewToggle",name:"isNew",checked:!!c.isNew,onChange:b,className:"w-4 h-4 text-[var(--accent-primary)] bg-white/10 border-white/20 rounded focus:ring-[var(--accent-primary)] focus:ring-2"}),a.jsx("label",{htmlFor:"isNewToggle",className:"ml-2 text-sm font-medium",children:"Отметить как 'Новый'"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Категории"}),a.jsx(gg,{value:c.category||[],onChange:T=>m("category",T),suggestions:s})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Теги"}),a.jsx(gg,{value:c.tags||[],onChange:T=>m("tags",T),suggestions:i})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Ссылки"}),a.jsxs("div",{className:"space-y-3",children:[(c.links||[]).map((T,$)=>a.jsxs("div",{className:"p-3 rounded-lg border grid grid-cols-1 sm:grid-cols-[1fr,1fr,auto] gap-3 items-center",style:{borderColor:"var(--border-color)"},children:[a.jsx("input",{type:"text",placeholder:"Текст кнопки",value:T.label,onChange:F=>j($,"label",F.target.value),className:In}),a.jsx("input",{type:"url",placeholder:"URL (https://...)",value:T.url,onChange:F=>j($,"url",F.target.value),className:In}),a.jsx("button",{type:"button",onClick:()=>C($),className:"text-red-400 hover:text-red-300 transition-colors p-2",children:a.jsx(Li,{size:16})})]},$)),a.jsxs("button",{type:"button",onClick:k,className:ta,children:[a.jsx(Vs,{size:16})," Добавить ссылку"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Аватар"}),a.jsxs("div",{className:"flex items-center gap-4",children:[h&&a.jsxs("div",{className:"relative w-24 h-24",children:[a.jsx("img",{src:h,alt:"Превью",className:"w-full h-full object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:g,className:"absolute -top-2 -right-2 w-7 h-7 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:a.jsx(Li,{size:14})})]}),a.jsx("input",{type:"file",onChange:v,className:`${In} p-0 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2.5 file:text-white hover:file:bg-white/20 transition-colors flex-1`})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:[a.jsx(E.button,{type:"button",...X.buttonTap,onClick:()=>l(null),className:ta,children:"Отмена"}),a.jsx(E.button,{type:"submit",...X.buttonTap,className:`${yg} flex-1`,style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))"},children:"Сохранить"})]})]})});return a.jsxs("div",{className:"space-y-6 p-4 md:p-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление персонажами"}),a.jsxs(E.button,{...X.buttonTap,onClick:()=>l("new"),className:yg,style:{background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))"},children:[a.jsx(Vs,{size:16})," Добавить"]})]}),a.jsx(Te,{children:o==="new"&&a.jsx(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:R},"new-character-form")}),a.jsx("div",{className:"space-y-4",children:w.map(T=>a.jsxs("div",{children:[a.jsx(gt,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:T.photo||"https://placehold.co/80x80?text=?",alt:T.name,className:"w-16 h-16 rounded-xl object-cover border",style:{borderColor:"var(--border-color)"}}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:T.name}),a.jsx("div",{className:"text-sm opacity-80 truncate",children:T.occupation})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(E.button,{...X.buttonTap,onClick:()=>l(T),className:ta,children:a.jsx(Co,{size:16})}),a.jsx(E.button,{...X.buttonTap,onClick:()=>N(T.id),className:`${ta} !text-red-400 hover:!bg-red-500/20`,children:a.jsx(Li,{size:16})})]})]})}),a.jsx(Te,{children:o&&typeof o!="string"&&o.id===T.id&&a.jsx(E.div,{ref:x,initial:{opacity:0,y:-20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-20,height:0},className:"mt-4",children:R},`edit-form-${T.id}`)})]},T.id))})]})};var z3=Object.defineProperty,U3=(e,t,n)=>t in e?z3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bc=(e,t,n)=>(U3(e,typeof t!="symbol"?t+"":t,n),n);let W3=class{constructor(){Bc(this,"current",this.detect()),Bc(this,"handoffState","pending"),Bc(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},an=new W3;function So(e){var t;return an.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function md(e){var t,n;return an.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function x1(e){var t,n;return(n=(t=md(e))==null?void 0:t.activeElement)!=null?n:null}function H3(e){return x1(e)===e}function Dl(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Pn(){let e=[],t={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),t.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Dl(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Pn();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ol(){let[e]=p.useState(Pn);return p.useEffect(()=>()=>e.dispose(),[e]),e}let ft=(e,t)=>{an.isServer?p.useEffect(e,t):p.useLayoutEffect(e,t)};function Kr(e){let t=p.useRef(e);return ft(()=>{t.current=e},[e]),t}let le=function(e){let t=Kr(e);return M.useCallback((...n)=>t.current(...n),[t])};function No(e){return p.useMemo(()=>e,Object.values(e))}let K3=p.createContext(void 0);function G3(){return p.useContext(K3)}function gd(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Tn(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Tn),r}var cl=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(cl||{}),Wn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Wn||{});function Ft(){let e=Y3();return p.useCallback(t=>q3({mergeRefs:e,...t}),[e])}function q3({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??X3;let c=v1(t,e);if(i)return na(c,n,r,o,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return na(f,n,r,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return Tn(d?0:1,{0(){return null},1(){return na({...f,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return na(c,n,r,o,l)}function na(e,t={},n,r,s){let{as:i=n,children:o,refName:l="ref",...c}=zc(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let h=!1,y=[];for(let[x,w]of Object.entries(t))typeof w=="boolean"&&(h=!0),w===!0&&y.push(x.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(h){f["data-headlessui-state"]=y.join(" ");for(let x of y)f[`data-${x}`]=""}}if(Mi(i)&&(Object.keys(vr(c)).length>0||Object.keys(vr(f)).length>0))if(!p.isValidElement(d)||Array.isArray(d)&&d.length>1||Z3(d)){if(Object.keys(vr(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(vr(c)).concat(Object.keys(vr(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,y=h==null?void 0:h.className,x=typeof y=="function"?(...m)=>gd(y(...m),c.className):gd(y,c.className),w=x?{className:x}:{},b=v1(d.props,vr(zc(c,["ref"])));for(let m in f)m in b&&delete f[m];return p.cloneElement(d,Object.assign({},b,f,u,{ref:s(Q3(d),u.ref)},w))}return p.createElement(i,Object.assign({},zc(c,["ref"]),!Mi(i)&&u,!Mi(i)&&f),d)}function Y3(){let e=p.useRef([]),t=p.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function X3(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function v1(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let r in n)Object.assign(t,{[r](s,...i){let o=n[r];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function ht(e){var t;return Object.assign(p.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function vr(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function zc(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Q3(e){return M.version.split(".")[0]>="19"?e.props.ref:e.ref}function Mi(e){return e===p.Fragment||e===Symbol.for("react.fragment")}function Z3(e){return Mi(e.type)}let J3="span";var ul=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ul||{});function eE(e,t){var n;let{features:r=1,...s}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ft()({ourProps:i,theirProps:s,slot:{},defaultTag:J3,name:"Hidden"})}let yd=ht(eE);function tE(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function tr(e){return tE(e)&&"tagName"in e}function Br(e){return tr(e)&&"accessKey"in e}function Hn(e){return tr(e)&&"tabIndex"in e}function nE(e){return tr(e)&&"style"in e}function rE(e){return Br(e)&&e.nodeName==="IFRAME"}function sE(e){return Br(e)&&e.nodeName==="INPUT"}let w1=Symbol();function iE(e,t=!0){return Object.assign(e,{[w1]:t})}function un(...e){let t=p.useRef(e);p.useEffect(()=>{t.current=e},[e]);let n=le(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[w1]))?void 0:n}let gh=p.createContext(null);gh.displayName="DescriptionContext";function b1(){let e=p.useContext(gh);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,b1),t}return e}function oE(){let[e,t]=p.useState([]);return[e.length>0?e.join(" "):void 0,p.useMemo(()=>function(n){let r=le(i=>(t(o=>[...o,i]),()=>t(o=>{let l=o.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),s=p.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return M.createElement(gh.Provider,{value:s},n.children)},[t])]}let aE="p";function lE(e,t){let n=p.useId(),r=G3(),{id:s=`headlessui-description-${n}`,...i}=e,o=b1(),l=un(t);ft(()=>o.register(s),[s,o.register]);let c=No({...o.slot,disabled:r||!1}),u={ref:l,...o.props,id:s};return Ft()({ourProps:u,theirProps:i,slot:c,defaultTag:aE,name:o.name||"Description"})}let cE=ht(lE),uE=Object.assign(cE,{});var k1=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(k1||{});let dE=p.createContext(()=>{});function fE({value:e,children:t}){return M.createElement(dE.Provider,{value:e},t)}let j1=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var hE=Object.defineProperty,pE=(e,t,n)=>t in e?hE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mE=(e,t,n)=>(pE(e,t+"",n),n),C1=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Nt=(e,t,n)=>(C1(e,t,"read from private field"),n?n.call(e):t.get(e)),Uc=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},xg=(e,t,n,r)=>(C1(e,t,"write to private field"),t.set(e,n),n),Zt,pi,mi;let gE=class{constructor(t){Uc(this,Zt,{}),Uc(this,pi,new j1(()=>new Set)),Uc(this,mi,new Set),mE(this,"disposables",Pn()),xg(this,Zt,t),an.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Nt(this,Zt)}subscribe(t,n){if(an.isServer)return()=>{};let r={selector:t,callback:n,current:t(Nt(this,Zt))};return Nt(this,mi).add(r),this.disposables.add(()=>{Nt(this,mi).delete(r)})}on(t,n){return an.isServer?()=>{}:(Nt(this,pi).get(t).add(n),this.disposables.add(()=>{Nt(this,pi).get(t).delete(n)}))}send(t){let n=this.reduce(Nt(this,Zt),t);if(n!==Nt(this,Zt)){xg(this,Zt,n);for(let r of Nt(this,mi)){let s=r.selector(Nt(this,Zt));S1(r.current,s)||(r.current=s,r.callback(s))}for(let r of Nt(this,pi).get(t.type))r(Nt(this,Zt),t)}}};Zt=new WeakMap,pi=new WeakMap,mi=new WeakMap;function S1(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:Wc(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:Wc(e.entries(),t.entries()):vg(e)&&vg(t)?Wc(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function Wc(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function vg(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var yE=Object.defineProperty,xE=(e,t,n)=>t in e?yE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wg=(e,t,n)=>(xE(e,typeof t!="symbol"?t+"":t,n),n),vE=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(vE||{});let wE={0(e,t){let n=t.id,r=e.stack,s=e.stack.indexOf(n);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let s=e.stack.slice();return s.splice(r,1),{...e,stack:s}}},bE=class N1 extends gE{constructor(){super(...arguments),wg(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),wg(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new N1({stack:[]})}reduce(t,n){return Tn(n.type,wE,t,n)}};const T1=new j1(()=>bE.new());var E1={exports:{}},P1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=p;function kE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jE=typeof Object.is=="function"?Object.is:kE,CE=To.useSyncExternalStore,SE=To.useRef,NE=To.useEffect,TE=To.useMemo,EE=To.useDebugValue;P1.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=SE(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=TE(function(){function c(y){if(!u){if(u=!0,d=y,y=r(y),s!==void 0&&o.hasValue){var x=o.value;if(s(x,y))return f=x}return f=y}if(x=f,jE(d,y))return x;var w=r(y);return s!==void 0&&s(x,w)?(d=y,x):(d=y,f=w)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var l=CE(e,i[0],i[1]);return NE(function(){o.hasValue=!0,o.value=l},[l]),EE(l),l};E1.exports=P1;var PE=E1.exports;function R1(e,t,n=S1){return PE.useSyncExternalStoreWithSelector(le(r=>e.subscribe(RE,r)),le(()=>e.state),le(()=>e.state),le(t),n)}function RE(e){return e}function Eo(e,t){let n=p.useId(),r=T1.get(t),[s,i]=R1(r,p.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return ft(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?s:!0:!1}let xd=new Map,Ii=new Map;function bg(e){var t;let n=(t=Ii.get(e))!=null?t:0;return Ii.set(e,n+1),n!==0?()=>kg(e):(xd.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>kg(e))}function kg(e){var t;let n=(t=Ii.get(e))!=null?t:1;if(n===1?Ii.delete(e):Ii.set(e,n-1),n!==1)return;let r=xd.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,xd.delete(e))}function AE(e,{allowed:t,disallowed:n}={}){let r=Eo(e,"inert-others");ft(()=>{var s,i;if(!r)return;let o=Pn();for(let c of(s=n==null?void 0:n())!=null?s:[])c&&o.add(bg(c));let l=(i=t==null?void 0:t())!=null?i:[];for(let c of l){if(!c)continue;let u=So(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let f of d.children)l.some(h=>f.contains(h))||o.add(bg(f));d=d.parentElement}}return o.dispose},[r,t,n])}function LE(e,t,n){let r=Kr(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});p.useEffect(()=>{if(!e)return;let s=t===null?null:Br(t)?t:t.current;if(!s)return;let i=Pn();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(s));o.observe(s),i.add(()=>o.disconnect())}return()=>i.dispose()},[t,r,e])}let dl=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),ME=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var yn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(yn||{}),vd=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(vd||{}),IE=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(IE||{});function $E(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(dl)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function FE(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ME)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var A1=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(A1||{});function DE(e,t=0){var n;return e===((n=So(e))==null?void 0:n.body)?!1:Tn(t,{0(){return e.matches(dl)},1(){let r=e;for(;r!==null;){if(r.matches(dl))return!0;r=r.parentElement}return!1}})}var OE=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(OE||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function bn(e){e==null||e.focus({preventScroll:!0})}let _E=["textarea","input"].join(",");function VE(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,_E))!=null?n:!1}function BE(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),i=t(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function $i(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?md(e[0]):document:md(e),o=Array.isArray(e)?n?BE(e):e:t&64?FE(e):$E(e);s.length>0&&o.length>1&&(o=o.filter(y=>!s.some(x=>x!=null&&"current"in x?(x==null?void 0:x.current)===y:x===y))),r=r??(i==null?void 0:i.activeElement);let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=o.length,h;do{if(d>=f||d+f<=0)return 0;let y=c+d;if(t&16)y=(y+f)%f;else{if(y<0)return 3;if(y>=f)return 1}h=o[y],h==null||h.focus(u),d+=l}while(h!==x1(h));return t&6&&VE(h)&&h.select(),2}function L1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function zE(){return/Android/gi.test(window.navigator.userAgent)}function jg(){return L1()||zE()}function ra(e,t,n,r){let s=Kr(n);p.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function M1(e,t,n,r){let s=Kr(n);p.useEffect(()=>{if(!e)return;function i(o){s.current(o)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const Cg=30;function UE(e,t,n){let r=Kr(n),s=p.useCallback(function(l,c){if(l.defaultPrevented)return;let u=c(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let f of d)if(f!==null&&(f.contains(u)||l.composed&&l.composedPath().includes(f)))return;return!DE(u,A1.Loose)&&u.tabIndex!==-1&&l.preventDefault(),r.current(l,u)},[r,t]),i=p.useRef(null);ra(e,"pointerdown",l=>{var c,u;jg()||(i.current=((u=(c=l.composedPath)==null?void 0:c.call(l))==null?void 0:u[0])||l.target)},!0),ra(e,"pointerup",l=>{if(jg()||!i.current)return;let c=i.current;return i.current=null,s(l,()=>c)},!0);let o=p.useRef({x:0,y:0});ra(e,"touchstart",l=>{o.current.x=l.touches[0].clientX,o.current.y=l.touches[0].clientY},!0),ra(e,"touchend",l=>{let c={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(c.x-o.current.x)>=Cg||Math.abs(c.y-o.current.y)>=Cg))return s(l,()=>Hn(l.target)?l.target:null)},!0),M1(e,"blur",l=>s(l,()=>rE(window.document.activeElement)?window.document.activeElement:null),!0)}function yh(...e){return p.useMemo(()=>So(...e),[...e])}function I1(e,t,n,r){let s=Kr(n);p.useEffect(()=>{e=e??window;function i(o){s.current(o)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function WE(e){return p.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function HE(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=t[s].call(n,...i);o&&(n=o,r.forEach(l=>l()))}}}function KE(){let e;return{before({doc:t}){var n;let r=t.documentElement,s=(n=t.defaultView)!=null?n:window;e=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-s);n.style(r,"paddingRight",`${i}px`)}}}function GE(){return L1()?{before({doc:e,d:t,meta:n}){function r(s){for(let i of n().containers)for(let o of i())if(o.contains(s))return!0;return!1}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Pn();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(Hn(l.target))try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);Hn(d)&&!r(d)&&(o=d)}catch{}},!0),t.group(l=>{t.addEventListener(e,"touchstart",c=>{if(l.dispose(),Hn(c.target)&&nE(c.target))if(r(c.target)){let u=c.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;l.style(u,"overscrollBehavior","contain")}else l.style(c.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",l=>{if(Hn(l.target)){if(sE(l.target))return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function qE(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Sg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Er=HE(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Pn(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Sg(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Sg(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[GE(),KE(),qE()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Er.subscribe(()=>{let e=Er.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Er.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Er.dispatch("TEARDOWN",n)}});function YE(e,t,n=()=>({containers:[]})){let r=WE(Er),s=t?r.get(t):void 0,i=s?s.count>0:!1;return ft(()=>{if(!(!t||!e))return Er.dispatch("PUSH",t,n),()=>Er.dispatch("POP",t,n)},[e,t]),i}function XE(e,t,n=()=>[document.body]){let r=Eo(e,"scroll-lock");YE(r,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],n]}})}function QE(e=0){let[t,n]=p.useState(e),r=p.useCallback(c=>n(c),[]),s=p.useCallback(c=>n(u=>u|c),[]),i=p.useCallback(c=>(t&c)===c,[t]),o=p.useCallback(c=>n(u=>u&~c),[]),l=p.useCallback(c=>n(u=>u^c),[]);return{flags:t,setFlag:r,addFlag:s,hasFlag:i,removeFlag:o,toggleFlag:l}}var ZE={},Ng,Tg;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Ng=process==null?void 0:ZE)==null?void 0:Ng.NODE_ENV)==="test"&&typeof((Tg=Element==null?void 0:Element.prototype)==null?void 0:Tg.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var JE=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(JE||{});function eP(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function tP(e,t,n,r){let[s,i]=p.useState(n),{hasFlag:o,addFlag:l,removeFlag:c}=QE(e&&s?3:0),u=p.useRef(!1),d=p.useRef(!1),f=Ol();return ft(()=>{var h;if(e){if(n&&i(!0),!t){n&&l(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),nP(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){d.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var y;d.current&&iP(t)||(u.current=!1,c(7),n||i(!1),(y=r==null?void 0:r.end)==null||y.call(r,n))}})}},[e,n,t,f]),e?[s,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function nP(e,{prepare:t,run:n,done:r,inFlight:s}){let i=Pn();return sP(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(rP(e,r))})}),i.dispose}function rP(e,t){var n,r;let s=Pn();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),s.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{i||t()}),s.dispose)}function sP(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function iP(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function xh(e,t){let n=p.useRef([]),r=le(e);p.useEffect(()=>{let s=[...n.current];for(let[i,o]of t.entries())if(n.current[i]!==o){let l=r(t,s);return n.current=t,l}},[r,...t])}let _l=p.createContext(null);_l.displayName="OpenClosedContext";var Wt=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Wt||{});function Vl(){return p.useContext(_l)}function oP({value:e,children:t}){return M.createElement(_l.Provider,{value:e},t)}function aP({children:e}){return M.createElement(_l.Provider,{value:null},e)}function lP(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Vn=[];lP(()=>{function e(t){if(!Hn(t.target)||t.target===document.body||Vn[0]===t.target)return;let n=t.target;n=n.closest(dl),Vn.unshift(n??t.target),Vn=Vn.filter(r=>r!=null&&r.isConnected),Vn.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function $1(e){let t=le(e),n=p.useRef(!1);p.useEffect(()=>(n.current=!1,()=>{n.current=!0,Dl(()=>{n.current&&t()})}),[t])}let F1=p.createContext(!1);function cP(){return p.useContext(F1)}function Eg(e){return M.createElement(F1.Provider,{value:e.force},e.children)}function uP(e){let t=cP(),n=p.useContext(O1),[r,s]=p.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(an.isServer)return null;let o=e==null?void 0:e.getElementById("headlessui-portal-root");if(o)return o;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return p.useEffect(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),p.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),r}let D1=p.Fragment,dP=ht(function(e,t){let{ownerDocument:n=null,...r}=e,s=p.useRef(null),i=un(iE(h=>{s.current=h}),t),o=yh(s.current),l=n??o,c=uP(l),u=p.useContext(wd),d=Ol(),f=Ft();return $1(()=>{var h;c&&c.childNodes.length<=0&&((h=c.parentElement)==null||h.removeChild(c))}),c?Hy.createPortal(M.createElement("div",{"data-headlessui-portal":"",ref:h=>{d.dispose(),u&&h&&d.add(u.register(h))}},f({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:D1,name:"Portal"})),c):null});function fP(e,t){let n=un(t),{enabled:r=!0,ownerDocument:s,...i}=e,o=Ft();return r?M.createElement(dP,{...i,ownerDocument:s,ref:n}):o({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:D1,name:"Portal"})}let hP=p.Fragment,O1=p.createContext(null);function pP(e,t){let{target:n,...r}=e,s={ref:un(t)},i=Ft();return M.createElement(O1.Provider,{value:n},i({ourProps:s,theirProps:r,defaultTag:hP,name:"Popover.Group"}))}let wd=p.createContext(null);function mP(){let e=p.useContext(wd),t=p.useRef([]),n=le(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=le(i=>{let o=t.current.indexOf(i);o!==-1&&t.current.splice(o,1),e&&e.unregister(i)}),s=p.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,p.useMemo(()=>function({children:i}){return M.createElement(wd.Provider,{value:s},i)},[s])]}let gP=ht(fP),_1=ht(pP),yP=Object.assign(gP,{Group:_1});function xP(e,t=typeof document<"u"?document.defaultView:null,n){let r=Eo(e,"escape");I1(t,"keydown",s=>{r&&(s.defaultPrevented||s.key===k1.Escape&&n(s))})}function vP(){var e;let[t]=p.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=p.useState((e=t==null?void 0:t.matches)!=null?e:!1);return ft(()=>{if(!t)return;function s(i){r(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),n}function wP({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=le(()=>{var s,i;let o=So(n),l=[];for(let c of e)c!==null&&(tr(c)?l.push(c):"current"in c&&tr(c.current)&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(s=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?s:[])c!==document.body&&c!==document.head&&tr(c)&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((i=n==null?void 0:n.getRootNode())==null?void 0:i.host))||l.some(u=>c.contains(u))||l.push(c));return l});return{resolveContainers:r,contains:le(s=>r().some(i=>i.contains(s)))}}let V1=p.createContext(null);function Pg({children:e,node:t}){let[n,r]=p.useState(null),s=B1(t??n);return M.createElement(V1.Provider,{value:s},e,s===null&&M.createElement(yd,{features:ul.Hidden,ref:i=>{var o,l;if(i){for(let c of(l=(o=So(i))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&tr(c)&&c!=null&&c.contains(i)){r(c);break}}}}))}function B1(e=null){var t;return(t=p.useContext(V1))!=null?t:e}function bP(){let e=typeof document>"u";return"useSyncExternalStore"in qc?(t=>t.useSyncExternalStore)(qc)(()=>()=>{},()=>!1,()=>!e):!1}function Bl(){let e=bP(),[t,n]=p.useState(an.isHandoffComplete);return t&&an.isHandoffComplete===!1&&n(!1),p.useEffect(()=>{t!==!0&&n(!0)},[t]),p.useEffect(()=>an.handoff(),[]),e?!1:t}function vh(){let e=p.useRef(!1);return ft(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var gi=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(gi||{});function kP(){let e=p.useRef(0);return M1(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function z1(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)tr(n.current)&&t.add(n.current);return t}let jP="div";var kr=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(kr||{});function CP(e,t){let n=p.useRef(null),r=un(n,t),{initialFocus:s,initialFocusFallback:i,containers:o,features:l=15,...c}=e;Bl()||(l=0);let u=yh(n.current);EP(l,{ownerDocument:u});let d=PP(l,{ownerDocument:u,container:n,initialFocus:s,initialFocusFallback:i});RP(l,{ownerDocument:u,container:n,containers:o,previousActiveElement:d});let f=kP(),h=le(v=>{if(!Br(n.current))return;let g=n.current;(k=>k())(()=>{Tn(f.current,{[gi.Forwards]:()=>{$i(g,yn.First,{skipElements:[v.relatedTarget,i]})},[gi.Backwards]:()=>{$i(g,yn.Last,{skipElements:[v.relatedTarget,i]})}})})}),y=Eo(!!(l&2),"focus-trap#tab-lock"),x=Ol(),w=p.useRef(!1),b={ref:r,onKeyDown(v){v.key=="Tab"&&(w.current=!0,x.requestAnimationFrame(()=>{w.current=!1}))},onBlur(v){if(!(l&4))return;let g=z1(o);Br(n.current)&&g.add(n.current);let k=v.relatedTarget;Hn(k)&&k.dataset.headlessuiFocusGuard!=="true"&&(U1(g,k)||(w.current?$i(n.current,Tn(f.current,{[gi.Forwards]:()=>yn.Next,[gi.Backwards]:()=>yn.Previous})|yn.WrapAround,{relativeTo:v.target}):Hn(v.target)&&bn(v.target)))}},m=Ft();return M.createElement(M.Fragment,null,y&&M.createElement(yd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ul.Focusable}),m({ourProps:b,theirProps:c,defaultTag:jP,name:"FocusTrap"}),y&&M.createElement(yd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ul.Focusable}))}let SP=ht(CP),NP=Object.assign(SP,{features:kr});function TP(e=!0){let t=p.useRef(Vn.slice());return xh(([n],[r])=>{r===!0&&n===!1&&Dl(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Vn.slice())},[e,Vn,t]),le(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function EP(e,{ownerDocument:t}){let n=!!(e&8),r=TP(n);xh(()=>{n||H3(t==null?void 0:t.body)&&bn(r())},[n]),$1(()=>{n&&bn(r())})}function PP(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:s}){let i=p.useRef(null),o=Eo(!!(e&1),"focus-trap#initial-focus"),l=vh();return xh(()=>{if(e===0)return;if(!o){s!=null&&s.current&&bn(s.current);return}let c=n.current;c&&Dl(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(c.contains(u)){i.current=u;return}if(r!=null&&r.current)bn(r.current);else{if(e&16){if($i(c,yn.First|yn.AutoFocus)!==vd.Error)return}else if($i(c,yn.First)!==vd.Error)return;if(s!=null&&s.current&&(bn(s.current),(t==null?void 0:t.activeElement)===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[s,o,e]),i}function RP(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:s}){let i=vh(),o=!!(e&4);I1(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!i.current)return;let c=z1(r);Br(n.current)&&c.add(n.current);let u=s.current;if(!u)return;let d=l.target;Br(d)?U1(c,d)?(s.current=d,bn(d)):(l.preventDefault(),l.stopPropagation(),bn(u)):bn(s.current)},!0)}function U1(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function W1(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!Mi((t=e.as)!=null?t:K1)||M.Children.count(e.children)===1}let zl=p.createContext(null);zl.displayName="TransitionContext";var AP=(e=>(e.Visible="visible",e.Hidden="hidden",e))(AP||{});function LP(){let e=p.useContext(zl);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function MP(){let e=p.useContext(Ul);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ul=p.createContext(null);Ul.displayName="NestingContext";function Wl(e){return"children"in e?Wl(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function H1(e,t){let n=Kr(e),r=p.useRef([]),s=vh(),i=Ol(),o=le((y,x=Wn.Hidden)=>{let w=r.current.findIndex(({el:b})=>b===y);w!==-1&&(Tn(x,{[Wn.Unmount](){r.current.splice(w,1)},[Wn.Hidden](){r.current[w].state="hidden"}}),i.microTask(()=>{var b;!Wl(r)&&s.current&&((b=n.current)==null||b.call(n))}))}),l=le(y=>{let x=r.current.find(({el:w})=>w===y);return x?x.state!=="visible"&&(x.state="visible"):r.current.push({el:y,state:"visible"}),()=>o(y,Wn.Unmount)}),c=p.useRef([]),u=p.useRef(Promise.resolve()),d=p.useRef({enter:[],leave:[]}),f=le((y,x,w)=>{c.current.splice(0),t&&(t.chains.current[x]=t.chains.current[x].filter(([b])=>b!==y)),t==null||t.chains.current[x].push([y,new Promise(b=>{c.current.push(b)})]),t==null||t.chains.current[x].push([y,new Promise(b=>{Promise.all(d.current[x].map(([m,v])=>v)).then(()=>b())})]),x==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>w(x)):w(x)}),h=le((y,x,w)=>{Promise.all(d.current[x].splice(0).map(([b,m])=>m)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>w(x))});return p.useMemo(()=>({children:r,register:l,unregister:o,onStart:f,onStop:h,wait:u,chains:d}),[l,o,r,f,h,d,u])}let K1=p.Fragment,G1=cl.RenderStrategy;function IP(e,t){var n,r;let{transition:s=!0,beforeEnter:i,afterEnter:o,beforeLeave:l,afterLeave:c,enter:u,enterFrom:d,enterTo:f,entered:h,leave:y,leaveFrom:x,leaveTo:w,...b}=e,[m,v]=p.useState(null),g=p.useRef(null),k=W1(e),j=un(...k?[g,t,v]:t===null?[]:[t]),C=(n=b.unmount)==null||n?Wn.Unmount:Wn.Hidden,{show:S,appear:N,initial:R}=LP(),[T,$]=p.useState(S?"visible":"hidden"),F=MP(),{register:Q,unregister:re}=F;ft(()=>Q(g),[Q,g]),ft(()=>{if(C===Wn.Hidden&&g.current){if(S&&T!=="visible"){$("visible");return}return Tn(T,{hidden:()=>re(g),visible:()=>Q(g)})}},[T,g,Q,re,S,C]);let ce=Bl();ft(()=>{if(k&&ce&&T==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,T,ce,k]);let Xe=R&&!N,ee=N&&S&&R,A=p.useRef(!1),O=H1(()=>{A.current||($("hidden"),re(g))},F),U=le(Ct=>{A.current=!0;let Gr=Ct?"enter":"leave";O.onStart(g,Gr,dr=>{dr==="enter"?i==null||i():dr==="leave"&&(l==null||l())})}),I=le(Ct=>{let Gr=Ct?"enter":"leave";A.current=!1,O.onStop(g,Gr,dr=>{dr==="enter"?o==null||o():dr==="leave"&&(c==null||c())}),Gr==="leave"&&!Wl(O)&&($("hidden"),re(g))});p.useEffect(()=>{k&&s||(U(S),I(S))},[S,k,s]);let K=!(!s||!k||!ce||Xe),[,G]=tP(K,m,S,{start:U,end:I}),Ie=vr({ref:j,className:((r=gd(b.className,ee&&u,ee&&d,G.enter&&u,G.enter&&G.closed&&d,G.enter&&!G.closed&&f,G.leave&&y,G.leave&&!G.closed&&x,G.leave&&G.closed&&w,!G.transition&&S&&h))==null?void 0:r.trim())||void 0,...eP(G)}),se=0;T==="visible"&&(se|=Wt.Open),T==="hidden"&&(se|=Wt.Closed),S&&T==="hidden"&&(se|=Wt.Opening),!S&&T==="visible"&&(se|=Wt.Closing);let be=Ft();return M.createElement(Ul.Provider,{value:O},M.createElement(oP,{value:se},be({ourProps:Ie,theirProps:b,defaultTag:K1,features:G1,visible:T==="visible",name:"Transition.Child"})))}function $P(e,t){let{show:n,appear:r=!1,unmount:s=!0,...i}=e,o=p.useRef(null),l=W1(e),c=un(...l?[o,t]:t===null?[]:[t]);Bl();let u=Vl();if(n===void 0&&u!==null&&(n=(u&Wt.Open)===Wt.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=p.useState(n?"visible":"hidden"),h=H1(()=>{n||f("hidden")}),[y,x]=p.useState(!0),w=p.useRef([n]);ft(()=>{y!==!1&&w.current[w.current.length-1]!==n&&(w.current.push(n),x(!1))},[w,n]);let b=p.useMemo(()=>({show:n,appear:r,initial:y}),[n,r,y]);ft(()=>{n?f("visible"):!Wl(h)&&o.current!==null&&f("hidden")},[n,h]);let m={unmount:s},v=le(()=>{var j;y&&x(!1),(j=e.beforeEnter)==null||j.call(e)}),g=le(()=>{var j;y&&x(!1),(j=e.beforeLeave)==null||j.call(e)}),k=Ft();return M.createElement(Ul.Provider,{value:h},M.createElement(zl.Provider,{value:b},k({ourProps:{...m,as:p.Fragment,children:M.createElement(q1,{ref:c,...m,...i,beforeEnter:v,beforeLeave:g})},theirProps:{},defaultTag:p.Fragment,features:G1,visible:d==="visible",name:"Transition"})))}function FP(e,t){let n=p.useContext(zl)!==null,r=Vl()!==null;return M.createElement(M.Fragment,null,!n&&r?M.createElement(bd,{ref:t,...e}):M.createElement(q1,{ref:t,...e}))}let bd=ht($P),q1=ht(IP),wh=ht(FP),Ca=Object.assign(bd,{Child:wh,Root:bd});var DP=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(DP||{}),OP=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(OP||{});let _P={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},bh=p.createContext(null);bh.displayName="DialogContext";function Hl(e){let t=p.useContext(bh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hl),n}return t}function VP(e,t){return Tn(t.type,_P,e,t)}let Rg=ht(function(e,t){let n=p.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...f}=e,h=p.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(h.current||(h.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=Vl();s===void 0&&y!==null&&(s=(y&Wt.Open)===Wt.Open);let x=p.useRef(null),w=un(x,t),b=yh(x.current),m=s?0:1,[v,g]=p.useReducer(VP,{titleId:null,descriptionId:null,panelRef:p.createRef()}),k=le(()=>i(!1)),j=le(G=>g({type:0,id:G})),C=Bl()?m===0:!1,[S,N]=mP(),R={get current(){var G;return(G=v.panelRef.current)!=null?G:x.current}},T=B1(),{resolveContainers:$}=wP({mainTreeNode:T,portals:S,defaultContainers:[R]}),F=y!==null?(y&Wt.Closing)===Wt.Closing:!1;AE(u||F?!1:C,{allowed:le(()=>{var G,Ie;return[(Ie=(G=x.current)==null?void 0:G.closest("[data-headlessui-portal]"))!=null?Ie:null]}),disallowed:le(()=>{var G;return[(G=T==null?void 0:T.closest("body > *:not(#headlessui-portal-root)"))!=null?G:null]})});let Q=T1.get(null);ft(()=>{if(C)return Q.actions.push(r),()=>Q.actions.pop(r)},[Q,r,C]);let re=R1(Q,p.useCallback(G=>Q.selectors.isTop(G,r),[Q,r]));UE(re,$,G=>{G.preventDefault(),k()}),xP(re,b==null?void 0:b.defaultView,G=>{G.preventDefault(),G.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),k()}),XE(u||F?!1:C,b,$),LE(C,x,k);let[ce,Xe]=oE(),ee=p.useMemo(()=>[{dialogState:m,close:k,setTitleId:j,unmount:d},v],[m,k,j,d,v]),A=No({open:m===0}),O={ref:w,id:r,role:l,tabIndex:-1,"aria-modal":u?void 0:m===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":ce,unmount:d},U=!vP(),I=kr.None;C&&!u&&(I|=kr.RestoreFocus,I|=kr.TabLock,c&&(I|=kr.AutoFocus),U&&(I|=kr.InitialFocus));let K=Ft();return M.createElement(aP,null,M.createElement(Eg,{force:!0},M.createElement(yP,null,M.createElement(bh.Provider,{value:ee},M.createElement(_1,{target:x},M.createElement(Eg,{force:!1},M.createElement(Xe,{slot:A},M.createElement(N,null,M.createElement(NP,{initialFocus:o,initialFocusFallback:x,containers:$,features:I},M.createElement(fE,{value:k},K({ourProps:O,theirProps:f,slot:A,defaultTag:BP,features:zP,visible:m===0,name:"Dialog"})))))))))))}),BP="div",zP=cl.RenderStrategy|cl.Static;function UP(e,t){let{transition:n=!1,open:r,...s}=e,i=Vl(),o=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!s.static?M.createElement(Pg,null,M.createElement(Ca,{show:r,transition:n,unmount:s.unmount},M.createElement(Rg,{ref:t,...s}))):M.createElement(Pg,null,M.createElement(Rg,{ref:t,open:r,...s}))}let WP="div";function HP(e,t){let n=p.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...i}=e,[{dialogState:o,unmount:l},c]=Hl("Dialog.Panel"),u=un(t,c.panelRef),d=No({open:o===0}),f=le(b=>{b.stopPropagation()}),h={ref:u,id:r,onClick:f},y=s?wh:p.Fragment,x=s?{unmount:l}:{},w=Ft();return M.createElement(y,{...x},w({ourProps:h,theirProps:i,slot:d,defaultTag:WP,name:"Dialog.Panel"}))}let KP="div";function GP(e,t){let{transition:n=!1,...r}=e,[{dialogState:s,unmount:i}]=Hl("Dialog.Backdrop"),o=No({open:s===0}),l={ref:t,"aria-hidden":!0},c=n?wh:p.Fragment,u=n?{unmount:i}:{},d=Ft();return M.createElement(c,{...u},d({ourProps:l,theirProps:r,slot:o,defaultTag:KP,name:"Dialog.Backdrop"}))}let qP="h2";function YP(e,t){let n=p.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:i,setTitleId:o}]=Hl("Dialog.Title"),l=un(t);p.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=No({open:i===0}),u={ref:l,id:r};return Ft()({ourProps:u,theirProps:s,slot:c,defaultTag:qP,name:"Dialog.Title"})}let XP=ht(UP),QP=ht(HP);ht(GP);let ZP=ht(YP),Hc=Object.assign(XP,{Panel:QP,Title:ZP,Description:uE});const JP="#f7cfe1",wr="rgba(255,255,255,0.10)";function Kc({elevated:e=!1}={}){return{background:`
      radial-gradient(600px 260px at 0% 0%, rgba(247, 207, 225,0.10), transparent 60%),
      radial-gradient(600px 260px at 100% 100%, rgba(120,140,255,0.09), transparent 60%),
      rgba(255,255,255,${e?.09:.07})
    `,border:`1px solid ${wr}`,boxShadow:"none",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}const ts="w-full rounded-xl px-4 py-2.5 bg-black/[.15] border border-white/15 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50",e6=ts+" pr-10 appearance-none",t6="block w-full text-sm text-white/90 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2 file:text-white hover:file:bg-white/20";function n6(){const{users:e,loadUsers:t,updateUser:n}=Ve(),[r,s]=p.useState(!1),[i,o]=p.useState(null),[l,c]=p.useState({}),[u,d]=p.useState(null),[f,h]=p.useState("");p.useEffect(()=>{e.length||t()},[e.length,t]);const y=m=>{o(m),c({nickname:m.nickname,username:m.username,email:m.email,role:m.role}),d(null),h(""),s(!0)},x=()=>{s(!1),o(null)},w=async()=>{var k;if(!i)return;if(h(""),l.newPassword&&l.newPassword!==l.newPasswordConfirm){h("Пароли не совпадают!");return}if(l.newPassword&&(((k=l.newPassword)==null?void 0:k.length)||0)<8){h("Новый пароль должен содержать не менее 8 символов.");return}const m=new FormData;l.nickname&&l.nickname!==i.nickname&&m.append("nickname",String(l.nickname)),l.username&&l.username!==i.username&&m.append("username",String(l.username)),l.email&&l.email!==i.email&&m.append("email",String(l.email)),l.role&&l.role!==i.role&&m.append("role",String(l.role)),l.newPassword&&m.append("password",String(l.newPassword)),u&&m.append("avatar",u);let v=!1;for(const j of m.entries()){v=!0;break}if(!v){h("Нет изменений для сохранения.");return}await n(i.id,m)?(await t(),x()):h("Не удалось сохранить изменения.")},b=async m=>{await n(m.id,{is_blocked:!m.isBlocked}),await t()};return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 sm:mb-6 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление пользователями"}),a.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-slate-300",children:[a.jsx(ol,{className:"h-5 w-5"}),a.jsxs("span",{children:["Всего: ",e.length]})]})]}),a.jsx("div",{className:"space-y-3 sm:space-y-4",children:e.map(m=>a.jsxs("div",{className:"rounded-2xl p-4 sm:p-5",style:Kc(),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:m.avatar||"https://placehold.co/64x64?text=U",alt:m.nickname||m.username,className:"w-14 h-14 rounded-2xl object-cover border",style:{borderColor:wr}}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:m.nickname||"Без имени"}),a.jsxs("div",{className:"text-sm opacity-80 truncate",children:["@",m.username]}),a.jsx("div",{className:"text-sm opacity-70 truncate",children:m.email}),a.jsxs("div",{className:"mt-1 text-xs inline-flex items-center gap-2",children:[a.jsxs("span",{className:"px-2 py-0.5 rounded-lg border",style:{borderColor:wr},children:["Роль: ",a.jsx("b",{children:m.role})]}),m.isBlocked&&a.jsx("span",{className:"px-2 py-0.5 rounded-lg border",style:{borderColor:wr,color:"#fca5a5"},children:"Заблокирован"})]})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 sm:flex sm:gap-3",children:[a.jsxs("button",{onClick:()=>y(m),className:"w-full rounded-xl px-4 py-2 border font-medium flex items-center justify-center gap-2",style:{borderColor:wr,background:"rgba(255,255,255,0.03)"},children:[a.jsx(Co,{size:16}),"Редактировать"]}),a.jsxs("button",{onClick:()=>b(m),className:"w-full rounded-xl px-4 py-2 border font-medium flex items-center justify-center gap-2",style:{borderColor:wr,background:"rgba(255,255,255,0.03)"},children:[m.isBlocked?a.jsx(kT,{size:16}):a.jsx(Rs,{size:16}),m.isBlocked?"Разблокировать":"Заблокировать"]})]})]},m.id))}),a.jsx(Ca,{appear:!0,show:r,as:p.Fragment,children:a.jsxs(Hc,{as:"div",className:"relative z-50",onClose:x,children:[a.jsx(Ca.Child,{as:p.Fragment,enter:"ease-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm"})}),a.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-end sm:items-center justify-center p-2 sm:p-4 text-center",children:a.jsx(Ca.Child,{as:p.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 translate-y-6 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-150",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-6 sm:translate-y-0 sm:scale-95",children:a.jsxs(Hc.Panel,{className:"w-full sm:max-w-lg sm:rounded-2xl text-left align-middle transition-all",style:Kc({elevated:!0}),children:[a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs(Hc.Title,{className:"text-lg font-bold leading-6 mb-4",children:["Редактировать: ",i==null?void 0:i.nickname]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Никнейм"}),a.jsx("input",{type:"text",value:l.nickname||"",onChange:m=>c({...l,nickname:m.target.value}),className:ts})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Логин"}),a.jsx("input",{type:"text",value:l.username||"",onChange:m=>c({...l,username:m.target.value}),className:ts})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Email"}),a.jsx("input",{type:"email",value:l.email||"",onChange:m=>c({...l,email:m.target.value}),className:ts})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Роль"}),a.jsxs("select",{value:l.role,onChange:m=>c({...l,role:m.target.value}),className:e6,children:[a.jsx("option",{value:"user",children:"Пользователь"}),a.jsx("option",{value:"admin",children:"Администратор"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Новый пароль"}),a.jsx("input",{type:"password",placeholder:"Новый пароль (оставьте пустым)",value:l.newPassword||"",onChange:m=>c({...l,newPassword:m.target.value}),className:ts})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Подтвердите пароль"}),a.jsx("input",{type:"password",placeholder:"Подтвердите пароль",value:l.newPasswordConfirm||"",onChange:m=>c({...l,newPasswordConfirm:m.target.value}),className:ts})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-300 mb-1 block",children:"Новый аватар"}),a.jsx("input",{type:"file",onChange:m=>{var v;return d(((v=m.target.files)==null?void 0:v[0])||null)},className:t6})]})]}),f&&a.jsx("p",{className:"text-sm text-red-400 mt-3",children:f})]}),a.jsxs("div",{className:"sticky bottom-0 w-full flex gap-2 p-3 sm:p-4",style:{...Kc(),borderTopLeftRadius:0,borderTopRightRadius:0},children:[a.jsx("button",{onClick:x,className:"w-1/2 rounded-xl px-4 py-2 border font-medium",style:{borderColor:wr,background:"rgba(255,255,255,0.03)"},children:"Отмена"}),a.jsx("button",{onClick:w,className:"w-1/2 rounded-xl px-4 py-2 font-semibold text-black",style:{background:JP},children:"Сохранить"})]})]})})})})]})})]})}const pr="w-full rounded-lg px-4 py-2.5 bg-white/5 border border-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-accent-primary/50 transition-all",Ag="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-bold text-sm text-white transition-all duration-300 bg-gradient-to-r from-accent-primary to-accent-secondary",sa="flex items-center justify-center gap-2 px-4 py-2 rounded-full font-medium text-sm bg-white/10 border border-white/20 text-text-secondary hover:bg-white/20 transition-all";function r6(){const{shopItems:e,addShopItem:t,updateShopItem:n,deleteShopItem:r}=Ve(),[s,i]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState({name:"",description:"",price:0,category:"",isActive:!0,actionButtons:[]}),h=()=>{f({name:"",description:"",price:0,category:"",isActive:!0,actionButtons:[]}),u(null),i(null),l(!1)},y=g=>{i(g),f({...g,actionButtons:Array.isArray(g.actionButtons)?g.actionButtons:[]}),l(!0),window.scrollTo({top:0,behavior:"smooth"})},x=async g=>{g.preventDefault();const k=new FormData;Object.entries(d).forEach(([j,C])=>{j!=="image"&&(j==="actionButtons"?k.append(j,JSON.stringify(C||[])):C!=null&&k.append(j,String(C)))}),c&&k.append("image",c),s?await n(s.id,k):await t(k),h()},w=async g=>{window.confirm("Вы уверены, что хотите удалить этот товар?")&&await r(g)},b=()=>{f(g=>({...g,actionButtons:[...g.actionButtons||[],{label:"Купить",url:""}]}))},m=(g,k,j)=>{f(C=>({...C,actionButtons:(C.actionButtons||[]).map((S,N)=>N===g?{...S,[k]:j}:S)}))},v=g=>{f(k=>({...k,actionButtons:(k.actionButtons||[]).filter((j,C)=>C!==g)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Управление магазином"}),a.jsxs(E.button,{...X.buttonTap,onClick:()=>{h(),l(!0)},className:Ag,children:[a.jsx(Vs,{size:16})," Добавить товар"]})]}),o&&a.jsx(gt,{delay:.1,children:a.jsxs("form",{onSubmit:x,className:"space-y-5",children:[a.jsx("h3",{className:"text-lg font-bold",children:s?`Редактирование: ${s.name}`:"Новый товар"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Название"}),a.jsx("input",{type:"text",value:d.name,onChange:g=>f({...d,name:g.target.value}),className:pr,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Цена (в рублях)"}),a.jsx("input",{type:"number",value:d.price,onChange:g=>f({...d,price:Number(g.target.value)}),className:pr,required:!0})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Категория"}),a.jsx("input",{type:"text",value:d.category,onChange:g=>f({...d,category:g.target.value}),className:pr})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Описание"}),a.jsx("textarea",{value:d.description,onChange:g=>f({...d,description:g.target.value}),className:pr,rows:3})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Изображение"}),a.jsx("input",{type:"file",onChange:g=>{var k;return u(((k=g.target.files)==null?void 0:k[0])||null)},className:`${pr} p-0 file:mr-4 file:rounded-lg file:border-0 file:bg-white/10 file:px-4 file:py-2.5 file:text-white hover:file:bg-white/20 transition-colors`})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm mb-1.5",children:"Кнопки действий"}),a.jsxs("div",{className:"space-y-3",children:[(d.actionButtons||[]).map((g,k)=>a.jsxs("div",{className:"p-3 rounded-lg border border-white/10 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",placeholder:"Текст кнопки",value:g.label,onChange:j=>m(k,"label",j.target.value),className:pr}),a.jsx("input",{type:"url",placeholder:"URL (https://...)",value:g.url,onChange:j=>m(k,"url",j.target.value),className:pr}),a.jsx("button",{type:"button",onClick:()=>v(k),className:"sm:col-span-2 text-xs text-red-400 hover:text-red-300 transition-colors text-left",children:"Удалить кнопку"})]},k)),a.jsx("button",{type:"button",onClick:b,className:sa,children:"+ Добавить кнопку"})]})]}),a.jsxs("div",{className:"sm:col-span-2 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:d.isActive,onChange:g=>f({...d,isActive:g.target.checked}),id:"isActiveCheckbox",className:"w-4 h-4"}),a.jsx("label",{htmlFor:"isActiveCheckbox",className:"text-sm",children:"Активный товар"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10",children:[a.jsx(E.button,{type:"button",...X.buttonTap,onClick:h,className:sa,children:"Отмена"}),a.jsx(E.button,{type:"submit",...X.buttonTap,className:`${Ag} flex-1`,children:"Сохранить товар"})]})]})}),a.jsx("div",{className:"space-y-4",children:e.map(g=>a.jsx(gt,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:g.image,alt:g.name,className:"w-16 h-16 rounded-xl object-cover border border-white/10"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-semibold truncate",children:g.name}),a.jsxs("div",{className:"text-sm opacity-80 truncate",children:[g.price," ₽"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(E.button,{...X.buttonTap,onClick:()=>y(g),className:sa,children:a.jsx(Co,{size:16})}),a.jsx(E.button,{...X.buttonTap,onClick:()=>w(g.id),className:`${sa} !text-red-400 hover:!bg-red-500/20`,children:a.jsx(Li,{size:16})})]})]})},g.id))})]})}const kd="#f7cfe1",jd="rgba(255,255,255,0.10)";function Qr({elevated:e=!1,active:t=!1}={}){const n=e?.09:.07,r=e?"0 14px 36px rgba(0,0,0,0.40)":"0 8px 22px rgba(0,0,0,0.30)";return{background:`
      radial-gradient(600px 260px at 0% 0%, rgba(247, 207, 225,0.10), transparent 60%),
      radial-gradient(600px 260px at 100% 100%, rgba(120,140,255,0.09), transparent 60%),
      rgba(255,255,255,${n})
    `,border:`1px solid ${t?kd:jd}`,boxShadow:t?`${r}, inset 0 0 0 1px ${kd}`:r,backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}function s6(){const{users:e,characters:t,loadUsers:n,loadCharacters:r}=Ve(),[s,i]=p.useState("users"),[o,l]=p.useState("");p.useEffect(()=>{e!=null&&e.length||n==null||n(),t!=null&&t.length||r==null||r()},[]);const c=p.useMemo(()=>{const d=[];return(e||[]).forEach(f=>{var y;const h=f==null?void 0:f.avatar;h&&typeof h=="string"&&h.includes("/api/files/")&&d.push({id:`${f.id}-avatar`,collectionName:"users",recordId:f.id,fileName:((y=h.split("/").pop())==null?void 0:y.split("?")[0])||"avatar",fileUrl:h,contextName:f.nickname||f.username||"Пользователь"})}),(t||[]).forEach(f=>{var y;const h=f==null?void 0:f.photo;h&&typeof h=="string"&&h.includes("/api/files/")&&d.push({id:`${f.id}-photo`,collectionName:"characters",recordId:f.id,fileName:((y=h.split("/").pop())==null?void 0:y.split("?")[0])||"photo",fileUrl:h,contextName:f.name||"Персонаж"})}),d},[e,t]),u=p.useMemo(()=>{const d=o.toLowerCase();return c.filter(f=>f.collectionName===s).filter(f=>f.fileName.toLowerCase().includes(d)||f.contextName.toLowerCase().includes(d))},[c,s,o]);return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-3 gap-2.5",children:[a.jsxs("div",{className:"rounded-2xl p-1 flex",style:Qr(),children:[a.jsxs("button",{onClick:()=>i("users"),className:"w-1/2 px-3 py-2 rounded-xl text-sm font-medium flex items-center justify-center gap-2",style:Qr({active:s==="users"}),children:[a.jsx(_r,{size:16})," Пользователи"]}),a.jsxs("button",{onClick:()=>i("characters"),className:"w-1/2 px-3 py-2 rounded-xl text-sm font-medium flex items-center justify-center gap-2",style:Qr({active:s==="characters"}),children:[a.jsx(Vr,{size:16})," Персонажи"]})]}),a.jsxs("div",{className:"sm:col-span-2 rounded-2xl p-2 flex items-center gap-2",style:Qr(),children:[a.jsx(dh,{size:16}),a.jsx("input",{value:o,onChange:d=>l(d.target.value),placeholder:"Поиск по имени файла или объекту…",className:"w-full bg-transparent outline-none text-sm placeholder-white/70"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2.5",children:u.map(d=>a.jsxs("div",{className:"rounded-2xl p-3 sm:p-4",style:Qr(),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:d.fileUrl,alt:d.fileName,className:"w-16 h-16 rounded-xl object-cover border",style:{borderColor:jd}}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:d.fileName}),a.jsxs("div",{className:"text-xs opacity-80 truncate",children:[d.collectionName," • ",d.contextName]})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>{var f;return(f=navigator.clipboard)==null?void 0:f.writeText(d.fileUrl)},className:"rounded-xl px-3 py-2 border text-sm font-medium flex items-center justify-center gap-2",style:{borderColor:jd,background:"rgba(255,255,255,0.03)"},children:[a.jsx(Q4,{size:16})," Копировать URL"]}),a.jsxs("a",{href:d.fileUrl,target:"_blank",rel:"noreferrer",className:"rounded-xl px-3 py-2 text-sm font-semibold text-black flex items-center justify-center gap-2",style:{background:kd},children:[a.jsx(rT,{size:16})," Открыть"]})]})]},d.id))}),u.length===0&&a.jsx("div",{className:"mt-4 rounded-2xl p-5 text-center opacity-70",style:Qr(),children:"Ничего не найдено."})]})}const i6="#f7cfe1",Lg="rgba(255,255,255,0.10)",Y1="w-full rounded-xl px-4 py-2.5 bg-black/[.15] border border-white/15 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50",o6=Y1+" min-h-[120px] resize-y";function a6(){const{newsletters:e,loadNewsletters:t,addNewsletter:n,updateNewsletter:r,deleteNewsletter:s}=Ve(),{user:i}=ge(),[o,l]=p.useState({title:"",content:"",imageFile:null}),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,y]=p.useState("");p.useEffect(()=>{t()},[t]);const x=v=>{u(v),l({title:v.title,content:v.content,imageFile:null})},w=()=>{u(null),l({title:"",content:"",imageFile:null})},b=async v=>{confirm("Вы уверены, что хотите удалить это объявление?")&&await s(v)},m=async v=>{if(v.preventDefault(),!o.title||!o.content||!i)return;f(!0),y("");const g=new FormData;g.append("title",o.title),g.append("content",o.content),g.append("sentBy",i.id),g.append("status","sent"),o.imageFile&&g.append("image",o.imageFile);try{(c?await r(c.id,g):await n(g))?(y(c?"Объявление успешно обновлено!":"Объявление успешно создано!"),w(),v.target.reset()):y("Ошибка при сохранении объявления.")}catch{y("Произошла ошибка.")}finally{f(!1),setTimeout(()=>y(""),5e3)}};return a.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:[c?"Редактировать":"Новое"," объявление"]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Заголовок"}),a.jsx("input",{type:"text",value:o.title,onChange:v=>l(g=>({...g,title:v.target.value})),className:Y1,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Сообщение (HTML)"}),a.jsx("textarea",{value:o.content,onChange:v=>l(g=>({...g,content:v.target.value})),rows:10,className:o6,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Изображение"}),a.jsx("input",{type:"file",onChange:v=>l(g=>({...g,imageFile:v.target.files?v.target.files[0]:null})),accept:"image/*",className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-white/10 file:text-white hover:file:bg-white/20"})]}),a.jsxs("div",{className:"flex space-x-2 pt-2",children:[a.jsxs("button",{type:"submit",disabled:d,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-xl hover:opacity-90 transition-opacity disabled:opacity-50 font-bold text-black",style:{background:i6},children:[a.jsx(a1,{size:18}),a.jsx("span",{children:d?"Сохранение...":c?"Сохранить":"Опубликовать"})]}),c&&a.jsx("button",{type:"button",onClick:w,className:"px-5 py-3 rounded-xl border",style:{borderColor:Lg,background:"rgba(255,255,255,0.05)"},children:a.jsx(Gt,{size:18})})]}),h&&a.jsx("p",{className:"text-center text-green-400 mt-2",children:h})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"История объявлений"}),a.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2",children:e.length>0?e.map(v=>a.jsxs("div",{className:"p-4 rounded-xl border",style:{borderColor:Lg,background:"rgba(255,255,255,0.04)"},children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-white",children:v.title}),a.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Опубликовано: ",new Date(v.createdAt).toLocaleString()]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>x(v),className:"p-2 hover:bg-white/10 rounded-md text-blue-400",children:a.jsx(Co,{size:16})}),a.jsx("button",{onClick:()=>b(v.id),className:"p-2 hover:bg-white/10 rounded-md text-red-400",children:a.jsx(Li,{size:16})})]})]}),a.jsx("div",{className:"text-sm text-slate-300 line-clamp-2 prose prose-sm prose-invert",dangerouslySetInnerHTML:{__html:v.content}})]},v.id)):a.jsx("p",{className:"text-slate-400 text-center py-8",children:"Еще не было ни одного объявления."})})]})]})}const te={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},An={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function l6(){const e=rt(),t=jt(),{user:n}=ge(),{users:r,characters:s}=Ve(),i=new URLSearchParams(t.search).get("tab")||"characters",[o,l]=p.useState(i),{scrollY:c}=ur(),u=on(c,[0,500],[.3,.1]);p.useEffect(()=>{const y=new URLSearchParams(t.search);y.set("tab",o),e({search:y.toString()},{replace:!0}),window.scrollTo({top:0,behavior:"smooth"})},[o,t.search,e]);const d=p.useMemo(()=>[{id:"characters",label:"Персонажи",icon:_r},{id:"users",label:"Пользователи",icon:Vr},{id:"shop",label:"Магазин",icon:jo},{id:"broadcast",label:"Объявления",icon:ao},{id:"files",label:"Файлы",icon:dh}],[]),f=p.useMemo(()=>[{label:"Пользователи",value:r.length,icon:Vr},{label:"Персонажи",value:s.length,icon:_r}],[r.length,s.length]),h=()=>{switch(o){case"characters":return a.jsx(B3,{});case"users":return a.jsx(n6,{});case"shop":return a.jsx(r6,{});case"messages":return a.jsx(AdminSupport,{});case"broadcast":return a.jsx(a6,{});case"files":return a.jsx(s6,{});default:return null}};return n&&n.role!=="admin"?a.jsxs("div",{className:"min-h-screen w-full relative p-4",style:{fontFamily:te.fonts.body,backgroundColor:te.colors.background.dark},children:[a.jsx(et,{intensity:u}),a.jsx("div",{className:"max-w-screen-md mx-auto",children:a.jsxs(E.div,{...An.fadeInUp(.2),className:"rounded-3xl p-8 text-center",style:{background:te.colors.background.glass,border:`1px solid ${te.colors.border}`,boxShadow:te.shadows.glass,color:te.colors.text.primary},children:[a.jsx(ol,{className:"w-16 h-16 mx-auto mb-6",style:{color:"#f87171"}}),a.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Доступ запрещён"}),a.jsx("p",{className:"text-lg",style:{color:te.colors.text.muted},children:"Эта страница доступна только администраторам."})]})})]}):a.jsxs("div",{className:"min-h-screen w-full relative p-2 sm:p-4 pt-4 sm:pt-6",style:{fontFamily:te.fonts.body,backgroundColor:te.colors.background.dark},children:[a.jsx(et,{intensity:u}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none",children:[a.jsx("header",{className:"mb-8",children:a.jsxs(E.div,{...An.fadeInUp(.1),className:"flex items-center gap-4",children:[a.jsx(E.div,{...An.float,className:"rounded-2xl w-12 h-12 flex items-center justify-center",style:{background:`linear-gradient(135deg, ${te.colors.accent.primary}, ${te.colors.accent.secondary})`,boxShadow:te.shadows.button},children:a.jsx(ol,{className:"w-6 h-6",style:{color:"#ffffff"}})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:te.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"Панель администратора"}),a.jsx("p",{className:"text-base sm:text-lg mt-2",style:{color:te.colors.text.muted},children:"Управляйте контентом, пользователями и сервисом"})]})]})}),a.jsx(E.div,{...An.fadeInUp(.2),className:"mb-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:f.map((y,x)=>a.jsx(E.div,{...An.fadeInUp(.3+x*.1),className:"rounded-2xl p-5",style:{background:te.colors.background.glass,border:`1px solid ${te.colors.border}`,boxShadow:te.shadows.glass},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"rounded-xl p-3 flex items-center justify-center",style:{background:te.colors.background.glass,border:`1px solid ${te.colors.border}`,boxShadow:te.shadows.glass},children:a.jsx(y.icon,{className:"w-6 h-6",style:{color:te.colors.text.primary}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",style:{color:te.colors.text.primary},children:y.value}),a.jsx("p",{className:"text-sm",style:{color:te.colors.text.muted},children:y.label})]})]})},y.label))}),a.jsx("nav",{className:"mb-8",children:a.jsx(E.div,{...An.fadeInUp(.4),className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:d.map(({id:y,label:x,icon:w})=>{const b=o===y;return a.jsx(E.button,{...An.buttonTap,onClick:()=>l(y),className:"w-full",children:a.jsxs("div",{className:"w-full rounded-2xl px-4 py-4 flex items-center gap-3 transition-all duration-300",style:{background:b?`linear-gradient(135deg, ${te.colors.accent.primary}, ${te.colors.accent.secondary})`:te.colors.background.glass,color:b?"#ffffff":te.colors.text.primary,boxShadow:b?te.shadows.button:te.shadows.glass,border:"none"},children:[a.jsx("div",{className:"rounded-xl p-3 flex items-center justify-center",style:{background:b?"rgba(255, 255, 255, 0.2)":te.colors.background.glass,boxShadow:b?"none":te.shadows.glass},children:a.jsx(w,{className:"w-5 h-5"})}),a.jsx("span",{className:"font-bold text-lg truncate",children:x})]})},y)})})}),a.jsx(E.section,{...An.fadeInUp(.5),className:"rounded-3xl overflow-hidden",style:{background:te.colors.background.glass,border:`1px solid ${te.colors.border}`,boxShadow:te.shadows.glass},children:h()})]})]})}function c6({src:e,size:t=512,quality:n=.9,onCropped:r,className:s=""}){const i=p.useRef(null);return M.useEffect(()=>{if(!e){r(null);return}const o=new Image;o.crossOrigin="anonymous",o.onload=()=>{const l=i.current;if(!l)return;l.width=t,l.height=t;const c=l.getContext("2d");if(!c)return;const u=o.naturalWidth,d=o.naturalHeight,f=Math.max(t/u,t/d),h=u*f,y=d*f,x=(t-h)/2,w=(t-y)/2;c.clearRect(0,0,t,t),c.drawImage(o,x,w,h,y),l.toBlob(b=>{if(!b){r(null);return}const m=new File([b],"avatar.webp",{type:"image/webp"});r(m)},"image/webp",n)},o.onerror=()=>r(null),o.src=e},[e,t,n,r]),a.jsxs("div",{className:["rounded-full overflow-hidden border border-white/10",s].join(" "),children:[e?a.jsx("img",{src:e,alt:"preview",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-white/5"}),a.jsx("canvas",{ref:i,className:"hidden"})]})}const Ne={colors:{text:{primary:"#ffffff",muted:"#b0b0b0",error:"#ff6b6b"},background:{glass:"rgba(40, 40, 50, 0.65)",item:"rgba(255,255,255,0.04)"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(215, 174, 251, 0.3)"},fonts:{body:'"Geist", "Inter", system-ui, sans-serif'}},bs={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),buttonTap:{whileTap:{scale:.97}}},Gc=({title:e,children:t,delay:n=.2})=>a.jsxs(E.div,{...bs.fadeInUp(n),className:"rounded-2xl p-5",style:{background:Ne.colors.background.glass,border:`1px solid ${Ne.colors.border}`,boxShadow:Ne.shadows.glass},children:[a.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:Ne.colors.text.primary},children:e}),a.jsx("div",{className:"space-y-4",children:t})]}),Zr=({icon:e,error:t,...n})=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 rounded-2xl px-4 py-3",style:{background:Ne.colors.background.item,border:`1px solid ${Ne.colors.border}`},children:[a.jsx(e,{className:"w-5 h-5",style:{color:Ne.colors.text.muted}}),a.jsx("input",{...n,className:"bg-transparent outline-none w-full text-sm placeholder-text-muted",style:{color:Ne.colors.text.primary,fontFamily:Ne.fonts.body}})]}),t&&a.jsx("p",{className:"text-xs mt-1.5",style:{color:Ne.colors.text.error},children:t})]}),Jr=({children:e,variant:t="primary",...n})=>{const r={primary:{background:`linear-gradient(135deg, ${Ne.colors.accent.primary}, ${Ne.colors.accent.secondary})`,color:"#ffffff",boxShadow:Ne.shadows.button},secondary:{background:Ne.colors.background.glass,color:Ne.colors.text.primary,border:`1px solid ${Ne.colors.border}`},danger:{background:"rgba(255, 107, 107, 0.1)",color:"#ff6b6b",border:"1px solid rgba(255, 107, 107, 0.3)"}};return a.jsx(E.button,{...bs.buttonTap,...n,className:"w-full h-12 rounded-full font-bold text-sm transition-all duration-300 flex items-center justify-center gap-2",style:r[t],children:e})};function u6(){const{user:e,updateProfile:t,logout:n}=ge(),[r,s]=p.useState(!1),[i,o]=p.useState(null),[l,c]=p.useState({nickname:(e==null?void 0:e.nickname)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[u,d]=p.useState({}),[f,h]=p.useState(null),[y,x]=p.useState((e==null?void 0:e.avatar)||""),[w,b]=p.useState(!1),m=p.useRef(null);p.useEffect(()=>{e&&(c(S=>({...S,nickname:e.nickname,email:e.email})),x(e.avatar||""),b(!1))},[e]);const v=(S=3e3)=>setTimeout(()=>o(null),S),g=()=>{const S={};return l.nickname.trim()||(S.nickname="Никнейм не может быть пустым"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(S.email="Некорректный email"),l.newPassword&&l.newPassword.length<8&&(S.newPassword="Пароль должен быть не менее 8 символов"),l.newPassword&&l.newPassword!==l.confirmPassword&&(S.confirmPassword="Пароли не совпадают"),d(S),Object.keys(S).length===0},k=S=>{var R;const N=(R=S.target.files)==null?void 0:R[0];N&&(b(!1),x(URL.createObjectURL(N)))},j=()=>{s(!1),d({}),h(null),b(!1),e&&(c({...l,nickname:e.nickname,email:e.email,currentPassword:"",newPassword:"",confirmPassword:""}),x(e.avatar||""))},C=async()=>{if(!g()){o({type:"error",text:"Исправьте ошибки в форме"}),v();return}const S={};if(l.nickname!==(e==null?void 0:e.nickname)&&(S.nickname=l.nickname),l.email!==(e==null?void 0:e.email)&&(S.email=l.email),f&&(S.avatarFile=f),w&&(S.avatarFile=null),l.newPassword&&l.currentPassword&&(S.oldPassword=l.currentPassword,S.password=l.newPassword),Object.keys(S).length>0){const N=await t(S);o({type:N.success?"success":"error",text:N.message}),N.success&&(s(!1),c(R=>({...R,currentPassword:"",newPassword:"",confirmPassword:""}))),v()}else s(!1)};return e?a.jsxs("div",{className:"relative min-h-screen p-2 sm:p-4",style:{fontFamily:Ne.fonts.body},children:[a.jsx(et,{intensity:.9,animated:!0}),a.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto w-full space-y-8",children:[a.jsx(E.div,{...bs.fadeInUp(.1),className:"text-center",children:a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black",style:{background:`linear-gradient(120deg, ${Ne.colors.text.primary} 0%, ${Ne.colors.accent.primary} 100%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Профиль"})}),i&&a.jsx(E.div,{...bs.fadeInUp(.2),className:"p-4 rounded-2xl",style:{background:i.type==="success"?"rgba(74, 222, 128, 0.1)":"rgba(255, 107, 107, 0.1)",border:`1px solid ${i.type==="success"?"rgba(74, 222, 128, 0.3)":"rgba(255, 107, 107, 0.3)"}`},children:a.jsx("p",{style:{color:i.type==="success"?"#4ade80":Ne.colors.text.error},children:i.text})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsx(Gc,{title:"Аватар",delay:.2,children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y&&!w?a.jsx(c6,{src:y,onCropped:h,className:"w-24 h-24"}):a.jsx("div",{className:"w-24 h-24 rounded-full border border-white/10 inline-flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ne.colors.accent.primary}, ${Ne.colors.accent.secondary})`},children:a.jsx(pe,{icon:lh,size:"avatar",style:{color:"#ffffff"}})}),r&&a.jsxs("div",{className:"w-full space-y-2",children:[a.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:k,className:"hidden"}),a.jsxs(Jr,{onClick:()=>{var S;return(S=m.current)==null?void 0:S.click()},variant:"secondary",children:[a.jsx(QT,{size:16})," Выбрать"]}),a.jsxs(Jr,{onClick:()=>{x(""),h(null),b(!0)},variant:"danger",children:[a.jsx(Gt,{size:16})," Удалить"]})]})]})})}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs(Gc,{title:"Данные аккаунта",delay:.3,children:[a.jsx(Zr,{icon:ol,label:"Логин",value:e.username,readOnly:!0,disabled:!0}),a.jsx(Zr,{icon:_r,label:"Никнейм",value:l.nickname,onChange:S=>c({...l,nickname:S.target.value}),disabled:!r,error:u.nickname}),a.jsx(Zr,{icon:A4,label:"Email",type:"email",value:l.email,onChange:S=>c({...l,email:S.target.value}),disabled:!r,error:u.email})]})}),r&&a.jsx("div",{className:"md:col-span-3",children:a.jsxs(Gc,{title:"Смена пароля",delay:.4,children:[a.jsx(Zr,{icon:Rs,type:"password",placeholder:"Текущий пароль",value:l.currentPassword,onChange:S=>c({...l,currentPassword:S.target.value}),error:u.currentPassword}),a.jsx(Zr,{icon:Rs,type:"password",placeholder:"Новый пароль",value:l.newPassword,onChange:S=>c({...l,newPassword:S.target.value}),error:u.newPassword}),a.jsx(Zr,{icon:Rs,type:"password",placeholder:"Подтвердите новый пароль",value:l.confirmPassword,onChange:S=>c({...l,confirmPassword:S.target.value}),error:u.confirmPassword})]})})]}),a.jsx(E.div,{...bs.fadeInUp(.5),className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r?a.jsxs(a.Fragment,{children:[a.jsxs(Jr,{onClick:C,children:[a.jsx(a1,{size:16})," Сохранить"]}),a.jsxs(Jr,{onClick:j,variant:"secondary",children:[a.jsx(Gt,{size:16})," Отмена"]})]}):a.jsxs(Jr,{onClick:()=>s(!0),children:[a.jsx(Co,{size:16})," Редактировать"]})}),a.jsx(E.div,{...bs.fadeInUp(.6),className:"pt-4",children:a.jsxs(Jr,{onClick:()=>n(),variant:"danger",children:[a.jsx(s1,{size:16})," Выйти из аккаунта"]})})]})]}):null}function d6({item:e}){const t=Array.isArray(e.actionButtons)?e.actionButtons:[];return a.jsxs("div",{className:"relative w-full h-full flex flex-col rounded-2xl overflow-hidden shadow-lg border border-white/10",style:{background:"var(--bg-glass)",fontFamily:"var(--font-family-body)"},children:[a.jsx("div",{className:"relative w-full h-0",style:{paddingTop:"100%"},children:a.jsx("img",{src:e.image,alt:e.name,className:"absolute top-0 left-0 w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4 flex flex-col flex-1",children:[e.category&&a.jsx("div",{className:"self-start mb-3 px-3 py-1 rounded-full text-xs font-semibold",style:{background:"var(--badge-tag)",color:"var(--text-secondary)",border:"1px solid var(--border-color)"},children:e.category}),a.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:e.name}),a.jsx("p",{className:"text-text-secondary text-sm mb-4 flex-grow",children:e.description}),a.jsx("div",{className:"mt-auto pt-4 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.price," ₽"]}),a.jsx("div",{className:"flex items-center gap-2",children:t.length>0&&t.map(n=>a.jsxs(E.a,{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 px-4 py-2 rounded-full font-semibold text-sm",style:{background:"var(--accent-primary)",color:"var(--bg-dark)"},whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(zT,{className:"h-4 w-4"}),a.jsx("span",{children:n.label})]},n.label))})]})})]})]})}function f6(){const{shopItems:e,loadShopItems:t,shopItemsLoading:n}=Ve(),{scrollY:r}=ur(),s=on(r,[0,500],[.3,.1]);p.useEffect(()=>{e.length===0&&t()},[t,e.length]);const i=e.filter(o=>o.isActive);return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:"var(--font-family-body)",backgroundColor:"var(--bg-dark)",color:"var(--text-primary)"},children:[a.jsx(et,{intensity:s}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...X.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:"var(--font-family-heading)",textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🛒 Магазин"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:"var(--text-muted)"},children:"Товары и услуги"})]}),n?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6",children:Array.from({length:4}).map((o,l)=>a.jsx(Fl,{},l))}):i.length>0?a.jsx(E.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:i.map(o=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:a.jsx(d6,{item:o})},o.id))}):a.jsxs(gt,{className:"text-center py-16",children:[a.jsx(E.div,{...X.float,className:"w-16 h-16 mx-auto mb-6 text-text-muted",children:a.jsx(jo,{size:40})}),a.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Магазин временно пуст"}),a.jsx("p",{className:"text-slate-400 max-w-md mx-auto",children:"Скоро здесь появятся удивительные товары и услуги."})]})]})]})}const Ae={colors:{text:{primary:"#ffffff",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb",secondary:"#ff6bd6"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",button:"0 6px 20px rgba(255, 107, 214, 0.3)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},ia={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}};function h6(){const{user:e}=ge(),{characters:t,loadCharacters:n,charactersLoading:r}=Ve(),s=rt(),{scrollY:i}=ur(),o=on(i,[0,500],[.3,.1]);p.useEffect(()=>{e&&t.length===0&&n()},[n,e,t.length]);const l=u=>{s(`/characters/${u.id}`)};if(!e)return a.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4",style:{fontFamily:Ae.fonts.body,backgroundColor:Ae.colors.background.dark},children:[a.jsx(et,{intensity:o}),a.jsxs("div",{className:"rounded-3xl p-8 border text-center max-w-md",style:{background:Ae.colors.background.glass,borderColor:Ae.colors.border,boxShadow:Ae.shadows.glass,color:Ae.colors.text.primary},children:[a.jsx(Or,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Доступ запрещен"}),a.jsx("p",{className:"text-sm",style:{color:Ae.colors.text.muted},children:"Войдите в систему для просмотра избранного"})]})]});const c=t.filter(u=>{var d;return(d=e.favorites)==null?void 0:d.includes(u.id)});return a.jsxs("div",{className:"min-h-screen w-full relative",style:{fontFamily:Ae.fonts.body,backgroundColor:Ae.colors.background.dark},children:[a.jsx(et,{intensity:o}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none px-2 sm:px-3 lg:px-4 py-4 lg:py-8",children:[a.jsxs(E.div,{...ia.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:Ae.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"❤️ Мои избранные"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:Ae.colors.text.muted},children:"Персонажи, которые покорили ваше сердце"})]}),r?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5 lg:gap-6",children:Array.from({length:8}).map((u,d)=>a.jsx(Fl,{},d))}):c.length>0?a.jsx(Te,{children:a.jsx(E.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-5 lg:gap-6",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:c.map((u,d)=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},transition:{duration:.6,ease:[.25,.1,.25,1],delay:d*.07},children:a.jsx(mh,{character:u,onClick:l})},u.id))})}):a.jsxs(E.div,{...ia.fadeInUp(.2),className:"text-center py-16 lg:py-24 rounded-3xl",style:{background:Ae.colors.background.glass,borderColor:Ae.colors.border,boxShadow:Ae.shadows.glass,color:Ae.colors.text.primary},children:[a.jsx(E.div,{...ia.float,className:"w-16 h-16 mx-auto mb-6 opacity-50",style:{color:Ae.colors.text.muted},children:a.jsx(fh,{})}),a.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-3",children:"В избранном пока пусто"}),a.jsx("p",{className:"text-sm sm:text-base mb-6 max-w-md mx-auto",style:{color:Ae.colors.text.muted},children:"Нажмите на сердечко на карточке персонажа, чтобы добавить его сюда."}),a.jsx(E.button,{...ia.buttonTap,onClick:()=>s("/characters"),className:"inline-block px-6 sm:px-8 py-3 sm:py-4 rounded-full font-bold text-sm sm:text-base transition-all duration-300",style:{background:`linear-gradient(135deg, ${Ae.colors.accent.primary}, ${Ae.colors.accent.secondary})`,color:"#ffffff",border:"none",boxShadow:Ae.shadows.button},children:"Перейти к персонажам"})]})]})]})}const st={border:"rgba(255,255,255,0.12)",itemBg:"rgba(255,255,255,0.04)",accent:"#f7cfe1"},p6=({file:e,onRemove:t})=>a.jsxs("div",{className:"relative group bg-slate-700/50 p-2 rounded-lg flex items-center space-x-2 border",style:{borderColor:st.border},children:[e.type.startsWith("image/")?a.jsx(pT,{className:"h-5 w-5 text-slate-400"}):a.jsx(dh,{className:"h-5 w-5 text-slate-400"}),a.jsx("span",{className:"text-xs text-slate-300 truncate",children:e.name}),a.jsx("button",{onClick:t,className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Gt,{size:12})})]}),m6=({msg:e,isOwn:t})=>a.jsx("div",{className:`flex w-full ${t?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-md p-3 rounded-2xl ${t?"bg-indigo-600 text-white rounded-br-none":"bg-slate-700/80 text-slate-200 rounded-bl-none"}`,children:[a.jsx("p",{className:"text-sm font-semibold",children:t?"Вы":e.userName}),a.jsx("p",{className:"text-sm mt-1 whitespace-pre-wrap break-words",children:e.content}),e.files&&e.files.length>0&&a.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:e.files.map(n=>{var r;return a.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-xs underline text-cyan-300 break-all",children:(r=n.split("/").pop())==null?void 0:r.split("?")[0]},n)})}),a.jsx("p",{className:`text-xs mt-2 ${t?"text-indigo-200":"text-slate-400"} text-right`,children:new Date(e.createdAt).toLocaleTimeString()})]})});function g6({ticket:e,onBack:t}){const{user:n}=ge(),{messages:r,addMessage:s,updateMessage:i}=Ve(),[o,l]=p.useState(""),[c,u]=p.useState([]),d=p.useRef(null),f=p.useMemo(()=>[e,...r.filter(y=>y.parent===e.id)].sort((y,x)=>new Date(y.createdAt).getTime()-new Date(x.createdAt).getTime()),[r,e]);p.useEffect(()=>{var y;(y=d.current)==null||y.scrollIntoView({behavior:"smooth"}),f.forEach(x=>{!x.isReadByUser&&x.userId!==(n==null?void 0:n.id)&&i(x.id,{isReadByUser:!0})})},[f,i,n==null?void 0:n.id]);const h=async()=>{if(!o.trim()&&c.length===0)return;const y=new FormData;y.append("content",o),y.append("parent",e.id),y.append("isTicket","false"),c.forEach(w=>y.append("files",w)),await s(y)&&(l(""),u([]))};return a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center space-x-3",children:[a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full",children:a.jsx(Qv,{})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h2",{className:"text-lg font-bold text-white truncate",children:e.subject}),a.jsxs("p",{className:"text-xs text-slate-300",children:["Тикет #",e.id.slice(-6)]})]})]}),a.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto custom-scrollbar",children:[f.map(y=>a.jsx(m6,{msg:y,isOwn:y.userId===(n==null?void 0:n.id)},y.id)),a.jsx("div",{ref:d})]}),a.jsxs("div",{className:"p-4 border-t border-white/10 bg-slate-800/50",children:[c.length>0&&a.jsx("div",{className:"mb-2 grid grid-cols-2 sm:grid-cols-3 gap-2",children:c.map((y,x)=>a.jsx(p6,{file:y,onRemove:()=>u(w=>w.filter((b,m)=>m!==x))},x))}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"file",multiple:!0,id:"file-input",className:"hidden",onChange:y=>u(x=>[...x,...Array.from(y.target.files||[])])}),a.jsx("label",{htmlFor:"file-input",className:"p-3 bg-slate-700/50 rounded-full cursor-pointer hover:bg-slate-600/50 border",style:{borderColor:st.border},children:a.jsx(o1,{})}),a.jsx("input",{type:"text",value:o,onChange:y=>l(y.target.value),placeholder:"Напишите ответ...",className:"w-full px-4 py-3 rounded-full text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-[var(--accent)]/50 border bg-black/20",style:{borderColor:st.border}}),a.jsx("button",{onClick:h,className:"p-3 rounded-full text-black",style:{background:st.accent},children:a.jsx(Ys,{})})]})]})]})}function y6({onBack:e}){const{addMessage:t}=Ve(),[n,r]=p.useState(""),[s,i]=p.useState(""),[o,l]=p.useState([]),c=async()=>{if(!n.trim()||!s.trim())return;const u=new FormData;u.append("subject",n),u.append("content",s),u.append("isTicket","true"),o.forEach(f=>u.append("files",f)),await t(u)&&e()};return a.jsxs("div",{className:"p-6",children:[a.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-slate-300 hover:text-white mb-4",children:[a.jsx(Qv,{size:18}),a.jsx("span",{children:"Назад"})]}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Новый тикет"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Тема обращения",className:"w-full px-4 py-3 rounded-xl border bg-black/20 focus:ring-2 focus:ring-[var(--accent)]/50 outline-none",style:{borderColor:st.border}}),a.jsx("textarea",{value:s,onChange:u=>i(u.target.value),rows:8,placeholder:"Опишите вашу проблему...",className:"w-full px-4 py-3 rounded-xl resize-none border bg-black/20 focus:ring-2 focus:ring-[var(--accent)]/50 outline-none",style:{borderColor:st.border}}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{htmlFor:"new-file-input",className:"flex items-center space-x-2 cursor-pointer text-cyan-400 hover:text-cyan-300",children:[a.jsx(o1,{size:18}),a.jsxs("span",{children:["Прикрепить файлы (",o.length,")"]})]}),a.jsx("input",{type:"file",multiple:!0,id:"new-file-input",className:"hidden",onChange:u=>l(d=>[...d,...Array.from(u.target.files||[])])}),a.jsx("button",{onClick:c,className:"px-5 py-2.5 rounded-xl font-semibold text-black",style:{background:st.accent},children:"Отправить"})]})]})]})}function x6(){const{user:e}=ge(),{messages:t,loadMessages:n}=Ve(),[r,s]=p.useState(null),[i,o]=p.useState(!1),l=jt();p.useEffect(()=>{n()},[n]),p.useEffect(()=>{var f;const d=(f=l.state)==null?void 0:f.ticketId;if(d&&t.length>0){const h=t.find(y=>y.id===d&&y.isTicket);h&&s(h)}},[l.state,t]);const c=p.useMemo(()=>{if(!e)return[];const d=t.filter(h=>h.isTicket&&h.userId===e.id),f=t.filter(h=>!h.isTicket);return d.map(h=>{const x=[h,...f.filter(w=>w.parent===h.id)].sort((w,b)=>new Date(b.createdAt).getTime()-new Date(w.createdAt).getTime())[0];return{...h,lastActivity:x?new Date(x.createdAt):new Date(h.createdAt)}}).sort((h,y)=>y.lastActivity.getTime()-h.lastActivity.getTime())},[t,e]),u=d=>t.some(f=>f.parent===d.id&&!f.isReadByUser&&f.userId!==(e==null?void 0:e.id));return r?a.jsx("div",{className:"max-w-4xl mx-auto rounded-3xl border overflow-hidden h-[85vh]",style:{borderColor:st.border,background:"rgba(255,255,255,0.04)"},children:a.jsx(g6,{ticket:r,onBack:()=>s(null)})}):i?a.jsx("div",{className:"max-w-4xl mx-auto rounded-3xl border",style:{borderColor:st.border,background:"rgba(255,255,255,0.04)"},children:a.jsx(y6,{onBack:()=>o(!1)})}):a.jsx("div",{className:"min-h-screen p-2 sm:p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"relative glass rounded-3xl p-6 border border-cyan-400/20",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative p-4 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl border border-white/20 shadow-lg",children:a.jsx(vT,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white mb-1",children:"Поддержка"}),a.jsx("p",{className:"text-slate-400",children:"Мои обращения"})]})]})})}),a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-center space-x-2 px-5 py-3 rounded-xl font-semibold text-black",style:{background:st.accent},children:[a.jsx(e1,{size:18}),a.jsx("span",{children:"Создать новый тикет"})]})}),a.jsx("div",{className:"rounded-2xl border p-3 space-y-3",style:{borderColor:st.border,background:"rgba(255,255,255,0.03)"},children:c.length>0?c.map(d=>{const f=u(d);return a.jsxs("div",{onClick:()=>s(d),className:"p-4 rounded-xl cursor-pointer hover:bg-white/5 flex justify-between items-center border",style:{borderColor:f?st.accent:st.border,background:st.itemBg},children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-semibold text-white truncate max-w-xs sm:max-w-md",children:d.subject}),a.jsxs("p",{className:"text-xs text-white",children:["Тикет #",d.id.slice(-6)," • Активность: ",new Date(d.lastActivity).toLocaleString()]})]}),f&&a.jsx("div",{className:"w-2.5 h-2.5 bg-pink-400 rounded-full animate-pulse flex-shrink-0 ml-4"})]},d.id)}):a.jsx("div",{className:"text-center text-slate-400 py-8",children:a.jsx("p",{children:"У вас еще нет обращений."})})})]})})}function v6(){const{pathname:e}=jt(),t=p.useRef(null);return p.useEffect(()=>{e!==t.current&&(window.scrollTo(0,0),t.current=e)},[e]),p.useEffect(()=>{const n=()=>{sessionStorage.setItem("scrollPosition",window.scrollY.toString())};window.addEventListener("scroll",n,{passive:!0});const r=sessionStorage.getItem("scrollPosition");return r&&window.scrollTo(0,parseInt(r)),()=>{window.removeEventListener("scroll",n)}},[]),null}function w6(e,t){const[n,r]=p.useState(e);return p.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n}const Qt=({label:e,icon:t,isActive:n,onClick:r,activeColorClass:s})=>a.jsxs("button",{onClick:r,className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold transition-all duration-300 border
      ${n?`${s} text-white border-transparent shadow-lg`:"text-slate-300 bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:[t,a.jsx("span",{children:e})]});function b6(){const{filteredUserCharacters:e,filters:t,setFilters:n,loading:r,loadUserCharacters:s}=ux(),{user:i}=ge(),o=rt(),[l,c]=p.useState(t.search),u=w6(l,500);p.useEffect(()=>{n({...t,search:u})},[u,n]),p.useEffect(()=>{!r&&e.length===0&&s()},[r,e.length,s]);const d=(b,m)=>{b!=="search"&&n({...t,[b]:m})},f=()=>{c(""),n({search:"",gender:"all",ageGroup:"all",sortBy:"newest"})},[h,y]=p.useState(!1),x=b=>{o(`/characters/${b.id}`)},w=()=>{o("/submit-character")};return a.jsx("div",{className:"min-h-screen relative p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"max-w-screen-xl mx-auto relative z-10",children:[a.jsxs(E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"glass rounded-3xl p-4 sm:p-6 mb-8 border border-white/10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 w-full sm:w-auto",children:[a.jsx(FT,{className:"absolute left-5 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 z-10"}),a.jsx("input",{type:"text",placeholder:"Найти персонажа...",value:l,onChange:b=>c(b.target.value),className:"w-full pl-14 pr-4 py-3 bg-slate-800/50 border border-transparent rounded-full text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 transition-all"})]}),a.jsx("button",{onClick:()=>y(!h),className:"p-3 bg-slate-800/50 rounded-full text-slate-300 hover:text-white hover:bg-slate-700/50 transition-colors flex-shrink-0",children:a.jsx(WT,{className:"h-5 w-5"})}),i&&a.jsxs("button",{onClick:w,className:"flex items-center space-x-2 px-5 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-full font-semibold hover:from-green-600 hover:to-emerald-600 transition-all flex-shrink-0",children:[a.jsx(e1,{className:"h-5 w-5"}),a.jsx("span",{children:"Предложить своего"})]})]}),a.jsx(Te,{children:h&&a.jsx(E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:a.jsxs("div",{className:"border-t border-white/10 pt-4 mt-4 space-y-5",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Пол"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Qt,{label:"Все",icon:a.jsx(Vr,{size:16}),isActive:t.gender==="all",onClick:()=>d("gender","all"),activeColorClass:"bg-slate-600"}),a.jsx(Qt,{label:"Мужчины",icon:a.jsx(i1,{size:16}),isActive:t.gender==="male",onClick:()=>d("gender","male"),activeColorClass:"bg-blue-600"}),a.jsx(Qt,{label:"Девушки",icon:a.jsx(u1,{size:16}),isActive:t.gender==="female",onClick:()=>d("gender","female"),activeColorClass:"bg-pink-600"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Возраст"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Qt,{label:"Все",icon:a.jsx(Vr,{size:16}),isActive:t.ageGroup==="all",onClick:()=>d("ageGroup","all"),activeColorClass:"bg-slate-600"}),a.jsx(Qt,{label:"18+",icon:a.jsx(ug,{size:16}),isActive:t.ageGroup==="18+",onClick:()=>d("ageGroup","18+"),activeColorClass:"bg-green-600"}),a.jsx(Qt,{label:"45+",icon:a.jsx(ug,{size:16}),isActive:t.ageGroup==="45+",onClick:()=>d("ageGroup","45+"),activeColorClass:"bg-teal-600"}),a.jsx(Qt,{label:"Бессмертные",icon:a.jsx(hh,{size:16}),isActive:t.ageGroup==="immortal",onClick:()=>d("ageGroup","immortal"),activeColorClass:"bg-indigo-600"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:"Сортировка"}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Qt,{label:"Стандартно",icon:a.jsx(hd,{size:16}),isActive:t.sortBy==="newest",onClick:()=>d("sortBy","newest"),activeColorClass:"bg-slate-600"}),a.jsx(Qt,{label:"По рейтингу",icon:a.jsx(ph,{size:16}),isActive:t.sortBy==="rating",onClick:()=>d("sortBy","rating"),activeColorClass:"bg-yellow-600"}),a.jsx(Qt,{label:"По имени",icon:a.jsx(Xv,{size:16}),isActive:t.sortBy==="name",onClick:()=>d("sortBy","name"),activeColorClass:"bg-sky-600"})]})]})]})})})]}),r?a.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:Array.from({length:8}).map((b,m)=>a.jsx(Fl,{},m))}):e.length>0?a.jsx(E.div,{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",variants:{show:{transition:{staggerChildren:.07}}},initial:"hidden",animate:"show",children:e.map(b=>a.jsx(E.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},children:a.jsx(mh,{character:b,onClick:x})},b.id))}):a.jsxs("div",{className:"text-center py-20 glass rounded-3xl border border-white/10",children:[a.jsx(fh,{className:"h-24 w-24 text-slate-500 mx-auto mb-6"}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:"Персонажи не найдены"}),a.jsx("p",{className:"text-slate-400 mb-8 text-lg",children:"Попробуйте изменить критерии поиска."}),a.jsx("button",{onClick:f,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-cyan-500 text-white rounded-2xl font-semibold hover:opacity-90 transition-opacity",children:"Сбросить фильтры"})]})]})})}function k6(){var g,k;const{user:e}=ge(),{addUserCharacter:t}=ux(),n=rt(),[r,s]=p.useState(null),[i,o]=p.useState({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,ageGroup:"18+",tags:[],links:[]}),[l,c]=p.useState(!1),[u,d]=p.useState(null);if(!e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass rounded-3xl p-8 border border-red-500/20 text-center",children:[a.jsx(Vs,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Доступ запрещен"}),a.jsx("p",{className:"text-slate-400",children:"Войдите в систему, чтобы предложить персонажа"})]})});const f=j=>{const{name:C,value:S}=j.target;o({...i,[C]:S})},h=j=>{const C=parseInt(j.target.value,10),S=isNaN(C)?0:Math.max(0,C);o({...i,age:S,ageGroup:Sf(S)})},y=()=>{const j=prompt("Введите новый тег:");j&&o(C=>({...C,tags:[...C.tags||[],j.trim()]}))},x=j=>{o(C=>({...C,tags:(C.tags||[]).filter((S,N)=>N!==j)}))},w=()=>{o(j=>({...j,links:[...j.links||[],{label:"",url:""}]}))},b=(j,C,S)=>{o(N=>({...N,links:(N.links||[]).map((R,T)=>T===j?{...R,[C]:S}:R)}))},m=j=>{o(C=>({...C,links:(C.links||[]).filter((S,N)=>N!==j)}))},v=async j=>{var S,N;if(j.preventDefault(),!((S=i.name)!=null&&S.trim())||!((N=i.occupation)!=null&&N.trim())||!r){d({type:"error",text:"Пожалуйста, заполните обязательные поля: Имя, Профессия и Фото."});return}c(!0),d(null);const C=new FormData;Object.entries(i).forEach(([R,T])=>{R==="tags"||R==="links"?C.append(R,JSON.stringify(T)):T!=null&&C.append(R,String(T))}),r&&C.append("photo",r),C.append("createdBy",e.id);try{await t(C)?(d({type:"success",text:"Ваш персонаж успешно отправлен на рассмотрение!"}),o({name:"",occupation:"",description:"",fullDescription:"",gender:"female",age:18,ageGroup:"18+",tags:[],links:[]}),s(null),j.target.reset(),setTimeout(()=>n("/user-characters"),3e3)):d({type:"error",text:"Ошибка при отправке персонажа. Попробуйте еще раз."})}catch(R){console.error("Ошибка при отправке персонажа:",R),d({type:"error",text:"Произошла ошибка при отправке."})}finally{c(!1)}};return a.jsxs("div",{className:"min-h-screen p-4 lg:p-8",children:[a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"relative glass rounded-3xl p-6 lg:p-8 border border-green-400/20 shadow-2xl",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative p-4 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl border border-white/20 shadow-2xl",children:a.jsx(Vs,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-black bg-gradient-to-r from-white via-green-200 to-emerald-200 bg-clip-text text-transparent mb-2",children:"Предложить персонажа"}),a.jsx("p",{className:"text-slate-400",children:"Добавьте своего уникального AI-персонажа в каталог"})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto glass rounded-3xl border border-white/10 overflow-hidden",children:a.jsxs("form",{onSubmit:v,className:"p-6 lg:p-8 space-y-6",children:[u&&a.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},className:`mb-4 p-4 rounded-2xl border text-sm ${u.type==="success"?"bg-green-500/20 border-green-500/30 text-green-300":"bg-red-500/20 border-red-500/30 text-red-300"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[u.type==="success"?a.jsx(Check,{className:"h-4 w-4"}):a.jsx(Gt,{className:"h-4 w-4"}),a.jsx("span",{children:u.text})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Имя ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",name:"name",value:i.name||"",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50",placeholder:"Введите имя персонажа",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Профессия ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",name:"occupation",value:i.occupation||"",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50",placeholder:"Введите профессию",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Краткое описание"}),a.jsx("textarea",{name:"description",value:i.description||"",onChange:f,rows:3,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50 resize-none",placeholder:"Краткое описание персонажа"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Полное описание"}),a.jsx("textarea",{name:"fullDescription",value:i.fullDescription||"",onChange:f,rows:4,className:"w-full px-4 py-3 glass rounded-xl text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500/50 resize-none",placeholder:"Подробное описание персонажа"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Фотография ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"file",required:!0,onChange:j=>s(j.target.files?j.target.files[0]:null),accept:"image/*",className:"w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-500/10 file:text-green-300 hover:file:bg-green-500/20"}),r&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:URL.createObjectURL(r),alt:"Превью",className:"w-24 h-24 rounded-xl object-cover"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Пол"}),a.jsxs("select",{name:"gender",value:i.gender||"female",onChange:f,className:"w-full px-4 py-3 glass rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500/50",children:[a.jsx("option",{value:"female",children:"Женский"}),a.jsx("option",{value:"male",children:"Мужской"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Возраст"}),a.jsx("input",{type:"number",name:"age",value:i.age||0,onChange:h,className:"w-full px-4 py-3 glass rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-green-500/50",min:"0"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Введите 0, если персонаж бессмертный."})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Теги"}),a.jsx("button",{type:"button",onClick:y,className:"text-sm text-green-400 hover:text-white transition-colors",children:"+ Добавить тег"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(g=i.tags)==null?void 0:g.map((j,C)=>a.jsxs("span",{className:"flex items-center space-x-1 px-3 py-1 bg-green-500/20 text-green-300 rounded-lg text-sm",children:[a.jsx("span",{children:j}),a.jsx("button",{type:"button",onClick:()=>x(C),className:"text-green-400 hover:text-red-400 transition-colors",children:a.jsx(Gt,{className:"h-3 w-3"})})]},C))})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Ссылки"}),a.jsx("button",{type:"button",onClick:w,className:"text-sm text-cyan-400 hover:text-white transition-colors",children:"+ Добавить ссылку"})]}),a.jsx("div",{className:"space-y-2",children:(k=i.links)==null?void 0:k.map((j,C)=>a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",placeholder:"Название ссылки",value:j.label,onChange:S=>b(C,"label",S.target.value),className:"flex-1 px-3 py-2 glass rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 text-sm"}),a.jsx("input",{type:"url",placeholder:"https://example.com",value:j.url,onChange:S=>b(C,"url",S.target.value),className:"flex-1 px-3 py-2 glass rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 text-sm"}),a.jsx("button",{type:"button",onClick:()=>m(C),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:a.jsx(Gt,{className:"h-4 w-4"})})]},C))})]})]})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center space-x-2 px-6 py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all disabled:opacity-50 font-bold text-lg",children:l?a.jsx(ko,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(Ys,{className:"h-5 w-5"}),a.jsx("span",{children:"Отправить персонажа"})]})})]})})]})}const W={colors:{text:{primary:"#ffffff",secondary:"#e0e0e0",muted:"#b0b0b0"},background:{glass:"rgba(40, 40, 50, 0.65)",glassHover:"rgba(50, 50, 65, 0.8)",dark:"#121218"},border:"rgba(255, 255, 255, 0.08)",accent:{primary:"#d7aefb"},notification:{reply:"#4ade80",status:"#a78bfa",admin:"#fbbf24",order:"#4ade80",message:"#fbbf24",userChar:"#2dd4bf",like:"#4ade80",dislike:"#f87171",support:"#a78bfa",default:"#6b7280"}},shadows:{glass:"0 8px 32px rgba(0, 0, 0, 0.35)",accent:"0 4px 16px rgba(215, 174, 251, 0.4)"},fonts:{heading:'"Geist", "Inter", system-ui, sans-serif',body:'"Geist", "Inter", system-ui, sans-serif'}},es={fadeInUp:(e=0)=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1],delay:e}}),fadeInStagger:{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"}},buttonTap:{whileTap:{scale:.97}},buttonPulse:{animate:{scale:[1,1.05,1]},transition:{duration:.4,ease:"easeInOut"}},float:{animate:{y:[0,-8,0]},transition:{repeat:1/0,duration:2,ease:"easeInOut"}}},j6=({type:e,isUnread:t})=>{const n=()=>{switch(e){case"reply":return a.jsx(sl,{className:"w-5 h-5"});case"status_change":return a.jsx(JT,{className:"w-5 h-5"});case"admin_reply":return a.jsx(ao,{className:"w-5 h-5"});case"new_order":return a.jsx(F4,{className:"w-5 h-5"});case"new_message":return a.jsx(sl,{className:"w-5 h-5"});case"new_user_character":return a.jsx(t3,{className:"w-5 h-5"});case"like":return a.jsx(c1,{className:"w-5 h-5"});case"dislike":return a.jsx(l1,{className:"w-5 h-5"});case"support_reply":return a.jsx(ao,{className:"w-5 h-5"});default:return a.jsx($l,{className:"w-5 h-5"})}},r=()=>{switch(e){case"reply":return W.colors.notification.reply;case"status_change":return W.colors.notification.status;case"admin_reply":return W.colors.notification.admin;case"new_order":return W.colors.notification.order;case"new_message":return W.colors.notification.message;case"new_user_character":return W.colors.notification.userChar;case"like":return W.colors.notification.like;case"dislike":return W.colors.notification.dislike;case"support_reply":return W.colors.notification.support;default:return W.colors.notification.default}};return a.jsx("div",{className:"p-3 rounded-full flex items-center justify-center transition-all duration-300",style:{background:t?r():W.colors.background.glass,color:t?"#0a0a12":W.colors.text.primary,boxShadow:t?`0 4px 16px ${r()}40`:W.shadows.glass,border:`1px solid ${t?r():W.colors.border}`},children:n()})};function C6(){const{user:e,isAdmin:t}=ge(),{notifications:n,newsletters:r,markNotificationAsRead:s,loadNotifications:i,loadNewsletters:o}=Ve(),l=rt(),[c,u]=p.useState(null),{scrollY:d}=ur(),f=on(d,[0,500],[.3,.1]);p.useEffect(()=>{e&&(i(),o())},[e,i,o]);const h=w=>{if(w.itemType==="notification"){if(w.isRead||s(w.id),t)switch(w.type){case"new_order":l("/admin",{state:{initialTab:"orders"}});return;case"new_message":l("/admin",{state:{initialTab:"messages"}});return;case"new_user_character":l("/admin",{state:{initialTab:"user-characters"}});return}(w.type==="reply"||w.type==="status_change"||w.type==="like"||w.type==="dislike")&&l(`/characters/${w.entityId}`),w.type==="support_reply"&&l("/support",{state:{ticketId:w.entityId}})}else u(w)},y=p.useMemo(()=>[...n.map(w=>({...w,itemType:"notification"})),...r.map(w=>({...w,itemType:"newsletter"}))].sort((w,b)=>new Date(b.createdAt).getTime()-new Date(w.createdAt).getTime()),[n,r]),x=p.useMemo(()=>n.filter(w=>!w.isRead).length,[n]);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"min-h-screen w-full relative p-2 sm:p-4 pt-4 sm:pt-6",style:{fontFamily:W.fonts.body,backgroundColor:W.colors.background.dark},children:[a.jsx(et,{intensity:f}),a.jsxs("div",{className:"relative z-10 mx-auto w-full max-w-none",children:[a.jsxs(E.div,{...es.fadeInUp(.1),className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black leading-tight",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:W.fonts.heading,textShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🔔 Уведомления"}),a.jsx("p",{className:"mt-2 text-base sm:text-lg",style:{color:W.colors.text.muted},children:x>0?`У вас ${x} новых уведомлений`:"Нет новых уведомлений"})]}),a.jsx("div",{className:"max-w-2xl mx-auto space-y-4",children:y.length>0?a.jsx(Te,{children:y.map((w,b)=>{const m=w.itemType==="notification"&&!w.isRead;return a.jsx(E.div,{...es.fadeInUp(.2+b*.05),onClick:()=>h(w),className:"relative overflow-hidden rounded-2xl p-5 border transition-all duration-300 cursor-pointer",style:{background:m?W.colors.background.glassHover:W.colors.background.glass,borderColor:m?W.colors.accent.primary:W.colors.border,boxShadow:m?W.shadows.accent:W.shadows.glass},children:a.jsxs("div",{className:"flex items-start gap-4",children:[w.itemType==="notification"?a.jsx(j6,{type:w.type,isUnread:m}):a.jsx("div",{className:"p-3 rounded-full flex items-center justify-center transition-all duration-300",style:{background:W.colors.background.glass,color:W.colors.text.primary,boxShadow:W.shadows.glass,border:`1px solid ${W.colors.border}`},children:a.jsx(Ys,{className:"w-5 h-5",style:{color:"#fbbf24"}})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-display font-semibold leading-tight",style:{color:m?W.colors.text.primary:W.colors.text.secondary},children:w.itemType==="notification"?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-bold",style:{color:W.colors.text.primary},children:w.senderName})," ",w.message]}):a.jsx("span",{className:"font-bold",style:{color:W.colors.text.primary},children:w.title})}),a.jsx("p",{className:"text-xs mt-2",style:{color:W.colors.text.muted},children:new Date(w.createdAt).toLocaleString()})]}),m&&a.jsx(E.div,{...es.float,className:"absolute top-2 right-2 w-3 h-3 rounded-full",style:{background:W.colors.accent.primary,boxShadow:W.shadows.accent}})]})},`${w.itemType}-${w.id}`)})}):a.jsxs(E.div,{...es.fadeInUp(.2),className:"text-center py-16 lg:py-24 rounded-3xl",style:{background:W.colors.background.glass,borderColor:W.colors.border,boxShadow:W.shadows.glass,color:W.colors.text.primary},children:[a.jsx(E.div,{...es.float,className:"w-16 h-16 mx-auto mb-6 opacity-50",style:{color:W.colors.text.muted},children:a.jsx($l,{})}),a.jsx("h3",{className:"text-2xl sm:text-3xl font-bold mb-3",children:"Здесь пока пусто"}),a.jsx("p",{className:"mb-6 max-w-md mx-auto",style:{color:W.colors.text.muted},children:"Новые уведомления будут появляться тут."})]})})]})]}),a.jsx(Te,{children:c&&a.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)"},onClick:()=>u(null),children:a.jsxs(E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:w=>w.stopPropagation(),className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl border",style:{background:W.colors.background.glass,borderColor:W.colors.border,boxShadow:W.shadows.glass},children:[c.image&&a.jsx("img",{src:c.image,alt:c.title,className:"w-full h-64 object-cover border-b",style:{borderColor:W.colors.border}}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black mb-2",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",color:"transparent",fontFamily:W.fonts.heading},children:c.title}),a.jsxs("p",{className:"text-xs",style:{color:W.colors.text.muted},children:["От Администрации • ",new Date(c.createdAt).toLocaleString()]})]}),a.jsx(E.button,{...es.buttonTap,onClick:()=>u(null),className:"p-2 rounded-full",style:{background:W.colors.background.glass,color:W.colors.text.muted,border:`1px solid ${W.colors.border}`},"aria-label":"Закрыть",children:a.jsx(Y4,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"prose prose-invert max-w-none",style:{color:W.colors.text.secondary,fontFamily:W.fonts.body},dangerouslySetInnerHTML:{__html:c.content||""}})]})]})})})]})}const S6=({isLoading:e,minShowMs:t=800,fadeOutMs:n=500,enterDelayMs:r=0})=>{const[s,i]=p.useState(e),o=p.useRef(null),l=p.useRef(null),c=p.useRef(null);return p.useEffect(()=>()=>{l.current&&clearTimeout(l.current),c.current&&clearTimeout(c.current)},[]),p.useEffect(()=>{if(e){l.current&&clearTimeout(l.current),c.current&&clearTimeout(c.current);const u=()=>{o.current=Date.now(),i(!0)};r>0?l.current=setTimeout(u,r):u()}else{const u=o.current??Date.now(),d=Date.now()-u,f=Math.max(t-d,0);c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{i(!1)},f)}},[e,t,r]),a.jsx(Te,{children:s&&a.jsxs(E.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:n/1e3},className:"fixed inset-0 z-[1000] flex flex-col items-center justify-center",children:[a.jsx(et,{intensity:1,animated:!0}),a.jsxs(E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-center",children:[a.jsx("img",{src:"/icons/icon-192x192.png",alt:"CAS Каталог",className:"w-24 h-24 mx-auto mb-4"}),a.jsx("h1",{className:"text-3xl font-black",style:{background:"linear-gradient(120deg, #ffffff 0%, #d7aefb 50%, #ff6bd6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontFamily:'"Geist", "Inter", system-ui, sans-serif'},children:"CAS Каталог"}),a.jsx("p",{className:"text-slate-400 mt-2",children:"Загрузка данных..."})]}),a.jsx(E.div,{className:"w-full max-w-xs h-1 bg-white/10 rounded-full mt-8 overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:a.jsx(E.div,{className:"h-full rounded-full",style:{background:"linear-gradient(90deg, #d7aefb, #ff6bd6)"},initial:{x:"-100%"},animate:{x:"0%"},transition:{duration:1.5,ease:"easeInOut",repeat:1/0,repeatType:"loop"}})})]})})};function N6(){p.useEffect(()=>{let e=0;const t=()=>{const r=window.visualViewport,s=((r==null?void 0:r.height)??window.innerHeight)*.01;document.documentElement.style.setProperty("--vh",`${s}px`);const i=r?r.height<window.innerHeight*.75:!1;document.documentElement.style.setProperty("--keyboard-visible",i?"1":"0")},n=()=>{e&&cancelAnimationFrame(e),e=requestAnimationFrame(t)};return n(),window.addEventListener("resize",n),window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("orientationchange",n),window.visualViewport&&(window.visualViewport.addEventListener("resize",n),window.visualViewport.addEventListener("scroll",n)),()=>{e&&cancelAnimationFrame(e),window.removeEventListener("resize",n),window.removeEventListener("scroll",n),window.removeEventListener("orientationchange",n),window.visualViewport&&(window.visualViewport.removeEventListener("resize",n),window.visualViewport.removeEventListener("scroll",n))}},[])}function T6({children:e}){const{user:t,loading:n}=ge();return n?null:(t==null?void 0:t.role)==="admin"?a.jsx(a.Fragment,{children:e}):a.jsx(Xa,{to:"/"})}function oi({children:e}){const{user:t,loading:n}=ge();return n?null:t?a.jsx(a.Fragment,{children:e}):a.jsx(Xa,{to:"/login"})}function E6(){const{loading:e}=Ve(),{loading:t}=ge();N6();const n=e||t;return a.jsxs(a.Fragment,{children:[a.jsx(S6,{isLoading:n}),a.jsx(Te,{children:!n&&a.jsxs(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[a.jsx(v6,{}),a.jsxs(Nk,{children:[a.jsx(Be,{path:"/login",element:a.jsx(x3,{})}),a.jsx(Be,{path:"/register",element:a.jsx(v3,{})}),a.jsxs(Be,{path:"/",element:a.jsx(y3,{}),children:[a.jsx(Be,{index:!0,element:a.jsx(Xa,{to:"/characters",replace:!0})}),a.jsx(Be,{path:"characters",element:a.jsx(A3,{})}),a.jsx(Be,{path:"characters/:characterId",element:a.jsx(y1,{})}),a.jsx(Be,{path:"rating",element:a.jsx($3,{})}),a.jsx(Be,{path:"shop",element:a.jsx(f6,{})}),a.jsx(Be,{path:"profile",element:a.jsx(oi,{children:a.jsx(u6,{})})}),a.jsx(Be,{path:"favorites",element:a.jsx(oi,{children:a.jsx(h6,{})})}),a.jsx(Be,{path:"support",element:a.jsx(oi,{children:a.jsx(x6,{})})}),a.jsx(Be,{path:"notifications",element:a.jsx(oi,{children:a.jsx(C6,{})})}),a.jsx(Be,{path:"user-characters",element:a.jsx(b6,{})}),a.jsx(Be,{path:"submit-character",element:a.jsx(oi,{children:a.jsx(k6,{})})}),a.jsx(Be,{path:"admin",element:a.jsx(T6,{children:a.jsx(l6,{})})})]}),a.jsx(Be,{path:"*",element:a.jsx(Xa,{to:"/",replace:!0})})]})]})})]})}function P6(){return a.jsx(Mk,{children:a.jsx(sj,{children:a.jsx(oj,{children:a.jsx(aj,{children:a.jsx(gj,{children:a.jsx(E6,{})})})})})})}function R6(){try{const e=()=>{var n;const t=Math.max(window.innerHeight||0,((n=document.documentElement)==null?void 0:n.clientHeight)||0,window.screen&&window.screen.height||0);document.documentElement.style.setProperty("--lvh",`${t}px`)};e(),window.addEventListener("orientationchange",()=>setTimeout(e,300),{passive:!0})}catch{}}R6();"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("[SW] Service Worker УСПЕШНО зарегистрирован:",e)}).catch(e=>{console.error("[SW] ОШИБКА регистрации Service Worker:",e)});Yc.createRoot(document.getElementById("root")).render(a.jsx(M.StrictMode,{children:a.jsx(P6,{})}));
